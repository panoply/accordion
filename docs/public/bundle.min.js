(function () {
	'use strict';

	var A=(e,t,n)=>new Promise((s,i)=>{var o=c=>{try{l(n.next(c));}catch(f){i(f);}},a=c=>{try{l(n.throw(c));}catch(f){i(f);}},l=c=>c.done?s(c.value):Promise.resolve(c.value).then(o,a);l((n=n.apply(e,t)).next());});var Mn=Object.defineProperty,Rn=(e,t)=>{for(var n in t)Mn(e,n,{get:t[n],enumerable:!0});},W=typeof window!="undefined"?window:{screen:{},navigator:{}},ce=(W.matchMedia||function(){return {matches:!1}}).bind(W),In={get passive(){return !0}},Ut=function(){};W.addEventListener&&W.addEventListener("p",Ut,In);W.removeEventListener&&W.removeEventListener("p",Ut,!1);var gt="ontouchstart"in W,jn="TouchEvent"in W,Yt=gt||jn&&ce("(any-pointer: coarse)").matches,Ht=(W.navigator.maxTouchPoints||0)>0||Yt,Vt=W.navigator.userAgent||"",Wn=ce("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Vt)&&Math.min(W.screen.width||0,W.screen.height||0)>=768,Xn=(ce("(pointer: coarse)").matches||!ce("(pointer: fine)").matches&&gt)&&!/Windows.*Firefox/.test(Vt),Dn=ce("(any-pointer: fine)").matches||ce("(any-hover: hover)").matches||Wn||!gt,Re=Ht&&(Dn||!Xn)?"hybrid":Ht?"touchOnly":"mouseOnly",Kt=typeof window!="undefined";"content"in document.createElement("template");document.createRange&&"createContextualFragment"in document.createRange();var H=Yt?"pointer":"mouse",Ee=window.location.origin,{assign:M,keys:Ai,entries:Li}=Object,xe=Object.defineProperty,he=Object.defineProperties,Mt=Object.create,{isArray:K}=Array,zn=Array.from,E="",{warn:Rt,info:Fn,error:It}=console,S=()=>document.body,Bn=()=>document.head,v=e=>e?M(Mt(null),e):Mt(null),de=e=>new Set(e),Un=e=>new Proxy(v(),e),te=()=>new Map,k=class extends XMLHttpRequest{constructor(){super(...arguments),this.key=null;}};k.o=te(),k.a=te(),k.r=v();var r=v({index:"",eval:!0,patched:!1,loaded:!1,logLevel:2,qs:v(),config:v({fragments:["body"],timeout:3e4,globalThis:!0,schema:"spx-",manual:!1,logLevel:2,cache:!0,components:null,maxCache:100,reverse:!0,preload:null,annotate:!1,eval:v({script:null,style:null,link:null,meta:!1}),hover:v({trigger:"href",threshold:250}),intersect:v({rootMargin:"0px 0px 0px 0px",threshold:0}),proximity:v({distance:75,threshold:250,throttle:500}),progress:v({bgColor:"#111",barHeight:"3px",minimum:.08,easing:"linear",speed:200,threshold:500,trickle:!0,trickleSpeed:200})}),fragments:te(),components:v({registry:te(),instances:te(),connected:de(),elements:te(),reference:Un({get:(e,t)=>r.components.instances.get(e[t])})}),events:v(),observe:v(),memory:v(),pages:v(),snaps:v(),resources:de()});function m(e,t,n){let s="\x1B[96mSPX\x1B[0m ",i=r.config.logLevel;if(K(t)&&(t=t.join(" ")),e===1&&i===1||e===2&&(i===1||i===2))Fn(`${s}%c${t}`,`color: ${n||"#999"};`);else if(e===3&&i<4)n?Rt(s+t,n):Rt(s+t);else if(e===5||e===4){n?It(s+t,n):It(s+t);try{throw e===4?new TypeError(t):new Error(t)}catch(o){}}}var Yn=/\b(?:append|prepend)/,Vn=/\s+/g,st=/^\b(?:true|false)$/i,Gt=/^\d*\.?\d+$/,it=/^(?:[.-]?\d*\.?\d+|NaN)$/,Kn=/\b(?:intersect|hover|proximity)\b/,Gn=/\b(?:SCRIPT|STYLE|LINK)\b/,Jn=/\[(['"]?.*['"]?,?)\]/,jt=/[xy]\s*|\d*\.?\d+/gi;function Zn(e){let t=e.replace(/\s+,/g,",").replace(/,\s+/g,",").replace(/['"]/g,E);return t.charCodeAt(0)===91&&(/^\[\s*\[/.test(t)||/,/.test(t)&&/\]$/.test(t))&&(t=t.replace(/^\[/,E).replace(/\]$/,E)),t.split(/,|\|/)}function Ie(e,t){try{let n=(t||e).replace(/\\'|'/g,s=>s[0]==="\\"?s:'"').replace(/([{,])\s*(.+?)\s*:/g,'$1 "$2":');return JSON.parse(n)}catch(n){return m(5,"Invalid JSON expression in attribute value: "+JSON.stringify(e||t,null,2),n),t}}function ve(e){return e[e.length-1]}function Qn(e){return e.replace(/\s+/g," ").trim()}function _n(e){return e.replace(/\./g,"\\.").replace(/@/g,"\\@").replace(/:/g,"\\:")}function vt(e){return Qn(e.replace(/[\s .]+/g,".")).replace(/\s+/g," ").trim().split(/[ ,]/)}function es(e){if(it.test(e))return e==="NaN"?NaN:+e;if(st.test(e))return e==="true";let t=e.charCodeAt(0);return t===123||t===91?Ie(e):e}function ts(){return new Promise(e=>setTimeout(()=>e(),1))}function _(e){setTimeout(()=>e(),1);}function ns(){return Promise.resolve()}function ss(e){let t=document.createElement("textarea");return t.innerHTML=e,t.value}function Jt(){return new Date().getTime()}function yt(e){return t=>t?typeof t=="string"?t in e:t.every(n=>n in e):!1}function q(e,t){return e?t in e:!1}function Zt(e,t,n){if(arguments.length>1)xe(e,t,{get(){return n}});else return (s,i,o)=>{if(q(e,s))return;function a(){return i}return xe(e,s,o?M(o,{get:a}):{get:a})}}function Qt(e){return q(e,"target")?e.target.length===1&&e.target[0]==="body"?e.target:e.target.filter((t,n,s)=>t!=="body"&&t!==E&&t.indexOf(",")===-1?s.indexOf(t)===n:!1):r.config.fragments.length===1&&r.config.fragments[0]==="body"?["body"]:[]}function bt(e){return e.length===1&&e[0]==="body"?"body":e.length===0?null:e.join(",")}function xt(e){let t=typeof e;if(t==="object"){for(let n in e)return !1;return !0}else {if(t==="string")return e[0]===void 0;if(K(e))return e.length>0}return !1}function is(...e){return e.join(E)}var V=function e(t=5){let n=Math.random().toString(36).slice(-t);return e.g.has(n)?e(t):(e.g.add(n),n)};V.g=de();function rs(e=2){return (t,n)=>{let s=t.length;return (s<1||t[s-1].length===e?t.push([n]):t[s-1].push(n))&&t}}function os(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":e<1073741824?(e/1048576).toFixed(1)+" MB":(e/1073741824).toFixed(1)+" GB"}function _t(e){return e[0].toLowerCase()+e.slice(1)}function rt(e){return e[0].toUpperCase()+e.slice(1)}function Fe(e){return /[_-]/.test(_t(e))?e.replace(/([_-]+).{1}/g,(t,n)=>t[n.length].toUpperCase()):e}function we(e,t){let n=typeof e=="string"?S().querySelectorAll(e):e,s=n.length;if(s!==0)for(let i=0;i<s&&t(n[i],i)!==!1;i++);}function ie(e,t){if(arguments.length===1)return s=>ie(e,s);let n=t.length;if(n!==0)for(let s=0;s<n;s++)e(t[s],s,t);}function Wt(e){for(let t in e)delete e[t];}function as(){if(r.patched)return;r.patched=!0;let e=Element.prototype.setAttribute,t=document.createElement("i");Element.prototype.setAttribute=function(n,s){if(n.indexOf("@")<0)return e.call(this,n,s);t.innerHTML=`<i ${n}="${s}"></i>`;let i=t.firstElementChild.getAttributeNode(n);t.firstElementChild.removeAttributeNode(i),this.setAttributeNode(i);};}function ls(){let e=[],t=document.createElement("div"),n=null,s,i=null,o=({bgColor:y,barHeight:$,speed:U,easing:Hn})=>{t.style.cssText=is("pointer-events:none;",`background-color:${y};`,`height:${$};`,"position:fixed;","display:block;","z-index:2147483647;","top:0;","left:0;","width:100%;","will-change:opacity,transform;",`transition:transform ${U}ms ${Hn};`);},a=y=>(-1+y)*100,l=(y,$,U)=>y<$?$:y>U?U:y,c=()=>i||(t.style.setProperty("transform",`translateX(${a(n||0)}%)`),i=S().appendChild(t),t),f=()=>{let y=S();if(y.contains(i)){let $=i.animate({opacity:["1","0"]},{easing:"ease-out",duration:100});$.onfinish=()=>{y.removeChild(i),i=null;};}else i=null;},p=()=>{let y=e.shift();y&&y(p);},g=y=>{e.push(y),e.length===1&&p();},d=y=>{y=l(y,r.config.progress.minimum,1),n=y===1?null:y;let $=c();g(U=>{$.style.setProperty("transform",`translateX(${a(y)}%)`),y===1?setTimeout(()=>{f(),U();},r.config.progress.speed*2):setTimeout(U,r.config.progress.speed);});},h=y=>{let $=n;if(!$)return b();if($<1)return typeof y!="number"&&($>=0&&$<.2?y=.1:$>=.2&&$<.5?y=.04:$>=.5&&$<.8?y=.02:$>=.8&&$<.99?y=.005:y=0),$=l($+y,0,.994),d($)},u=()=>{setTimeout(()=>{n&&(h(),u());},r.config.progress.trickleSpeed);};function b(y){r.config.progress&&(s=setTimeout(()=>{n||d(0),r.config.progress.trickle&&u();},y||0));}function N(y){clearTimeout(s),!(!y&&!n)&&(h(.3+.5*Math.random()),d(1));}return {start:b,done:N,style:o}}var Be=ls();function ot(e,t){let n=e.name,s=t;t=_t(t||n),q(e,"connect")||(e.connect={id:t,state:{},nodes:[]});let i=yt(e.connect);return i("state")||(e.connect.state={}),i("nodes")||(e.connect.nodes=[]),i("id")||(e.connect.id=t),t!==e.connect.id&&(t=Fe(e.connect.id)),n!==s&&/^[A-Z]|[_-]/.test(e.connect.id)&&m(3,[`Component identifer name "${e.connect.id}" must use camelCase format.`,`The identifer has been converted to "${t}"`]),t}function ae(e,t=!1){let{registry:n}=r.components;for(let s in e){let i=e[s],o=t?s:ot(i,s);n.has(o)||(n.set(o,i),m(1,`${i.name} component registered under: ${o}`));}r.config.components||(r.config.components=!0);}function cs(e){for(let t of ["hover","intersect","proximity","progress"])q(e,t)&&(e[t]===!1?r.config[t]=!1:typeof e[t]=="object"&&M(r.config[t],e[t]),delete e[t]);return e}function ge(e,t){let n=`:not([${e}${t}=false]):not([${e}link])`;switch(t.charCodeAt(0)){case 104:return `${n}:not([${e}proximity]):not([${e}intersect])`;case 105:return `${n}:not([${e}hover]):not([${e}proximity])`;case 112:return `${n}:not([${e}intersect]):not([${e}hover])`}}function ds(e,t,n){if("eval"in e)if(e.eval){if(typeof e.eval=="object"){let s=M(r.config.eval,e.eval);r.eval=!(!s.link&&!s.meta&&!s.script&&!s.style);}}else r.eval=!1;return s=>{if(r.eval===!1||r.config.eval[s]===!1)return `${s}[${t}eval]:${n}`;if(r.config.eval[s]===!0)return `${s}:${n}`;let i=s==="link"?`${s}[rel=stylesheet]:${n}`:s==="script"?`${s}:${n}:not([${t}eval=hydrate])`:`${s}:${n}`;if(r.config.eval[s]===null)return i;if(K(r.config.eval[s]))return r.config.eval[s].length>0?r.config.eval[s].map(o=>`${o}:${n}`).join(","):(m(3,`Missing eval ${s} value, SPX will use defaults`),i);m(4,`Invalid eval ${s} value, expected boolean or array`);}}function fs(e){let t=[];if("fragments"in e&&K(e.fragments)&&e.fragments.length>0)for(let n of e.fragments){let s=n.charCodeAt(0);if(s===46||s===91){m(3,[`Invalid fragment selector "${n}" provided. Fragments must be id annotated values.`,"Use spx-target attributes for additional fragment selections."]);continue}else s===35?t.push(n.slice(1).trim()):t.push(n.trim());}return t}function us(e=v()){as(),he(r,{ready:{get(){return document.readyState==="complete"}},types:{get(){return v({INITIAL:0,PREFETCH:1,FETCH:2,PRELOAD:3,REVERSE:4,POPSTATE:5,VISIT:6,HYDRATE:7,CAPTURE:8,RELOAD:9,HOVER:10,INTERSECT:11,PROXIMITY:12})}}}),"components"in e&&(ae(e.components),delete e.components),M(r.config,cs(e));let t=r.config.schema,n=t==="spx"?"spx":t.endsWith("-")?t:t===null?E:`${t}-`,s=`:not([${n}disable]):not([href^=\\#])`,i=`not([${n}eval=false])`,o=ds(e,n,i);r.config.fragments=fs(e),r.config.schema=n,r.config.index=null,r.memory.bytes=0,r.memory.visits=0,r.memory.limit=r.config.maxCache,M(r.qs,{v:new RegExp(`^href|${n}(hydrate|append|prepend|target|progress|threshold|scroll|position|proximity|hover|cache|history)$`,"i"),M:new RegExp(`${n}(?:node|bind|component)|@[a-z]|[a-z]:[a-z]`,"i"),T:new RegExp(`^${n}[a-zA-Z0-9-]+:`,"i"),m:`${n}target`,h:`[${n}target]:not([${n}target=false])`,c:`${n}morph`,b:`${n}eval`,I:`[${n}intersect]${ge(n,"intersect")}`,S:`[${n}track]:not([${n}track=false])`,u:`${n}component`,y:`${n}node`,E:`${n}bind`,e:"data-spx",A:r.config.annotate?`a[${n}link]${s}`:`a${s}`,R:o("script"),P:o("style"),N:o("link"),C:o("meta"),q:`script[${n}eval=hydrate]:${i}`,w:`link[rel=stylesheet][href*=\\.css]:${i},script[src*=\\.js]:${i}`,d:`${n}data:`,x:`a[${n}proximity]${s}${ge(n,"proximity")}`,O:`a${s}${ge(n,"intersect")}`,l:r.config.hover!==!1&&r.config.hover.trigger==="href"?`a${s}${ge(n,"hover")}`:`a[${n}hover]${s}${ge(n,"hover")}`}),Be.style(r.config.progress);}function Ue(e){return new DOMParser().parseFromString(e,"text/html")}function $e(e){return (e||document).documentElement.outerHTML}function en(e){let t=e.indexOf("<title");if(t===-1)return E;let n=e.indexOf(">",t)+1,s=e.indexOf("</title",n);return ss(e.slice(n,s).trim())}function X(e,...t){let n=e==="before:cache";n&&(t[1]=Ue(t[1]));let s=!0;return ie(i=>{let o=i.apply(null,t);n?o instanceof Document?s=o.documentElement.outerHTML:typeof s!="string"&&(s=o!==!1):s=o!==!1;},r.events[e]||[]),s}function tn(e,t,n){return e in r.events||(r.events[e]=[]),r.events[e].push(n?t.bind(n):t)-1}function nn(e,t){if(e in r.events){let n=r.events[e];if(n&&typeof t=="number")n.splice(t,1),m(2,`Removed ${e} event listener (id: ${t})`),n.length===0&&delete r.events[e];else {let s=[];if(n&&t)for(let i=0,o=n.length;i<o;i++)n[i]!==t?s.push(n[i]):m(2,`Removed ${e} event listener (id: ${i})`);s.length?r.events[e]=s:delete r.events[e];}}else m(3,`There are no ${e} event listeners`);return this}function Ye(e,{method:t="GET",body:n=null,headers:s=null,type:i="text"}={}){return new Promise(function(o,a){let l=new k;if(l.key=e,l.responseType=i,l.open(t,e),l.setRequestHeader("spx-request","true"),s!==null)for(let c in s)l.setRequestHeader(c,s[c]);l.onloadstart=function(){k.o.set(this.key,l);},l.onload=function(){o(this.response);},l.onerror=function(){a(this.statusText);},l.onabort=function(){delete k.r[this.key],k.a.delete(this.key),k.o.delete(this.key);},l.onloadend=function(c){k.o.delete(this.key),r.memory.bytes=r.memory.bytes+c.loaded,r.memory.visits=r.memory.visits+1;},l.send(n);})}function sn(e){return e in k.r?(clearTimeout(k.r[e]),delete k.r[e]):!0}function rn(e,t,n){e in k.r||Y(e)||(k.r[e]=setTimeout(t,n));}function Xt(e){for(let[t,n]of k.o)e!==t&&(n.abort(),m(3,`Pending request aborted: ${t}`));}function ps(e){if(r.config.preload!==null){if(K(r.config.preload)){let t=r.config.preload.filter(n=>{let s=O(n,3);return s.key!==n?R(D(s)):!1});return Promise.allSettled(t)}else if(typeof r.config.preload=="object"&&q(r.config.preload,e.key)){let t=r.config.preload[e.key].map(n=>R(D(O(n,3))));return Promise.allSettled(t)}}}function on(e){return A(this,null,function*(){if(e.rev===e.key)return;let t=D(O(e.rev,4));yield ts(),R(t).then(n=>{n?m(2,`Reverse fetch completed: ${n.rev}`):m(3,`Reverse fetch failed: ${e.rev}`);});})}function wt(e){return A(this,null,function*(){if(!k.a.has(e.key))return e;let t=yield k.a.get(e.key);return k.a.delete(e.key),delete k.r[e.key],Ot(e,t)})}function R(e){return A(this,null,function*(){return k.o.has(e.key)&&e.type!==7?(e.type===4&&k.o.has(e.rev)?(k.o.get(e.rev).abort(),m(3,`Request aborted: ${e.rev}`)):m(3,`Request in transit: ${e.key}`),!1):X("fetch",e)?(k.a.set(e.key,Ye(e.key)),wt(e)):(m(3,`Request cancelled via dispatched event: ${e.key}`),!1)})}function $t(e,t){if(t(e)===!1)return;let n,s;for(e.firstElementChild&&(s=0,n=e.children[s]);n;)(n.nodeName==="svg"||n.nodeName==="CODE")&&n.childElementCount>0&&(s=0,n=n.nextElementSibling),n&&$t(n,t),n=e.children[++s];}function Dt(e,t){return `on${e}`in t?!0:(m(5,[`Invalid event name "${e}" provided. No such event exists in the DOM API.`,"Only known event listeners can be attached."],t),!1)}function zt(e,t,n){let s=e[t.method];return function(i){t.params&&(q(i,"attrs")||Zt(i,"attrs",v()),M(i.attrs,t.params)),s.call(e,i);}}function at(e,t){t.attached&&(t.listener.abort(),t.listener=new AbortController,t.options.signal=t.listener.signal,t.attached=!1,r.components.elements.delete(t.dom),m(1,[`Detached ${t.key} ${t.eventName} event from the ${t.method} method on`,`${e.static.id} component (${e.scope.key})`]));}function an(e,t,n){if(!n.attached){if(!(n.method in e)){m(3,`Undefined callback method: ${e.static.id}.${n.method}()`);return}ys(t.attributes,n),n.isWindow?Dt(n.eventName,window)&&addEventListener(n.eventName,zt(e,n)):Dt(n.eventName,t)&&(t.addEventListener(n.eventName,zt(e,n),n.options),r.components.elements.set(n.dom,t)),m(1,[`Attached ${n.key} ${n.eventName} event to the ${n.method} method on`,`${e.static.id} component (${e.scope.key})`]),n.attached=!0;}}function hs(e){_(()=>kt(Te(r.page.key).body,e));}function ln(e,t,n,s){let i,o,a;for(e.firstElementChild&&(i=0,o=e.children[i],a=t.children[i]);o;)o.nodeName==="svg"&&o.childElementCount>0&&(i=0,o=o.nextElementSibling,a=a.nextElementSibling),o&&(s.has(a)?(kt(o,n,!0),s.delete(a)):a.hasAttribute(r.qs.e)&&o.setAttribute(r.qs.e,a.getAttribute(r.qs.e)),ln(o,a,n,s)),o=e.children[++i],a=t.children[i];}function kt(e,t,n=!1){let{elements:s}=r.components;$t(e,i=>{if(Ne(i.attributes)&&!i.hasAttribute(r.qs.e)){let o=t.shift();if(o||m(5,"Undefined reference, snapshot record failed to align",i),s.has(o)){let a=i.getAttribute(r.qs.e),l=s.get(o).getAttribute(r.qs.e);if(a!==l&&i.setAttribute(r.qs.e,l),t.length===0)return n===!1&&(Nn(i.ownerDocument.documentElement.outerHTML),m(1,"Snapshot updated")),!1}else m(5,"Undefined reference, snapshot record failed to align",i);}});}function Ft(e,t){let{page:n,dom:s}=Js(r.page.key),i=e.charCodeAt(0)===114?"removed":"appended";s.head.contains(t)?(s.head[e](t),r.snaps[n.snap]=s.documentElement.outerHTML,m(1,`Snapshot record was updated. Node ${i} from <head>`,t)):m(3,"Node does not exists in snapshot record, no mutation applied",t);}function ms(e,{nodes:t}){let n=v();for(let s in t)t[s].schema in n||(n[t[s].schema]=[]),n[t[s].schema].push(t[s].dom);for(let s in n){let i=n[s];i.length>1?he(e,{[s]:{get(){return r.components.elements.get(i[0])}},[`${s}s`]:{get(){return i.map(o=>r.components.elements.get(o))}}}):xe(e,s,{get(){return r.components.elements.get(i[0])}});}}function cn({p:e,f:t,n,c:s}){r.page.type===0&&n.length>0&&hs(n);let i=r.page.type===4,{elements:o,connected:a,instances:l,registry:c,reference:f}=r.components;for(let p in e)for(let g of e[p]){if(g.instanceOf===null)if(p in t)g.instanceOf=t[p];else continue;let d,h;if(g.mounted===!1&&(s!==null||i)){let u=Zs();g.alias!==null&&g.alias in u?(h=u[g.alias][0],d=h.static):g.instanceOf in u&&u[g.instanceOf].length===1&&(h=u[g.instanceOf][0],d=h.static),g.key=h.scope.key,g.ref=h.scope.ref;}else d=c.get(g.instanceOf),h=new d(g,d.connect);if(ms(h,g),s===null&&"nodes"in d&&d.nodes.length>0)for(let u of d.nodes)xe(h,`has${rt(u)}Node`,{get(){return `${u}Node`in this}});for(let u in g.events){let b;s!==null&&g.mounted===!1?(b=h.scope.events[u]=g.events[u],f[u]=h.scope.key):b=g.events[u],an(h,o.get(b.dom),b);}(s===null||(s!==null||i)&&g.mounted===!0)&&(a.add(g.key),l.set(g.key,h),m(1,`Mounted (init) component ${h.static.id} (${g.key})`,"#6dd093"),"oninit"in h&&h.oninit(r.page),"onload"in h&&h.onload(r.page));}}function dn(){let e=[];for(let t of r.page.fragments){let n=document.getElementById(t);n?(r.fragments.set(t,n),e.push(t)):r.fragments.delete(t);}Ce("fragments",e);}function gs(e){e.type!==6&&_(()=>{let t=Te(e.snap),n=e.selector!=="body"&&e.selector!==null?`${e.target.join()},${r.qs.h}`:r.qs.h,s=t.body.querySelectorAll(n),i=e.type===0?S().querySelectorAll(n):null;we(s,(o,a)=>{if(!o.hasAttribute("id"))o.setAttribute("id",`t.${V()}`),i!==null&&i[a].setAttribute("id",`t.${V()}`);else if(o.id.startsWith("t."))return;e.fragments.push(o.id);}),Nn(t.documentElement.outerHTML,e.snap);});}function fn(e){for(let[t,n]of r.fragments)if(t===e.id||n.contains(e))return !0;return !1}function vs(e){return e.trim().replace(/\s+/," ").split(/[|, ]/).map(Fe)}function ys(e,t){for(let n=0,s=e.length;n<s;n++){let{name:i,value:o}=e[n];if(r.qs.T.test(i)&&!i.startsWith(r.qs.d)&&o){let a=i.slice(r.config.schema.length).split(":").pop();t.params===null&&(t.params=v()),a in t.params||(t.params[a]=es(o));}}}function Ne(e){if(typeof e=="string")return e.indexOf("@")>-1||e===r.qs.u||e===r.qs.y||e===r.qs.E;for(let t=e.length-1;t>=0;t--)if(Ne(e[t].name))return !0;return !1}function ye(e,t){Ne(e.attributes)&&(e.hasAttribute(r.qs.u)?$s(e,e.getAttribute(r.qs.u),t):un(e,t,null,null));}function Et(e=null){return v({f:v(),p:v(),t:null,n:[],c:e,L:e?v():null})}function Ve(e,{p:t,f:n}){return e in t?e in n?ve(t[n[e]]):ve(t[e]):e in n?ve(t[n[e]]):(t[e]=[lt(e)],t[e][0])}function re(e,t,n){r.components.reference[n]=t;let s=e.getAttribute(r.qs.e),i=s?`${s},${n}`:n;return e.setAttribute(r.qs.e,i),n}function lt(e,t,n){let{registry:s}=r.components,i=V(),o=v({key:i,mounted:!1,ref:`c.${i}`,state:v(),nodes:v(),events:v(),binds:v()});return t&&(re(t,i,o.ref),o.dom=n.t,o.mounted=!0,o.inFragment=fn(t),t.hasAttribute("id")&&(o.alias=Fe(t.id.trim()))),s.has(e)?(o.instanceOf=e,o.alias?s.has(o.alias)?m(5,[`Component alias "${o.alias}" matches a component identifer in the registry.`,"An alias reference must be unique and cannot match component names."]):n.f[o.alias]=e:o.alias=null):(o.alias=e||null,o.instanceOf=null,o.mounted&&(n.f[o.alias]=null)),o}function bs(e,t,n,s){let i=v(),o=n.indexOf("{"),a=t.slice(r.config.schema.length),l=new AbortController;i.key=`e.${V()}`,i.dom=`${s.t}`,i.isWindow=a.startsWith("window:"),i.eventName=i.isWindow?a.slice(7):a,i.attached=!1,i.params=null,i.options={signal:l.signal};let c=n;if(o>-1){let h=n.slice(o,n.lastIndexOf("}",o)).match(/(passive|once)/g);h!==null&&(h.indexOf("once")>-1&&(i.options.once=!0),h.indexOf("passive")>-1&&(i.options.passive=!0)),c=n.slice(0,o);}let f=vt(c);f.length>1&&m(3,`No more than 1 DOM Event listener method allowed in value: ${n}`);let[p,g]=f[0].split("."),d=Ve(p,s);i.listener=l,i.method=g.trim(),d.events[i.key]=i,re(e,d.key,i.key);}function xs(e,t,n){for(let s of vt(t)){let[i,o]=s.split("."),a=Ve(i,n),l=re(e,a.key,`n.${V()}`);a.nodes[l]=v({key:l,keyProp:o,dom:n.t,schema:`${o}Node`,isChild:a.mounted});}}function ws(e,t,n){for(let s of vt(t)){let[i,o]=s.split("."),a=Ve(i,n),l=re(e,a.key,`b.${V()}`);o in a.binds||(a.binds[o]=v()),a.binds[o][l]=v({key:l,stateKey:o,value:e.innerText,dom:n.t,stateAttr:`${r.config.schema}${i}:${o}`,selector:`[${r.qs.e}*=${_n(l)}]`,isChild:a.mounted});}}function un(e,t,n,s){n===null&&s===null&&(t.t=V(),t.n.push(t.t),r.components.elements.set(t.t,e));for(let i=e.attributes.length-1;i>=0;i--){let{name:o,value:a}=e.attributes[i];if(n){let l=`${r.config.schema}${n}:`;s&&!o.startsWith(l)&&(l=`${r.config.schema}${s}:`),o.startsWith(l)&&(Ve(n,t).state[o.slice(l.length)]=a);}o.indexOf("@")>-1?bs(e,o,a,t):o===r.qs.E?ws(e,a,t):o===r.qs.y&&xs(e,a,t);}}function $s(e,t,n){let{registry:s,elements:i}=r.components,{p:o,f:a}=n,l=e.hasAttribute("id")?e.id.trim():null;n.t=V(),n.n.push(n.t),i.set(n.t,e);for(let c of vs(t))if(!s.has(c))m(5,`Component does not exist in registry: ${c}`);else {let f;c in o?(f=ve(o[c]),f.mounted===!1?(re(e,f.key,f.ref),f.dom=n.t,f.mounted=!0,f.inFragment=fn(e)):o[c].push(lt(c,e,n))):o[c]=[lt(c,e,n)],f=ve(o[c]),l&&!(l in a)&&(a[l]=c),un(e,n,c,f.alias);}}function pn(e){let t=Et();if(e)if(e instanceof Set){for(let n of e)ye(n,t);return e.clear(),t}else return ye(e,t),t;else {if($t(S(),n=>ye(n,t)),xt(t.p))return;cn(t);}}var L;function ks(){_(()=>{L=void 0;});}function ct(e,t,n){let{reference:s,connected:i,elements:o}=r.components;for(let a of t){let l=s[a];if(!l)continue;let c=a.charCodeAt(0);if(c===99){l.scope.mounted=!1,i.delete(l.scope.key),o.delete(l.scope.dom);let{scope:f}=l;for(let p in f.nodes)o.delete(f.nodes[p].dom);for(let p in f.binds)for(let g in f.binds[p])o.delete(f.binds[p][g].dom);for(let p in f.events)at(l,f.events[p]);m(1,`Unmounted component ${l.static.id} (${f.key})`,"#8F5150");}else if(c===101)at(l,l.scope.events[a]);else if(c===110){let f=l.scope.nodes[a];n&&e.isEqualNode(n)?(re(e,l.scope.key,a),L.n.push(f.dom),o.set(f.dom,n)):o.delete(f.dom);}else if(c===98){let{binds:f}=l.scope;for(let p in f)if(a in f[p]){n&&e.isEqualNode(n)?(re(e,l.scope.key,a),L.n.push(f[p][a].dom)):o.delete(f[p][a].dom);break}}}}function dt(e,t){let{reference:n,connected:s,elements:i}=r.components;for(let o of t){let a=n[o];if(!a)continue;let l=o.charCodeAt(0);if(l===99)s.add(a.scope.key),i.set(a.scope.dom,e),a.scope.mounted=!0,m(1,`Mounted component ${a.static.id} (${a.scope.key})`,"#6dd093");else if(l===101)an(a,e,a.scope.events[o]);else if(l===110)i.set(a.scope.nodes[o].dom,e);else if(l===98){let{binds:c}=a.scope;for(let f in c)if(o in c[f]){e.innerText=c[f][o].value,i.set(c[f][o].dom,e);break}}}}function je(e){e.nodeType!==1&&e.nodeType!==11||e.hasAttribute(r.qs.e)&&ct(e,e.getAttribute(r.qs.e).split(","));}function Es(e){e.hasAttribute(r.qs.e)?dt(e,e.getAttribute(r.qs.e).split(",")):Ne(e.attributes)&&(L?L.c=e:L=Et(e),ye(e,L));}function Ns(e,t,n,s){n&&(n=n.split(",")),s&&(s=s.split(",")),n&&s?(ct(e,n),dt(e,s)):!n&&s?dt(e,s):(L?L.c=t:L=Et(t),n&&!s&&ct(e,n,t),ye(e,L));}function ft(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,E):e.removeAttribute(n));}function As(e,t){if(t.nodeType===11||e.nodeType===11)return;let n=t.attributes,s=e.getAttribute(r.qs.e),i=t.getAttribute(r.qs.e),o=!1,a,l,c,f,p;for(let d=n.length-1;d>=0;d--)a=n[d],l=a.name,f=a.value,c=a.namespaceURI,c?(l=a.localName||l,p=e.getAttributeNS(c,l),p!==f&&(a.prefix==="xmlns"&&(l=a.name),e.setAttributeNS(c,l,f))):(p=e.getAttribute(l),p!==f&&(e.setAttribute(l,f),!s&&!i&&!o&&(o=Ne(l))));let g=e.attributes;for(let d=g.length-1;d>=0;d--)a=g[d],l=a.name,f=a.value,c=a.namespaceURI,c?(l=a.localName||l,t.hasAttributeNS(c,l)||e.removeAttributeNS(c,l)):t.hasAttribute(l)||e.removeAttribute(l);(s||i||o)&&Ns(e,t,s,i);}function Ls(e,t){let n=e.parentNode;if(n){let s=n.nodeName.toUpperCase();s==="OPTGROUP"&&(n=n.parentNode,s=n&&n.nodeName.toUpperCase()),s==="SELECT"&&!n.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1);}ft(e,t,"selected");}function Cs(e,t){ft(e,t,"checked"),ft(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value");}function hn(e,t){let{value:n}=t;e.value!==n&&(e.value=n);let{firstChild:s}=e;if(s){let{nodeValue:i}=s;if(i===n||!n&&i===e.placeholder)return;s.nodeValue=n;}}function Ts(e,t){if(!t.hasAttribute("multiple")){let n=0,s=-1,i=e.firstElementChild,o,a;for(;i;)if(a=i.nodeName&&i.nodeName.toUpperCase(),a==="OPTGROUP")o=i,i=o.firstElementChild;else {if(a==="OPTION"){if(i.hasAttribute("selected")){s=n;break}n++;}i=i.nextElementSibling,!i&&o&&(i=o.nextElementSibling,o=null);}e.selectedIndex=s;}}function Ss(e,t){return !t||t==="http://www.w3.org/1999/xhtml"?document.createElement(e):document.createElementNS(t,e)}function We(e,t){if(e===t)return !0;let n=e.charCodeAt(0),s=t.charCodeAt(0);return n<=90&&s>=97?e===t.toUpperCase():s<=90&&n>=97?t===e.toUpperCase():!1}function qs(e,t){switch(e.nodeName){case"INPUT":Cs(e,t);break;case"OPTION":Ls(e,t);break;case"SELECT":Ts(e,t);break;case"TEXTAREA":hn(e,t);break}}function Z(e){return e&&"getAttribute"in e?e.getAttribute("id"):void 0}function Os(e,t){let n=e.firstChild,s;for(;n;)s=n.nextSibling,t.appendChild(n),n=s;return t}function Xe(e,t,n,s=!0){je(e),t&&t.removeChild(e),mn(e,s,n);}function Ps(e,t,n){let s=t.firstChild,i,o,a=e.firstChild,l,c,f,p;e:for(;s;){for(i=Z(s),o=s.nextSibling;a;){if(f=a.nextSibling,s.isEqualNode(a)){s=o,a=f;continue e}l=Z(a),c=a.nodeType;let g;if(c===s.nodeType&&(c===1?(i?i!==l&&((p=n.s.get(i))?f.isEqualNode(p)?g=!1:(e.insertBefore(p,a),l?n.i.add(l):Xe(a,e,n),a=p,l=Z(a)):g=!1):l&&(g=!1),g=g!==!1&&We(a.nodeName,s.nodeName),g&&De(a,s,n)):(c===3||c===8)&&(g=!0,a.nodeValue!==s.nodeValue&&(a.nodeValue=s.nodeValue))),g){s=o,a=f;continue e}l?n.i.add(l):Xe(a,e,n),a=f;}i&&(p=n.s.get(i))&&We(p.nodeName,s.nodeName)?(e.appendChild(p),De(p,s,n)):(s.actualize&&(s=s.actualize(e.ownerDocument||document)),e.appendChild(s),ut(s,n)),s=o,a=f;}Hs(e,a,l,n),qs(e,t);}function De(e,t,n){let s=Z(t);if(s&&n.s.delete(s),e.isEqualNode(t))return;let i=e.getAttribute(r.qs.c);i!=="false"&&(i!=="children"&&As(e,t),e.nodeName!=="TEXTAREA"?Ps(e,t,n):hn(e,t));}function mn(e,t,n){if(e.nodeType!==1)return;let s=e.firstChild;for(;s;){let i;t&&(i=Z(s))?n.i.add(i):(je(s),s.firstChild&&mn(s,t,n)),s=s.nextSibling;}}function ut(e,t){(e.nodeType===1||e.nodeType===11)&&Es(e);let n=e.firstChild;for(;n;){let s=n.nextSibling,i=Z(n);if(i){let o=t.s.get(i);o&&We(n.nodeName,o.nodeName)?(n.parentNode.replaceChild(o,n),De(o,n,t)):ut(n,t);}else ut(n,t);n=s;}}function Hs(e,t,n,s){for(;t;){let i=t.nextSibling;(n=Z(t))?s.i.add(n):Xe(t,e,s),t=i;}}function gn(e,t){if(e.nodeType===1||e.nodeType===11){let n=e.firstChild;for(;n;){let s=Z(n);s&&t.s.set(s,n),gn(n,t),n=n.nextSibling;}}}function ne(e,t){let n=t.cloneNode(!0),s=v({i:de(),s:te()});n.nodeType===11&&(n=n.firstElementChild),gn(e,s);let i=e,o=i.nodeType,a=n.nodeType;if(o===1)a===1?We(e.nodeName,n.nodeName)||(je(e),i=Os(e,Ss(n.nodeName,n.namespaceURI))):i=n;else if(o===3||o===8){if(a===o)return i.nodeValue!==n.nodeValue&&(i.nodeValue=n.nodeValue),i;i=n;}if(i.isEqualNode(n))je(e);else {if(n.isEqualNode(i))return i;if(De(i,n,s),s.i.size>0){for(let l of s.i)if(s.s.has(l)){let c=s.s.get(l);Xe(c,c.parentNode,s,!1);}}}return i!==e&&e.parentNode&&(i.actualize&&(i=i.actualize(e.ownerDocument||document)),e.parentNode.replaceChild(i,e)),s.s.clear(),s.i.clear(),i}function Nt(e,t){if(!(e instanceof Element))return !1;let n=e.closest(t);return n&&n.tagName==="A"?n:!1}function vn(e){if(e.nodeName!=="A")return !1;let t=e.getAttribute("href");return !t||!Ln(t)?!1:Y(Q(t))===!1}function Ms(e,t){let n=[];return we(e,s=>{if(s.nodeName!=="A"){let i=s.querySelectorAll(t);we(i,o=>{vn(o)&&n.push(o);});}else if(s.hasAttribute("href")){let{href:i}=s;Ln(i)&&Y(Q(i))&&n.push(s);}}),n}var At=e=>{let t=[];return we(e,n=>{vn(n)&&t.push(n);}),t};function yn(e){let t=Nt(e.target,r.qs.l);if(!t)return;let n=O(t,10);if(Y(n.key)||n.key in k.r)return;t.addEventListener(`${H}leave`,bn,{once:!0});let s=D(n),i=s.threshold||r.config.hover.threshold;rn(n.key,function(){X("prefetch",t,n)&&R(s).then(function(){delete k.r[n.key],xn(t);});},i);}function bn(e){let t=Nt(e.target,r.qs.l);t&&sn(Q(t.href));}function Rs(e){e.addEventListener(`${H}enter`,yn);}function xn(e){e.removeEventListener(`${H}enter`,yn),e.removeEventListener(`${H}leave`,bn);}function Lt(){!r.config.hover||r.observe.hover||(ie(Rs,At(r.qs.l)),r.observe.hover=!0);}function Ke(){r.observe.hover&&(ie(xn,At(r.qs.l)),r.observe.hover=!1);}var se;function Is(e){return A(this,null,function*(){if(e.isIntersecting){let t=O(e.target,11);if(!X("prefetch",e.target,t))return se.unobserve(e.target);(yield R(D(t)))?se.unobserve(e.target):(m(3,`Prefetch will retry at next intersect for: ${t.key}`),se.observe(e.target));}})}function Ct(){if(!r.config.intersect||r.observe.intersect)return;se||(se=new IntersectionObserver(ie(Is),r.config.intersect));let e=ie(n=>se.observe(n)),t=Ms(r.qs.I,r.qs.O);e(t),r.observe.intersect=!0;}function Ge(){r.observe.intersect&&(se.disconnect(),r.observe.intersect=!1);}var wn={};Rn(wn,{connect:()=>fe,disconnect:()=>Je,hook:()=>me,teardown:()=>be});function be(){for(let e in r.components.reference)delete r.components.reference[e];for(let e of r.components.instances.values())for(let t in e.scope.events)at(e,e.scope.events[t]);r.components.elements.clear(),r.components.instances.clear(),r.components.connected.clear(),m(2,"Component instances were disconnected");}function me(e,t){if(e==="onvisit")return _(()=>me(null,t));e===null&&(e="onvisit");let{connected:n,instances:s}=r.components;e==="onload"&&Ce("components",zn(n));for(let i of n){let o=s.get(i);o&&e in o&&o[e].apply(o,t);}}function fe(){r.config.components&&(r.observe.components||(r.page.type===0?pn():(L&&(cn(L),ks()),me("onload",[r.page])),r.observe.components=!0));}function Je(){r.observe.components&&(me("onexit",[r.page]),r.observe.components=!1);}var ze=new MutationObserver(function([e]){if(e.type!=="childList")return;let t=e.addedNodes.length;if(t||e.removedNodes.length>0){let[n]=t?e.addedNodes:e.removedNodes;if(n.nodeType!==1)return;r.eval&&Gn.test(n.nodeName)?n.parentNode.nodeName==="HEAD"?Ft(t?"appendChild":"removeChild",n):js(n)&&!r.resources.has(n)?r.resources.add(n):r.resources.delete(n):n instanceof HTMLElement&&t&&!n.hasAttribute(r.qs.e)&&pn(n);}});function js(e){let t=S().querySelectorAll(`${r.page.target.join(",")},[${r.qs.m}]`);for(let n=0,s=t.length;n<s;n++)if(t[n].contains(e))return !1;return !0}function Tt(){r.observe.mutations||(ze.observe(document.head,{childList:!0}),ze.observe(S(),{childList:!0,subtree:!0}),r.observe.mutations=!0);}function St(){if(r.observe.mutations){ze.takeRecords(),ze.disconnect();for(let e of r.resources)S().removeChild(e),r.resources.delete(e);r.observe.mutations=!1;}}function Ws({clientX:e,clientY:t},n){return e<=n.right&&e>=n.left&&t<=n.bottom&&t>=n.top}function Xs(e){let t=e.getBoundingClientRect(),n=e.getAttribute(r.qs.x),s=Gt.test(n)?Number(n):r.config.proximity.distance;return {target:e,top:t.top-s,bottom:t.bottom+s,left:t.left-s,right:t.right+s}}function Ds(e){let t=!1;return n=>{if(t)return;t=!0;let s=e.findIndex(i=>Ws(n,i));if(s===-1)setTimeout(()=>{t=!1;},r.config.proximity.throttle);else {let{target:i}=e[s],o=D(O(i,12)),a=o.threshold||r.config.proximity.threshold;rn(o.key,()=>A(this,null,function*(){if(!X("prefetch",i,o))return ue();(yield R(o))&&(e.splice(s,1),t=!1,e.length===0&&(ue(),m(2,"Proximity observer disconnected")));}),a);}}}var pt;function qt(){if(!r.config.proximity||r.observe.proximity)return;let e=At(r.qs.x).map(Xs);e.length>0&&(pt=Ds(e),addEventListener(`${H}move`,pt,{passive:!0}),r.observe.proximity=!0);}function ue(){r.observe.proximity&&(removeEventListener(`${H}move`,pt),r.observe.proximity=!1);}function zs(e,t){return A(this,null,function*(){if(!r.eval||!e||!t)return;let n=[],s=de(),{children:i}=e;for(let l=0,c=t.length;l<c;l++)s.add(t[l].outerHTML);for(let l=0,c=i.length;l<c;l++){let f=i[l],{nodeName:p,outerHTML:g}=f,d=!0;p==="SCRIPT"?d=f.matches(r.qs.R):p==="STYLE"?d=f.matches(r.qs.P):p==="META"?d=f.matches(r.qs.C):p==="LINK"?d=f.matches(r.qs.N):d=e.getAttribute(r.qs.b)!=="false",s.has(g)?d?n.push(f):s.delete(g):n.push(f);}let o=[],a=document.createRange();for(let l of s){let c=a.createContextualFragment(l).firstChild;if(q(c,"href")||q(c,"src")){let f=new Promise(function(p){c.addEventListener("error",g=>{m(3,`Resource <${c.nodeName.toLowerCase()}> failed:`,c),p();}),c.addEventListener("load",()=>p());});o.push(f);}e.appendChild(c),s.delete(l);}for(let l=0,c=n.length;l<c;l++)e.removeChild(n[l]);yield Promise.all(o);})}function Fs(e,t){let n=S();if(e.selector==="body")ne(n,t.body);else if(e.selector!==null){let s=n.querySelectorAll(e.selector),i=t.body.querySelectorAll(e.selector),o=de();for(let a=0,l=s.length;a<l;a++){let c=s[a],f=i[a];!f||!c||X("render",c,f)&&(c.isEqualNode(f)||o.add(ne(c,f)));}e.type!==6&&L&&L.n.length>0&&_(()=>{ln(t.body,n,L.n,o),Ce("type",6),o.clear();});}else for(let s of e.fragments){let i=r.fragments.get(s),o=t.getElementById(s);!o||!i||X("render",i,o)&&(i.isEqualNode(o)||(ne(i,o),L&&L.n.length>0&&_(()=>kt(o,L.n))));}}function Bs(e,t){let n=e.hydrate;if(n.length===1&&n[0]==="body"){ne(S(),t.body);return}let s=n.join(","),i=S().querySelectorAll(s),o=e.preserve&&e.preserve.length>0?e.preserve.join(","):null,a=[];if(o){let l=S().querySelectorAll(o);for(let c=0,f=l.length;c<f;c++){let p=l[c];p.setAttribute(r.qs.c,"false"),a.push(p);}}if(i.length>0){let l=t.body.querySelectorAll(s);for(let c=0,f=i.length;c<f;c++){let p=i[c],g=l[c];if(l[c]instanceof HTMLElement){if(!X("hydrate",p,g))continue;ne(g,g);}}}if(o)for(let l of a)l.removeAttribute("spx-morph");e.hydrate=void 0,e.preserve=void 0,e.type=6,F(e);}function F(e){Ke(),Ge(),ue(),St(),Je(),dn(),r.eval||(document.title=e.title);let t=Te(e.snap);return e.type===7?Bs(e,t):(zs(Bn(),t.head.children),Fs(e,t),scrollTo(e.scrollX,e.scrollY)),Be.done(),_(()=>{Lt(),Ct(),qt(),fe(),Tt();}),X("load",e),e}var w=window.history;function Us(){return w.state!==null&&"rev"in w.state&&w.state.key!==w.state.rev}function $n(e){if(w.state==null||typeof w.state!="object")return !1;let t=yt(w.state)(["key","rev","scrollX","scrollY","title"]);return typeof e=="string"?t&&w.state.key===e:t}function kn(){return A(this,null,function*(){yield ns(),r.loaded=!0;})}function Ys(e){return $n(e.key)?(scrollTo(w.state.scrollX,w.state.scrollY),M(e,w.state)):Ae(e),e}function Ae({key:e,rev:t,title:n,scrollX:s,scrollY:i}){let o={key:e,rev:t,scrollX:s,scrollY:i,title:n||document.title};return w.replaceState(o,o.title,o.key),m(1,`History replaceState: ${w.state.key}`),w.state}function Le({key:e,rev:t,title:n}){let s={key:e,rev:t,title:n,scrollY:0,scrollX:0};return w.pushState(s,s.title,s.key),m(1,`History pushState: ${w.state.key}`),w.state}function En(e){return A(this,null,function*(){if((r.loaded||r.ready)&&e.state!==null)if(Y(e.state.key)){!Y(e.state.rev)&&e.state.rev!==e.state.key&&on(e.state.rev);let t=r.pages[e.state.key];t.type===4?(m(1,`History popState reverse (snapshot): ${t.key}`),be()):m(1,`History popState session (snapshot): ${t.key}`),Ce("type",5),F(t);}else {m(1,`History popState fetch: ${e.state.key}`),be(),e.state.type=5;let t=yield R(e.state);if(!t)return location.assign(e.state.key);let n=Q(location);if(t.key===n)F(t);else if(Y(n))F(r.pages[n]);else {be();let s=D(O(n,5));yield R(s),Le(s);}}})}function Vs(e){if(!r.observe.history)return w.scrollRestoration&&(w.scrollRestoration="manual"),addEventListener("popstate",En,!1),addEventListener("load",kn,!1),r.observe.history=!0,typeof e=="object"&&e.type===0?Ys(e):e}function Ks(){r.observe.history&&(w.scrollRestoration&&(w.scrollRestoration="auto"),removeEventListener("popstate",En,!1),removeEventListener("load",kn,!1),r.observe.history=!1);}function D(e){let t=yt(e);return e.ts=Jt(),e.target=Qt(e),t("selector")||(e.target[0]==="body"?e.selector="body":e.selector=bt(e.target)),r.config.cache&&(t("cache")||(e.cache=r.config.cache),t("snap")||(e.snap=V())),t("scrollY")||(e.scrollY=0),t("scrollX")||(e.scrollX=0),r.config.hover!==!1&&e.type===10&&(t("threshold")||(e.threshold=r.config.hover.threshold)),r.config.proximity!==!1&&e.type===12&&(t("proximity")||(e.proximity=r.config.proximity.distance),t("threshold")||(e.threshold=r.config.proximity.threshold)),r.config.progress&&!t("progress")&&(e.progress=r.config.progress.threshold),t("fragments")||(e.fragments=r.config.fragments),t("history")||(e.history=!0),t("visits")||(e.visits=0),t("components")||(e.components=[]),r.pages[e.key]=e,r.pages[e.key]}function Gs(e){let t=M(v(e),{target:[],selector:null,cache:r.config.cache,history:!0,scrollX:0,scrollY:0,fragments:r.config.fragments});return r.config.hover&&(t.threshold=r.config.hover.threshold),r.config.proximity&&(t.proximity=r.config.proximity.distance,t.threshold=r.config.proximity.threshold),r.config.progress&&(t.progress=r.config.progress.threshold),t}function Ce(e,t,n=w.state.key){return e==="location"?r.pages[n][e]=M(r.pages[n][e],t):e==="target"?(r.pages[n].target=Qt(t),r.pages[n].selector=bt(r.pages[n].target)):e==="components"?r.pages[n].components=t:r.pages[n][e]=t,r.pages[n]}function Ot(e,t){let n=X("before:cache",e,t),s=typeof n=="string"?n:t;return e.type>5&&e.type>9&&(e.type=1),e.title=en(t),!r.config.cache||n===!1?e:"snap"in e?(r.pages[e.key]=e,r.snaps[e.snap]=s,gs(e),X("after:cache",e),me("oncache",e),e):pe(e,s)}function pe(e,t){let n=e.key in r.pages?r.pages[e.key]:D(e);return typeof t=="string"&&(r.snaps[n.snap]=t,e.title=en(t)),M(n,e)}function Nn(e,t){let n=t=t?t.charCodeAt(0)===47?t in r.pages?r.pages[t].snap:null:t:r.page.snap;n?r.snaps[n]=e:m(3,"Snapshot record does not exist, update failed");}function Js(e){if(!e){if(w.state===null){m(3,"Missing history state reference, page cannot be returned");return}e=w.state.key;}if(e in r.pages)return he(v(),{page:{get:()=>r.pages[e]},dom:{get:()=>Ue(r.snaps[r.pages[e].snap])}});m(5,`No record exists: ${e}`);}function Te(e){let t=e=e?e.charCodeAt(0)===47?r.pages[e].snap:e:r.page.snap;return Ue(r.snaps[t])}function Zs({mounted:e=null}={}){let t=v();for(let n of r.components.instances.values()){let{scope:s}=n;r.components.connected.has(s.key)&&(e!==null&&s.mounted===e||(s.alias!==null&&!(s.alias in t)?t[s.alias]=[n]:s.instanceOf in t?t[s.instanceOf].push(n):t[s.instanceOf]=[n]));}return xt(t)?null:t}function Qs(e){if(!e){if(w.state===null){m(3,"Missing history state reference, page cannot be returned");return}e=w.state.key;}if(e in r.pages)return r.pages[e];m(5,`No page record exists for: ${e}`);}function Y(e){return q(r.pages,e)&&q(r.pages[e],"snap")&&q(r.snaps,r.pages[e].snap)&&typeof r.snaps[r.pages[e].snap]=="string"}function ke(e){e?typeof e=="string"?(delete r.snaps[r.pages[e].snap],delete r.pages[e]):K(e)&&ie(t=>{delete r.snaps[r.pages[t].snap],delete r.pages[t];},e):(Wt(r.pages),Wt(r.snaps));}var T=Ee.replace(/(?:https?:)?(?:\/\/(?:www\.)?|(?:www\.))/,E);function An(e,t){let n=t?Gs(t):v(),s=e.getAttributeNames();for(let i=0,o=s.length;i<o;i++){let a=s[i];if(a.startsWith(r.qs.d)){q(n,"data")||(n.data=v());let l=Fe(a.slice(r.qs.d.length)),c=e.getAttribute(a).trim();it.test(c)?n.data[l]=c==="NaN"?NaN:+c:st.test(c)?n.data[l]=c==="true":c.charCodeAt(0)===123||c.charCodeAt(0)===91?n.data[l]=Ie(a,c):n.data[l]=c;}else {if(!r.qs.v.test(a))continue;let l=e.getAttribute(a).trim();if(a==="href")n.rev=location.pathname+location.search,t||(n.location=ht(l),n.key=n.location.pathname+n.location.search);else {let c=a.slice(a.lastIndexOf("-")+1),f=l.replace(Vn,E).trim();if(c==="target")n[c]=f==="true"?[]:f!==E?Zn(f):[],n.selector=bt(n[c]);else if(Jn.test(f)){let p=f.match(/\[?[^,'"[\]()\s]+\]?/g);n[c]=Yn.test(c)?p.reduce(rs(2),[]):p;}else if(c==="position")if(jt.test(f)){let p=f.match(jt);n[`scroll${p[0].toUpperCase()}`]=+p[1],p.length===4&&(n[`scroll${p[2].toUpperCase()}`]=+p[3]);}else m(3,`Invalid attribute value on <${a}>, expected: y:number or x:number`,e);else c==="scroll"?Gt.test(f)?n.scrollY=+f:m(3,`Invalid attribute value on <${a}>, expected: number`,e):st.test(f)&&!Kn.test(a)?n[c]=f==="true":it.test(f)?n[c]=+f:(c==="history"&&f!=="push"&&f!=="replace"&&m(5,`Invalid attribute value on <${a}>, expected: false, push or replace`,e),n[c]=f);}}}return n}function le(e){let t=v();if(e.length===1&&e.charCodeAt(0)===47)return t.pathname=e,t.hash=E,t.search=E,t;let n=e.indexOf("#");n>=0?(t.hash=e.slice(n),e=e.slice(0,n)):t.hash=E;let s=e.indexOf("?");return s>=0?(t.search=e.slice(s),e=e.slice(0,s)):t.search=E,t.pathname=e,t}function Me(e,t){let n=e.indexOf("/",t);if(n>t){let i=e.indexOf("#",n);return i<0?e.slice(n):e.slice(n,i)}let s=e.indexOf("?",t);if(s>t){let i=e.indexOf("#",s);return i<0?e.slice(s):e.slice(s,i)}return e.length-t===T.length?"/":null}function nt(e){let t=e.startsWith("www.")?e.slice(4):e,n=t.indexOf("/");if(n>=0){let s=t.slice(n);if(t.slice(0,n)===T)return s.length>0?le(s):le("/")}else {let s=t.search(/[?#]/);if(s>=0){if(t.slice(0,s)===T)return le("/"+t.slice(s))}else if(t===T)return le("/")}return null}function _s(e){return e.startsWith("http")?1:e.startsWith("//")?2:e.startsWith("www.")?3:0}function Ln(e){if(typeof e!="string"||e.length===0)return !1;if(e.charCodeAt(0)===47)return e.charCodeAt(1)!==47?!0:e.startsWith("www.",2)?e.startsWith(T,6):e.startsWith(T,2);if(e.charCodeAt(0)===63)return !0;if(e.startsWith("www."))return e.startsWith(T,4);if(e.startsWith("http")){let t=e.indexOf("/",4)+2;return e.startsWith("www.",t)?e.startsWith(T,t+4):e.startsWith(T,t)}}function ei(e){return e.charCodeAt(0)===47?e.charCodeAt(1)!==47?le(e):nt(e.slice(2)):e.charCodeAt(0)===63?le(location.pathname+e):e.startsWith("https:")||e.startsWith("http:")?nt(e.slice(e.indexOf("/",4)+2)):e.startsWith("www.")?nt(e):null}function Q(e){if(typeof e=="object")return e.pathname+e.search;if(e===E)return "/";let t=_s(e);if(t===1){let n=e.charCodeAt(4)===115?8:7,s=e.startsWith("www.",n)?n+4:n;return e.startsWith(T,s)?Me(e,s):null}if(t===2){let n=e.startsWith("www.",2)?6:2;return e.startsWith(T,n)?Me(e,n):null}return t===3?e.startsWith(T,4)?Me(e,4):null:e.startsWith(T,0)?Me(e,0):null}function Cn(){return v({hostname:T,origin:Ee,pathname:location.pathname,search:location.search,hash:location.hash})}function ht(e){if(e===E)return Cn();let t=ei(e);return t===null&&m(5,`Invalid pathname: ${e}`),t.origin=Ee,t.hostname=T,t}function O(e,t=6){if(e instanceof Element){let s=An(e);return s.type=t||6,s}let n=v();return e===0?(n.location=Cn(),n.key=n.rev=Q(n.location),n.type=e,n.visits=1,r.index=n.key):t===7?(n.location=ht(e),n.key=n.rev=Q(n.location),n.type=t):(n.rev=location.pathname+location.search,n.location=ht(typeof e=="string"?e:n.rev),n.key=Q(n.location),n.type=t),n}function ti(e){return !(e.target&&e.target.isContentEditable||e.defaultPrevented||e.button>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}var z=function(e){if(!ti(e))return;let t=Nt(e.target,r.qs.A);if(!t)return;let n=Q(t.href);if(n===null)return;let s=n===r.page.key;console.log(n,r.page.key,r.prev.key);let i=()=>{m(3,`Drag occurance deteced, cancelled visit: ${n}`),z.drag=!0,t.removeEventListener(`${H}move`,i);};if(t.addEventListener(`${H}move`,i,{once:!0}),z.drag===!0)return z.drag=!1,z(e);if(t.removeEventListener(`${H}move`,i),!X("visit",e))return;let o=(a,l=!0)=>{r.pages[a.key].ts=Jt(),r.pages[a.key].visits=a.visits+1,r.pages[a.rev].scrollX=window.scrollX,r.pages[a.rev].scrollY=window.scrollY,me("onvisit",a),s?(m(1,`URL Pathname matches current route: ${n}`),F(a)):(Ae(r.pages[a.rev]),l?(Le(a),F(a)):Tn(a));};if(Ke(),ue(),Ge(),Y(n)){let a=An(t,r.pages[n]),l=pe(a);t.onclick=c=>{c.preventDefault(),o(l);};}else if(k.a.has(n)){Xt(n),m(2,`Request in transit: ${n}`);let a=r.pages[n];t.onclick=l=>{l.preventDefault(),o(a,!1);};}else {Xt(),sn(n);let a=D(O(t,6));R(a),t.onclick=l=>{l.preventDefault(),o(a,!1);};}};function Tn(e){return A(this,null,function*(){e.progress&&Be.start(e.progress);let t=yield wt(e);t?(Le(t),F(t)):location.assign(e.key);})}function Bt(e,t){return A(this,null,function*(){if(t){typeof t.cache=="string"&&(t.cache==="clear"?ke():ke(t.key)),t.progress&&Be.start(t.progress);let n=yield R(t);n?(Le(n),F(n)):location.assign(t.key);}else return Tn(r.pages[e])})}function ni(){r.observe.hrefs||(z.drag=!1,Re==="mouseOnly"?addEventListener(`${H}down`,z,!1):(Re==="touchOnly"||addEventListener(`${H}down`,z,!1),addEventListener("touchstart",z,!1)),r.observe.hrefs=!0);}function si(){r.observe.hrefs&&(Re==="mouseOnly"?removeEventListener(`${H}down`,z,!1):(Re==="touchOnly"||removeEventListener(`${H}down`,z,!1),removeEventListener("touchstart",z,!1)),r.observe.hrefs=!1);}function ii(){let e=O(0),t=Vs(D(e));he(r,{prev:{get(){return r.pages[w.state.rev]}},page:{get(){return r.pages[w.state.key]}},snapDom:{get(){return Ue(r.snaps[r.page.snap])}}});let n=()=>{let s=Ot(t,$e());return ni(),dn(),r.config.manual===!1&&(Lt(),Ct(),qt(),fe(),Tt()),_(()=>{Ce("type",6),on(s),ps(s);}),X("x"),s};return new Promise(s=>{let{readyState:i}=document;if(i==="interactive"||i==="complete")return s(n());addEventListener("DOMContentLoaded",()=>s(n()));})}function ri(){Ke(),Lt(),Ge(),Ct(),ue(),qt(),Je(),fe(),St(),Tt();}function oi(){Ks(),si(),St(),Ke(),Ge(),ue(),r.config.components&&(Je(),be(),r.components.registry.clear()),ke(),r.config.globalThis&&delete window.spx,m(2,"Disconnected");}var ai=class{constructor(e,t){this.state=v(),he(this,{scope:{get(){return e}},static:{get(){return t}}});let n=`${r.config.schema}${this.scope.instanceOf}`;if(this.state=new Proxy(v(),{set:(s,i,o)=>{let a=this.static.state[i],l=typeof o=="object"||K(o)?JSON.stringify(o):`${o}`;if(typeof a=="object"&&q(a,"persist")&&a.persist?s[i]=this.scope.state[i]=o:s[i]=o,this.dom&&l!==this.dom.getAttribute(`${n}:${i}`)&&this.dom.setAttribute(`${n}:${i}`,l),i in this.scope.binds){let{binds:c}=this.scope;for(let f in c[i])c[i][f].value=l,r.components.elements.has(c[i][f].dom)&&(r.components.elements.get(c[i][f].dom).innerText=l);}return !0}}),xt(this.scope.state))for(let s in this.static.state){let i=this.static.state[s],o,a;typeof i=="object"?(o=i.typeof,a=i.default):o=i,o===String?this.state[s]=a||E:o===Boolean?this.state[s]=a||!1:o===Number?this.state[s]=a?+a:0:o===Array?this.state[s]=a||[]:o===Object&&(this.state[s]=a||{}),this.scope.state[s]=this.state[s];}else for(let s in t.state){if(!(s in this.scope.state))if(typeof t.state[s]=="object")this.scope.state[s]=t.state[s].default;else switch(t.state[s]){case String:this.scope.state[s]=E;break;case Boolean:this.scope.state[s]=!1;break;case Number:this.scope.state[s]=0;break;case Object:this.scope.state[s]={};break;case Array:this.scope.state[s]=[];break}let i=this.static.state[s],o,a=this.dom.getAttribute(`${n}:${s}`),l,c=a!==null&&a!==E;typeof i=="object"?(o=i.typeof,l=c,c||(a=i.default)):o=i,`has${rt(s)}`in this.state||xe(this.state,`has${rt(s)}`,{get(){return c}}),typeof a=="string"&&a.startsWith("window.")?this.state[s]=window[a.slice(7)]:o===String?this.state[s]=a||E:o===Boolean?this.state[s]=a||!1:o===Number?this.state[s]=a?+a:0:o===Array?this.state[s]=c?Ie(a):l?a:[]:o===Object&&(this.state[s]=c?Ie(a):l?a:{}),this.scope.state[s]=this.state[s];}}get dom(){return r.components.elements.get(this.scope.dom)}get html(){return this.dom.closest("html")}},mt=v({$:r,Component:ai,on:tn,off:nn,observe:ri,connect:li,capture:hi,form:gi,render:pi,session:di,reload:fi,fetch:ui,clear:ke,hydrate:vi,prefetch:mi,visit:yi,disconnect:oi,register:ci,get config(){return r.config},supported:!!(Kt&&window.history.pushState&&window.requestAnimationFrame&&window.DOMParser&&window.Proxy),history:v({get state(){return w.state},api:w,push:Le,replace:Ae,has:$n,reverse:Us})});function li(e={}){if(Kt===!1)return m(5,"Invalid runtime environment: window is undefined.");if(!mt.supported)return m(5,"Browser does not support SPX");if(!window.location.protocol.startsWith("http"))return m(5,"Invalid protocol, SPX expects HTTPS or HTTP protocol");us(e),r.config.globalThis&&q(window,"spx")===!1&&Zt(window,"spx",mt);let t=ii();return function(n){return A(this,null,function*(){let s=yield t;if(n.constructor.name==="AsyncFunction")try{yield n(s);}catch(i){m(3,"Connection Error",i);}else n(s);m(2,"Connection Established");})}}function ci(...e){if(typeof e[0]=="string")e.length>2&&m(5,[`Named component registration expects 2 parameters, recieved ${e.length}.`,'Registry should follow this structure: spx.register("identifer", YourComponent)'],e),ae({[wn[0]]:e[1]});else for(let t of e)if(K(t))for(let n of t)typeof n[0]=="string"?ae({[n[0]]:n[1]}):typeof n=="function"&&ae({[ot(n)]:n},!0);else {let n=typeof t;n==="function"?ae({[ot(t)]:t},!0):n==="object"&&ae(t);}r.ready?fe():tn("x",function t(){fe(),nn("x",t);});}function di(){return he(v(),{config:{get(){return r.config}},snaps:{get(){return r.snaps}},pages:{get(){return r.pages}},observers:{get(){return r.observe}},components:{get(){return r.components}},fragments:{get(){return r.fragments}},memory:{get(){let e=r.memory;return e.size=os(e.bytes),e}}})}function fi(){return A(this,null,function*(){let e=r.pages[w.state.key];e.type=9;let t=yield R(e);return t?(m(2,"Triggered reload, page was re-cached"),F(t)):(m(3,"Reload failed, triggering refresh (cache will purge)"),location.assign(e.key))})}function ui(e){return A(this,null,function*(){let t=O(e,2);t.location.origin!==Ee&&m(5,"Cross origin fetches are not allowed");let n=yield Ye(t.key);if(n)return n})}function pi(e,t,n){return A(this,null,function*(){let s=r.page,i=O(e);i.location.origin!==Ee&&m(5,"Cross origin fetches are not allowed");let o=yield Ye(i.key,{type:"document"});if(o||m(5,`Fetch failed for: ${i.key}`,o),yield n.call(s,o),t==="replace"){s.title=o.title;let a=pe(M(s,i),$e(o));return Ae(a),a}else return F(Ot(i,$e(o)))})}function hi(e){let t=Qs();if(!t)return;let n=Te();if(e=K(e)?e:t.target,e.length===1&&e[0]==="body"){ne(n.body,S()),pe(t,$e(n));return}let s=e.join(","),i=S().querySelectorAll(s);we(n.body.querySelectorAll(s),(o,a)=>{ne(o,i[a]);}),pe(t,$e(n));}function mi(e){return A(this,null,function*(){let t=O(e,1);if(Y(t.key)){m(3,`Cache already exists for ${t.key}, prefetch skipped`);return}let n=yield R(D(t));if(n)return n;m(5,`Prefetch failed for ${t.key}`);})}function gi(e,t){return A(this,null,function*(){let n=new FormData;for(let s in t.data)n.append(s,t.data[s]);return yield Ye(e,{method:t.method,body:n})})}function vi(e,t){return A(this,null,function*(){let n=O(e,7);if(R(n),K(t)){n.hydrate=[],n.preserve=[];for(let i of t)i.charCodeAt(0)===33?n.preserve.push(i.slice(1)):n.hydrate.push(i);}else n.hydrate=r.config.fragments;let s=yield wt(n);if(s){let{key:i}=w.state;if(Ae(s),F(s),n.key!==i){r.index===i&&(r.index=n.key);for(let o in r.pages)r.pages[o].rev===i&&(r.pages[o].rev=n.key);ke(i);}}return Te(s.key)})}function yi(e,t){return A(this,null,function*(){let n=O(e),s=typeof t=="object"?M(n,t):n;return Y(n.key)?Bt(n.key,pe(s)):Bt(n.key,D(s))})}var I=mt;var{isArray:Qe,from:qn}=Array,P=new Map,j=(e,t=Object.create(null))=>e?Object.assign(t,e):t,bi=class extends Array{constructor(){super(...arguments),this.ref=j(),this.get=e=>{let t=typeof e;if(t==="number")return this[e];if(t==="string"){if(e in this.ref)return this[this.ref[e]];console.error(`Relapse: Unknown fold id: ${e}`);}return this};}},ee=(e,t=1)=>{e.ariaDisabled=t===1?"true":"false";},C=(e,t,n)=>e.style.setProperty(t,n),oe=(e,t)=>e.classList.add(t),Ze=(e,t)=>e.classList.remove(t),Se=(e,t=1)=>{e.ariaExpanded=t===1?"true":"false";};function Pt(e,t){let n=e,s=n.getAttribute(t.schema);if((s===null||s==="")&&(s=n.hasAttribute("id")?n.id:`R${P.size}`,n.setAttribute(t.schema,s)),P.has(s)){if(P.get(s).options.unique===!1)return;throw new Error(`Relapse: Instance already exists with id: ${s} `)}let i=ki(t,n.attributes),o=new bi,a=P.set(s,{id:s,semantic:n.firstElementChild.nodeName==="DETAILS",openCount:0,status:1,active:NaN,events:j(),get folds(){return o},get options(){return i},get element(){return n},set element(d){n=d,s=n.getAttribute(t.schema);}}).get(s);n.ariaMultiSelectable=`${a.options.multiple}`;let l=xi(a.events),c=n.children.length,f=a.semantic?1:2,p=a.options.classes,g=0;do{let d=j({index:a.folds.length,locked:!1}),h=!1,u,b,N;if(a.semantic){if(N=n.children[g],N.nodeName!=="DETAILS")throw new Error(`Relapse: Invalid markup on "${a.id}", expected: <details>`);u=N.firstElementChild,b=u.nextElementSibling,h=N.hasAttribute("open");}else u=n.children[g],b=N=n.children[g+1],b.hasAttribute("hidden")?b.removeAttribute("hidden"):b.firstElementChild.hasAttribute("hidden")&&b.firstElementChild.removeAttribute("hidden");N.setAttribute("role","region");let y=u.classList.contains(p.disabled),$=u.classList.contains(p.opened),U=b.classList.contains(p.expanded);u.ariaExpanded==="true"||h||$?(u.ariaExpanded!=="true"&&Se(u),!$&&!y&&oe(u,p.opened),U||oe(b,p.expanded),(y||u.ariaDisabled==="true")&&(oe(u,p.disabled),ee(u),d.disabled=!0,d.locked=!0),d.expanded=!0):u.ariaDisabled==="true"||y?(u.ariaDisabled!=="true"&&ee(u),y||oe(u,p.disabled),$&&Ze(u,p.opened),d.expanded=(U||h)===!0,d.disabled=!0,d.locked=!0,Se(u,d.expanded?1:2)):(d.expanded=!1,d.disabled=!1,Se(u,2),ee(u,2)),d.id=`${a.id}-fold-${d.index}`,u.hasAttribute("id")||(u.id=`${a.id}-button-${d.index}`),b.hasAttribute("id")||(b.id=`${a.id}-content-${d.index}`),u.tabIndex=d.index,u.setAttribute("aria-controls",b.id),b.setAttribute("aria-labelledby",u.id),d.expanded?(a.openCount=a.openCount+1,a.options.multiple===!1&&a.openCount===2&&console.warn(`Relapse: More than 1 fold is expanded but "multiple" is set to false on: ${a.id}`),a.semantic?(d.height=u.offsetHeight+b.offsetHeight,C(N,"height","auto")):(d.height=b.scrollHeight,C(N,"max-height","inherit"))):a.semantic?(d.height=u.offsetHeight,C(N,"height","auto")):(d.height=0,C(b,"max-height","0"),C(b,"overflow","hidden")),d.button=u,d.wrapper=N,d.element=b,wi(d,a,l),g=g+f;}while(g<c);a.on=l.on,a.off=l.off,a.collapse=(d=a.active)=>{isNaN(d)||o.get(d).close(d);},a.expand=(d=a.active)=>{isNaN(d)||o.get(d).open(d);},a.destroy=()=>{o.forEach(d=>d.destroy()),l.emit("destroy",a),P.delete(s);},a.reinit=()=>{o.forEach(d=>d.destroy()),Pt(e,t);};}function xi(e){let t=j();return t.on=(n,s,i)=>(e[n]||(e[n]=[]),e[n].push(i?s.bind(i):s)-1),t.off=(n,s)=>{let i=e[n],o=`Relapse: Removed ${n} event listener`;if(i&&typeof s=="number")i.splice(s,1),console.warn(`${o} (id: ${s})`),i.length===0&&delete i[n];else {let a=[];if(i&&typeof s=="function")for(let l=0,c=i.length;l<c;l++)i[l]!==s?a.push(i[l]):console.warn(`${o} (id: ${l})`);a.length>0?i[n]=a:delete i[n];}},t.emit=(n,s,i)=>{let o=e[n]||[],a=null;for(let l=0,c=o.length;l<c;l++){let f=o[l].call(s,i);a===null&&f===!1&&(a=!0);}return a},t}function wi(e,t,n){let s=t.options.classes,i=t.options.fade,o=j({easing:i.easing,duration:i.duration*2}),a=d=>{if(typeof d!="number")return t.active!==e.index&&(t.active=e.index),e;if(t.folds.get(d))return t.active=e.index,t.folds.get(d);throw new Error(`Relapse: No fold exists using id: "${d}"`)},l=()=>t.folds.filter(({expanded:d})=>d).length,c=(d,h,u)=>{C(d,"will-change","opacity,visibility");let b=d.animate({opacity:h,visibility:u},h[0]==="1"?o:i);b.onfinish=()=>{C(d,"opacity",h[1]),C(d,"visibility",u[1]),d.style.removeProperty("will-change");};},f=(d,h,u)=>{t.status=2;let b=d.animate(t.semantic?{height:h}:{maxHeight:h},t.options.fold);b.onfinish=u;},p=d=>{if(d.disabled)return;let h=d.button,u=d.wrapper,b=d.element;C(u,"overflow","hidden"),t.semantic?(d.height=h.offsetHeight,C(u,"will-change","height")):(d.height=0,C(u,"will-change","max-height"));let N=`${d.height}px`;c(b,["1","0"],["visible","hidden"]),f(u,[`${u.offsetHeight}px`,N],()=>{t.semantic?(C(u,"height",N),u.removeAttribute("open")):C(b,"max-height","0"),d.expanded=!1,ee(h,2),Se(h,2),Ze(h,s.opened),Ze(u,s.expanded),u.style.removeProperty("will-change"),t.openCount=l(),t.status=1,n.emit("collapse",t,d);});},g=d=>h=>{d.close();let u=d.button,b=d.wrapper,N=d.element;ee(u),Se(u);let y;t.semantic?(b.setAttribute("open",""),C(b,"will-change","height"),C(b,"overflow","hidden"),d.height=u.offsetHeight+N.offsetHeight,y=`${u.offsetHeight}px`):(C(b,"will-change","max-height"),d.height=N.scrollHeight,y="0px"),oe(u,s.opened),c(N,["0","1"],["hidden","visible"]),f(b,[y,`${d.height}px`],()=>{t.semantic?C(b,"height","auto"):C(b,"max-height","inherit"),b.style.removeProperty("overflow"),b.style.removeProperty("will-change"),oe(N,s.expanded),d.expanded=!0,t.openCount=l(),t.status=1,t.options.persist&&t.openCount>1&&d.disable(),n.emit("expand",t,d);});};e.close=d=>{let h=a(d);if(t.options.multiple)(t.options.persist===!0&&t.openCount>1||t.options.persist===!1&&h.expanded===!0)&&p(h);else for(let u of t.folds)if(u.expanded===!0&&u.locked===!1){if(t.options.persist&&u.index===h.index)break;p(u),h=u;break}h.enable(),t.openCount=l();},e.focus=()=>{t.active=e.index,e.button.focus({preventScroll:!0}),n.emit("focus",t,e);},e.enable=d=>{let h=a(d);h.disabled&&h.locked===!1&&(h.disabled=!1,ee(h.button,2),Ze(h.button,s.disabled));},e.disable=d=>{let h=a(d);h.disabled||(h.expanded?t.options.persist&&(h.disabled=!0,ee(h.button)):(h.close(),h.disabled=!0,ee(h.button),oe(h.button,s.disabled)));},e.open=d=>{let h=a(d);t.status===2||h.expanded||requestAnimationFrame(g(h));},e.toggle=d=>{if(t.semantic&&d.preventDefault(),!(t.status===2||n.emit("toggle",t,e)===!1))return e.expanded?e.close():e.open()},e.destroy=()=>{e.button.removeEventListener("click",e.toggle),e.button.removeEventListener("focus",e.focus),e.button.removeEventListener("blur",e.blur);},e.button.addEventListener("click",e.toggle),e.button.addEventListener("focus",e.focus),t.folds.push(e),t.folds.ref[e.element.id]=t.folds.length-1;}function $i(e){return typeof e=="object"&&"schema"in e?e.schema:"[data-relapse]"}function Sn(e){let t=j({persist:!1,unique:!1,multiple:!1,schema:"data-relapse",fold:j({duration:200,easing:"ease-in-out"}),fade:j({duration:120,easing:"linear"}),classes:j({opened:"opened",disabled:"disabled",expanded:"expanded"})});if(typeof e=="object"){for(let n in e)if(n==="classes"||n==="fade"||n==="fold")for(let s in e[n])t[n][s]=e[n][s];else t[n]=e[n];"fade"in e&&"duration"in e.fade&&e.fade.duration!==t.fade.duration||t.fold.duration!==200&&(t.fade.duration=t.fold.duration-t.fold.duration/2.5);}return t}function ki(e,t){let n=e.schema.length+1,s=j({fold:j(),fade:j(),classes:j()});for(let{nodeName:i,nodeValue:o}of t){if(!i.startsWith(e.schema))continue;let a=i.slice(n);if(a==="schema"){console.warn('Relapse: The "schema" option cannot be defined via attribute');continue}let l=o.trim(),c=`Invalid ${i} attribute value.`;if(a==="persist"||a==="multiple"||a==="unique")if(l==="true"||l==="false")s[a]=l==="true";else throw new TypeError(`Relapse: ${c}. Boolean expected, received: ${l}`);else if(a==="fold-duration"||a==="fade-duration"){if(isNaN(+l))throw new TypeError(`Relapse: ${c}. Number expected, received: ${l}`);{let[f,p]=a.split("-");s[f][p]=+l;}}else if(a.startsWith("class-")||a==="fold-easing"||a==="fade-easing"){let[f,p]=a.split("-");s[f][p]=l;}}!("fade"in s&&"duration"in s.fade&&s.fade.duration!==e.fade.duration)&&"fold"in s&&"duration"in s.fold&&s.fold.duration!==e.fold.duration&&(s.fade.duration=s.fold.duration-s.fold.duration/2.5);for(let i in s)if(i==="fold"||i==="classes"||i==="fade")for(let o in s[i])e[i][o]=s[i][o];else e[i]=s[i];return e}var B=function e(t,n){if(document.readyState==="loading"){addEventListener("DOMContentLoaded",()=>e(t,n));return}let s=typeof t=="object"&&"tagName"in t;if(s&&t instanceof NodeList)throw TypeError("Relapse: Invalid NodeList selector. Provide string or HTMLElement");if(s){let o=typeof t=="string"?document.body.querySelector(t):t;o!==null&&Pt(o,Sn(n));}else document.body.querySelectorAll($i(t)).forEach(o=>Pt(o,Sn(t)));let i=qn(P.values());return s?i[i.length-1]:i};B.version="0.8.1";B.each=e=>{for(let[t,n]of P)if(e(n,t)===!1)break};B.reinit=e=>{let t=B.get(e),n=Qe(t)?t:[t];for(let s of n){let{id:i,options:o}=s;s.destroy(),B(`#${i}`,o);}};B.has=e=>e?(Qe(e)?e:[e]).every(P.has):P.size>0;B.destroy=e=>{let t=B.get(e),n=Qe(t)?t:[t];for(let s of n)s.destroy();};B.get=e=>typeof e=="string"?P.has(e)?P.get(e):null:Qe(e)?e.filter(t=>P.has(t)).map(t=>P.get(t)):qn(P.values());window.relapse||Object.defineProperty(window,"relapse",{get(){return B}});var J=B;var x=function(e){if(Array.isArray(e))return e.forEach(x);if(!("id"in e)){for(let s of ["onenter","onexit","oninit","onresize"])if(s in e)throw new Error('qvp: Missing an "id" reference');return Object.entries(e).forEach(([s,i])=>{let o=typeof e[s];if(o==="string")return x({id:s,query:i});throw new TypeError(`qvp: Invalid query type. Expected "string" received "${o}"`)})}let t=Ei(e),{id:n}=t.screen;x.viewports.size||addEventListener("resize",On(()=>{x.viewports.forEach(s=>{s.screen.active&&s.onresize(window.innerWidth);});},25),!0),x.viewports.has(n)?console.warn(`qvp: The id "${n}" is already defined, use qvp.add() instead.`):x.viewports.set(n,t);};x.viewports=new Map;Object.defineProperty(x,"isTouch",{get(){return "ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}});x.get=e=>x.viewports.has(e)?x.viewports.get(e):!1;x.add=(e,t)=>{let n=x.get(e);if(n===!1)return console.error(`qvp: There is no viewport using an id of "${e}"`);et(t,n.screen),n.screen.test.matches&&n.onenter();};x.off=(e,t)=>{let n=x.get(e.split(":")[0]);if(n===!1||!(e in n.events))return;let s=n.events[e].length;if(typeof t=="number")t<=s-1&&n.events[e].splice(t,1);else if(typeof t=="function"){let i=[];for(let o=0;o<s;o++)n.events[e][o]!==t&&i.push(n.events[e][o]);i.length>0&&(n.events[e]=i);}else delete n.events[e];};x.on=(e,t,n)=>{let[s,i]=e.split(":"),o=x.get(s);if(o===!1)return;e in o.events||(o.events[e]=[]);let a=n?t.bind(n):t;return a["qvp:event"]=o.events[e].length,o.events[e].push(a),o.screen.test.matches?i==="oninit"?a.call():(i==="onenter"&&a.call(),et({[i]:a},o.screen)):et({[i]:a},o.screen),a["qvp:event"]};x.list=e=>{let t=Array.from(x.viewports.values()).map(({screen:n})=>n);return e?t.filter(({id:n})=>e.includes(n)):t};x.active=e=>{let t=x.list();if(e){let s=x.get(e);return s?s.screen.active:!1}let n=t.filter(({active:s})=>s===!0);return n.length>1?n:n[0]};x.test=(e,t=",")=>typeof e=="string"?e.indexOf(t)>-1?e.split(t).some(x.active):!!x.active(e):e.some(x.active);x.remove=e=>{x.viewports.has(e)&&(x.viewports.get(e).destroy(),x.viewports.delete(e));};x.destroy=()=>{removeEventListener("resize",On()),x.viewports.forEach(e=>e.destroy()),x.viewports.clear();};x.screens=()=>{throw Error("qvp: The qvp.screens() is deprecated, use the default import, e.g: qvp(...)")};function On(e,t){let n=t;return function(){let s=()=>{n=null,e.apply(this,arguments);};n&&cancelAnimationFrame(n),n=requestAnimationFrame(s);}}function et(e,t){typeof e.onenter=="function"&&("qvp:event"in e.onenter||(e.onenter["qvp:event"]=NaN),t.onenter.add(e.onenter)),typeof e.onexit=="function"&&("qvp:event"in e.onexit||(e.onexit["qvp:event"]=NaN),t.onexit.add(e.onexit)),typeof e.onresize=="function"&&("qvp:event"in e.onresize||(e.onresize["qvp:event"]=NaN),t.onresize.add(e.onresize)),typeof e.oninit=="function"&&("qvp:event"in e.oninit||(e.oninit["qvp:event"]=NaN),t.oninit.add(e.oninit));}function _e(e,...t){let n=x.get(e.split(":")[0]);if(n!==!1&&e in n.events)for(let s=0;s<n.events[e].length&&(n.events[e][s].apply(null,t),e.endsWith(":oninit")&&x.off(e,s),e in n.events);s++);}function Ei(e){let t=e.query||"all",n={id:e.id,query:t,active:!1,test:matchMedia(t),onenter:new Set,onexit:new Set,onresize:new Set,oninit:new Set,events:Object.create(null)};et(e,n);let s=()=>{n.oninit.size>0&&(n.oninit.forEach(c=>!isNaN(c["qvp:event"])||c()),_e(`${e.id}:oninit`),n.oninit.clear()),n.onenter.forEach(c=>!isNaN(c["qvp:event"])||c()),_e(`${e.id}:onenter`),n.active=!0;},i=()=>{n.onexit.forEach(c=>!isNaN(c["qvp:event"])||c()),_e(`${e.id}:onexit`),n.active=!1;},o=c=>{n.onresize.forEach(f=>!isNaN(f["qvp:event"])||f()),_e(`${e.id}:onresize`,c);},a=({matches:c})=>c?s():i(),l=()=>{for(let c in n.events)delete n.events[c];n.test.removeEventListener("change",a);};return n.test.addEventListener("change",a),n.test.matches&&s(),{onenter:s,onexit:i,onresize:o,destroy:l,get screen(){return n},get events(){return n.events}}}var Pn=x;var G=class G extends I.Component{constructor(){super(...arguments);this.transition=n=>{if(n.propertyName==="transform"){if(this.state.hasShift)for(let s of this.shifts)s.classList.contains(this.shiftClass)&&(s.classList.remove(this.shiftClass),s.style.removeProperty("transform"));this.backdrop.classList.contains("backdrop")&&this.backdrop.classList.remove("backdrop"),this.state.mode==="pull"?this.shifts.item(0).removeEventListener(n.type,this.transition):this.target.removeEventListener(n.type,this.transition);}};this.outsideClick=n=>{n.target!==this.target&&(this.close(),this.html.removeEventListener("click",this.outsideClick,!1));};this.toggle=n=>(n&&n.preventDefault(),this.state.isOpen=!this.state.isOpen,this.state.isOpen?this.open():this.close(),this.state.isOpen?this.open():this.close());this.touchMove=n=>{this.state.isOpen&&this.target.scrollHeight<=this.target.clientHeight&&n.preventDefault();};this.keyboard=n=>{switch(n.code){case"Esc":case"Escape":this.close();break}};}get backdrop(){return G.backdrop}get directionClass(){return `drawer-${this.state.direction}`}get shiftClass(){return `drawer-${this.state.mode}`}get shifts(){return this.html.querySelectorAll(this.state.shift)}get buttons(){return this.html.querySelectorAll(`[data-drawer="${this.target.id}"]`)}oninit(){G.backdrop||(G.backdrop=document.createElement("div"),G.backdrop.className="drawer-backdrop",G.backdrop.setAttribute("spx-morph","false")),this.state.useParent?(this.target=this.dom.parentElement,this.target.ariaHidden="true"):this.target=this.dom,this.target.classList.contains("d-none")&&this.target.classList.remove("d-none"),this.state.mode!=="overlay"&&this.state.hasShift===!1&&console.error('Missing "data-drawer-shift-value" defintions on:',this.target),this.html.contains(G.backdrop)===!1&&this.html.appendChild(G.backdrop),this.state.hasWidth,this.state.hasHeight&&this.target.style.setProperty("height",this.state.height),this.state.hasDirection&&this.target.classList.contains("backdrop")===!1&&this.target.classList.add("backdrop"),this.state.mode==="pull"&&(this.target.style.setProperty("transform","translateX(0)"),this.target.style.setProperty("z-index","0")),this.html.classList.contains("drawer-open")&&this.html.classList.remove("drawer-open");}onload(){this.state.isOpen&&(Pn.test(["lg","xl","xxl"])?this.close():setTimeout(()=>this.close(),250));}open(){this.target.classList.contains("drawer-active")||this.target.classList.add("drawer-active"),this.backdrop.classList.contains("backdrop")||this.backdrop.classList.add("backdrop"),this.state.bodyScroll===!1&&this.html.style.setProperty("overflow","hidden"),this.state.hasShift&&this.shiftElements(),this.state.width&&(this.state.direction==="top"?this.backdrop.style.setProperty("transform",`translateY(-${this.state.offset})`):this.backdrop.style.setProperty("transform",`translateX(${this.state.width})`)),this.html.classList.add("drawer-open"),this.backdrop.addEventListener("click",this.toggle,{once:!0}),this.target.addEventListener("touchstart",this.touchStart,{passive:!0}),this.target.ariaHidden="false";}close(){this.state.isOpen&&(this.state.isOpen=!1),this.state.width&&this.backdrop.style.removeProperty("transform"),this.state.bodyScroll===!1&&this.html.style.removeProperty("overflow"),this.state.hasShift?this.shiftElements():this.target.addEventListener("transitionend",this.transition),this.html.classList.remove("drawer-open"),this.target.removeEventListener("touchstart",this.touchStart),this.backdrop.removeEventListener("click",this.toggle),this.target.classList.remove("drawer-active"),this.target.ariaHidden="true";}shiftElements(){this.state.mode==="pull"?(this.target.style.setProperty("transform","translateX(0)"),this.target.style.setProperty("z-index","0"),this.state.isOpen===!1&&this.shifts.item(0).addEventListener("transitionend",this.transition)):this.state.isOpen===!1&&this.target.addEventListener("transitionend",this.transition);for(let n of this.shifts)this.state.isOpen?(n.classList.contains(this.shiftClass)||n.classList.add(this.shiftClass),this.state.width&&(this.state.direction==="left"||this.state.direction==="right")?n.style.setProperty("transform",`translateX(${this.state.width})`):this.state.hasHeight&&(this.state.direction==="top"||this.state.direction==="bottom")&&n.style.setProperty("transform",`translateY(${this.state.height})`)):this.state.width&&(this.state.direction==="left"||this.state.direction==="right")?n.style.setProperty("transform","translateX(0)"):this.state.hasHeight&&(this.state.direction==="top"||this.state.direction==="bottom")&&n.style.setProperty("transform","translateY(0)");}touchStart({target:n}){if(n instanceof HTMLElement){let{scrollTop:s,offsetHeight:i}=n,o=s+i;s===0?n.scrollTop=1:o===s&&(n.scrollTop=s-1);}}};G.connect={state:{outsideClick:Boolean,height:String,width:String,offset:String,direction:String,shift:String,redraw:String,useParent:{typeof:Boolean,default:!1},isOpen:{typeof:Boolean,default:!1},bodyScroll:{typeof:Boolean,default:!1},backdrop:{typeof:Boolean,default:!0},mode:{typeof:String,default:"overlay"}}};var tt=G;var qe=class extends I.Component{oninit(){this.state.size=this.tabNodes.length;}toggle({attrs:t}){if(this.state.open!==t.index){for(let n=0,s=this.state.size;n<s;n++)n===t.index?(this.buttonNodes[n].classList.add("active"),this.tabNodes[n].classList.remove("d-none")):(this.buttonNodes[n].classList.remove("active"),this.tabNodes[n].classList.toggle("d-none",!0));this.state.open=t.index;}}};qe.connect={state:{size:Number,open:{default:0,typeof:Number}}};var Oe=class extends I.Component{onload(){this.methods=J(this.relapseNode,{multiple:!0,persist:!1}),this.methods.on("toggle",t=>{t.expanded?this.collapse({attrs:{fold:t.index}}):this.expand({attrs:{fold:t.index}});});}expand({attrs:t}){this.methods.expand(t.fold),this.openerNodes[t.fold].classList.add("disabled"),this.openerNodes[t.fold].classList.remove("active"),this.closerNodes[t.fold].classList.remove("disabled"),this.closerNodes[t.fold].classList.add("active");}collapse({attrs:t}){this.methods.collapse(t.fold),this.openerNodes[t.fold].classList.remove("disabled"),this.closerNodes[t.fold].classList.remove("active"),this.closerNodes[t.fold].classList.add("disabled");}disable({attrs:t}){this.methods.expand(t.fold);}};Oe.connect={state:{open:{default:0,typeof:Number}}};var Pe=class extends I.Component{constructor(){super(...arguments);this.colors=["fc-cyan","fc-pink","fc-purple","fc-green"];}onload(){this.relapse=J(this.relapseNode),this.relapse.on("focus",this.focus,this),this.relapse.on("collapse",this.collapse,this),this.relapse.on("expand",this.expand,this),this.relapse.on("toggle",this.toggle,this);}insert(n,s){++this.state.count;let i=document.createElement("div");i.className=`d-block pb-1 message ${this.colors[s]}`,i.ariaLabel=`${this.state.count}`,i.innerText=n,this.logNode.appendChild(i),this.logNode.scrollTop=this.logNode.scrollHeight;}toggle(n){this.insert(`Fold at index ${n.index} was toggled and will ${n.expanded?"collapse":"expand"}`,n.index);}focus(n){this.insert(`Fold at index ${n.index} was focused and will ${n.expanded?"collapse":"expand"}`,n.index);}collapse(n){this.insert(`Fold at index ${n.index} was collapsed and is closed`,n.index);}expand(n){this.insert(`Fold at index ${n.index} was expanded and is open`,n.index);}};Pe.connect={state:{count:Number}};var He=class extends I.Component{inViewport(){let t=this.collapseNode.getBoundingClientRect();for(let{element:n,folds:s}of J.get())if(n.id===this.state.accordion){t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||s.find(i=>i.expanded===!0).close();break}}toggle(t){if(t.stopPropagation(),this.dom.classList.contains("is-open"))return this.close();this.state.collapse="opened",this.dom.classList.add("is-open"),this.buttonNode.classList.remove("selected"),this.state.hasAccordion&&this.inViewport(),addEventListener("click",this.outsideClick.bind(this));}outsideClick(t){this.buttonNode!==t.target&&this.collapseNode!==t.target&&this.dom.classList.contains("is-open")&&this.close();}close(){this.dom.classList.remove("is-open"),this.state.collapse==="selected"||this.state.hasSelected?(this.dom.classList.add("selected"),this.state.collapse="selected"):this.state.collapse="closed",removeEventListener("click",this.outsideClick),this.buttonNode.focus();}select({target:t}){t.checked=!0,this.state.selected=t.value,this.buttonNode.innerText=t.getAttribute("aria-label"),this.state.collapse="selected";for(let n of this.dom.getElementsByTagName("label"))n.getAttribute("for")===t.id?n.classList.contains("selected")||n.classList.add("selected"):n.classList.contains("selected")&&n.classList.remove("selected");this.close();}option(t){if(t.target instanceof HTMLElement){if(t.currentTarget instanceof HTMLElement){let[n]=t.currentTarget.getElementsByClassName("selected");n&&(this.state.selected=n.id);}t.currentTarget instanceof HTMLElement,this.state.hasRequired&&(this.buttonNode.classList.contains("is-invalid")&&this.buttonNode.classList.remove("is-invalid"),this.state.required=!1,this.buttonNode.classList.add("selected")),this.state.kind==="preset"?(this.state.selected=`Preset (${t.target.textContent.trim()})`,this.buttonNode.innerHTML=`Preset (${t.target.textContent.trim()})<span class="icon"></span>`):(this.state.selected=t.target.textContent,this.buttonNode.textContent=t.target.textContent);for(let n of this.collapseNode.children)n.id!==t.target.id?n.classList.remove("selected"):n.classList.add("selected");this.state.collapse="selected",this.toggle(t);}}};He.connect={state:{selected:String,form:String,accordion:String,kind:String,required:{typeof:Boolean,default:!1},collapse:{typeof:String,default:"closed"},type:{typeof:String,default:"dropdown"}}};I.connect({fragments:["main","menu"],components:{Methods:Oe,Dropdown:He,Events:Pe,Tabs:qe,Drawer:tt}})(function(){J();});I.on("load",function({key:e}){J.reinit();});

})();
