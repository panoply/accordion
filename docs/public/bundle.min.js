(function () {
	'use strict';

	var C=(e,t,n)=>new Promise((s,i)=>{var r=f=>{try{c(n.next(f));}catch(d){i(d);}},a=f=>{try{c(n.throw(f));}catch(d){i(d);}},c=f=>f.done?s(f.value):Promise.resolve(f.value).then(r,a);c((n=n.apply(e,t)).next());});var On=Object.defineProperty,l=(e,t)=>On(e,"name",{value:t,configurable:!0}),di=(e,t)=>{for(var n in t)On(e,n,{get:t[n],enumerable:!0});},F=typeof window!="undefined"?window:{screen:{},navigator:{}},ye=(F.matchMedia||function(){return {matches:!1}}).bind(F),ui={get passive(){return !0}},Hn=l(function(){},"noop");F.addEventListener&&F.addEventListener("p",Hn,ui);F.removeEventListener&&F.removeEventListener("p",Hn,!1);var Bt="ontouchstart"in F,hi="TouchEvent"in F,Mn=Bt||hi&&ye("(any-pointer: coarse)").matches,Cn=(F.navigator.maxTouchPoints||0)>0||Mn,Rn=F.navigator.userAgent||"",pi=ye("(pointer: coarse)").matches&&/iPad|Macintosh/.test(Rn)&&Math.min(F.screen.width||0,F.screen.height||0)>=768,mi=(ye("(pointer: coarse)").matches||!ye("(pointer: fine)").matches&&Bt)&&!/Windows.*Firefox/.test(Rn),gi=ye("(any-pointer: fine)").matches||ye("(any-hover: hover)").matches||pi||!Bt,Qe=Cn&&(gi||!mi)?"hybrid":Cn?"touchOnly":"mouseOnly",In=typeof window!="undefined";"content"in document.createElement("template");document.createRange&&"createContextualFragment"in document.createRange();var W=Mn?"pointer":"mouse",De=window.location.origin,{assign:O,keys:Pi,entries:Oi}=Object,et=Object.defineProperty,Ae=Object.defineProperties,Tn=Object.create,{isArray:_}=Array,Dn=Array.from,N="",{warn:Sn,info:vi,error:qn,debug:Hi}=console,q=l(()=>document.body,"d"),yi=l(()=>document.head,"h"),b=l(e=>e?O(Tn(null),e):Tn(null),"o"),be=l(e=>new Set(e),"s"),bi=l(e=>new Proxy(b(),e),"p"),G=l(()=>new Map,"m"),We=class extends XMLHttpRequest{constructor(){super(...arguments),this.key=null;}};l(We,"XHR");We.$request=G();We.$transit=G();We.$timeout=b();var L=We,o=b({index:"",eval:!0,patched:!1,loaded:!1,logLevel:2,qs:b(),config:b({fragments:["body"],timeout:3e4,globalThis:!0,schema:"spx-",manual:!1,logLevel:2,cache:!0,components:null,maxCache:100,reverse:!0,preload:null,annotate:!1,eval:b({script:null,style:null,link:null,meta:!1}),hover:b({trigger:"href",threshold:250}),intersect:b({rootMargin:"0px 0px 0px 0px",threshold:0}),proximity:b({distance:75,threshold:250,throttle:500}),progress:b({bgColor:"#111",barHeight:"3px",minimum:.08,easing:"linear",speed:200,threshold:500,trickle:!0,trickleSpeed:200})}),fragments:G(),components:b({$registry:G(),$instances:G(),$connected:be(),$elements:G(),$cached:G(),$reference:bi({get:(e,t)=>o.components.$instances.get(e[t])})}),events:b(),observe:b(),memory:b(),pages:b(),snaps:b(),resources:be()});function m(e,t,n){let s=o.logLevel,i="\x1B[96mSPX\x1B[0m ";if(_(t)&&(t=t.join(" ")),(e===2||e===1)&&(s===1||s===2))vi(`${i}%c${t}`,`color: ${n||"#999"};`);else if(e<=3&&s===3)n?Sn(i+t,n):Sn(i+t);else if(e===5||e===4){n?qn(i+t,n):qn(i+t);try{throw e===4?new TypeError(t):new Error(t)}catch(r){}}}l(m,"log");var $i=/\b(?:append|prepend)/,wi=/\s+/g,Ht=/^\b(?:true|false)$/i,Wn=/^\d*\.?\d+$/,Mt=/^(?:[.-]?\d*\.?\d+|NaN)$/,xi=/\b(?:intersect|hover|proximity)\b/,Ai=/\b(?:SCRIPT|STYLE|LINK)\b/,ki=/\[(['"]?.*['"]?,?)\]/,Pn=/[xy]\s*|\d*\.?\d+/gi;function zn(e){let t=e.replace(/\s+,/g,",").replace(/,\s+/g,",").replace(/['"]/g,N);return t.charCodeAt(0)===91&&(/^\[\s*\[/.test(t)||/,/.test(t)&&/\]$/.test(t))&&(t=t.replace(/^\[/,N).replace(/\]$/,N)),t.split(/,|\|/)}l(zn,"splitAttrArrayValue");function Se(e,t){try{let n=(t||e).replace(/\\'|'/g,s=>s[0]==="\\"?s:'"').replace(/\[|[^\s[\]]*|\]/g,s=>/[[\]]/.test(s)?s:s.split(",").map(i=>i.replace(/^(\w+)$/,'"$1"').replace(/^"([\d.]+)"$/g,"$1")).join(",")).replace(/([a-zA-Z0-9_-]+)\s*:/g,'"$1":').replace(/:\s*([$a-zA-Z_-]+)\s*([,\]}])/g,':"$1"$2').replace(/,([\]}])/g,"$1").replace(/([a-zA-Z_-]+)\s*,/g,'"$1",').replace(/([\]},\s]+)?"(true|false)"([\s,{}\]]+)/g,"$1$2$3");return JSON.parse(n)}catch(n){return m(5,"Invalid JSON expression in attribute value: "+JSON.stringify(e||t,null,2),n),t}}l(Se,"attrJSON");function ge(e){return e[e.length-1]}l(ge,"last");function Xn(e){return e.replace(/\s+/g," ").trim()}l(Xn,"equalizeWS");function jn(e){return e.replace(/\./g,"\\.").replace(/@/g,"\\@").replace(/:/g,"\\:")}l(jn,"escSelector");function dt(e){return Xn(e.replace(/[\s .]+/g,".")).replace(/\s+/g," ").trim().split(/[ ,]/)}l(dt,"attrValueNotation");function Fn(e){if(Mt.test(e))return e==="NaN"?NaN:+e;if(Ht.test(e))return e==="true";let t=e.charCodeAt(0);return t===123||t===91?Se(e):e}l(Fn,"attrValueFromType");function Vn(){return new Promise(e=>setTimeout(()=>e(),1))}l(Vn,"onNextTickResolve");function J(e){return setTimeout(()=>e(),1)}l(J,"onNextTick");function Yt(){return Promise.resolve()}l(Yt,"promiseResolve");function Bn(e){let t=document.createElement("textarea");return t.innerHTML=e,t.value}l(Bn,"decodeEntities");function Kt(){return new Date().getTime()}l(Kt,"ts");function ut(e){return t=>t?typeof t=="string"?t in e:t.every(n=>n in e):!1}l(ut,"hasProps");function P(e,t){return e?t in e:!1}l(P,"hasProp");function qe(e,t,n){return t!==void 0?(et(e,t,{get:()=>n}),e):(s,i,r)=>{if(P(e,s))return;let a=l(()=>i,"get");return et(e,s,r?O(r,{get:a}):{get:a})}}l(qe,"defineGetter");function Ut(e){return P(e,"target")?e.target.length===1&&e.target[0]==="body"?e.target:e.target.filter((t,n,s)=>t!=="body"&&t!==N&&t.indexOf(",")===-1?s.indexOf(t)===n:!1):o.config.fragments.length===1&&o.config.fragments[0]==="body"?["body"]:[]}l(Ut,"targets");function ht(e){return e.length===1&&e[0]==="body"?"body":e.length===0?null:e.join(",")}l(ht,"selector");function pt(e){let t=typeof e;if(t==="object"){for(let n in e)return !1;return !0}else {if(t==="string")return e[0]===void 0;if(_(e))return e.length>0}return !1}l(pt,"isEmpty");function Yn(...e){return e.join(N)}l(Yn,"glue");var U=l(function e(t=5){let n=Math.random().toString(36).slice(-t);return e.$cache.has(n)?e(t):(e.$cache.add(n),n)},"uuid");U.$cache=be();function Kn(e=2){return (t,n)=>{let s=t.length;return (s<1||t[s-1].length===e?t.push([n]):t[s-1].push(n))&&t}}l(Kn,"chunk");function Un(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":e<1073741824?(e/1048576).toFixed(1)+" MB":(e/1073741824).toFixed(1)+" GB"}l(Un,"size");function _t(e){return e[0].toLowerCase()+e.slice(1)}l(_t,"downcase");function tt(e){return e[0].toUpperCase()+e.slice(1)}l(tt,"upcase");function Rt(e){return /[A-Z]/.test(e)?e.replace(/(.{1})([A-Z])/g,"$1-$2").toLowerCase():e}l(Rt,"kebabCase");function ke(e){return /[_-]/.test(_t(e))?e.replace(/([_-]+).{1}/g,(t,n)=>t[n.length].toUpperCase()):e}l(ke,"camelCase");function $e(e,t){let n=typeof e=="string"?q().querySelectorAll(e):e,s=n.length;if(s!==0)for(let i=0;i<s&&t(n[i],i)!==!1;i++);}l($e,"forNode");function ie(e,t){if(arguments.length===1)return s=>ie(e,s);let n=t.length;if(n!==0)for(let s=0;s<n;s++)e(t[s],s,t);}l(ie,"forEach");function It(e){for(let t in e)delete e[t];}l(It,"empty");function _n(){if(o.patched)return;o.patched=!0;let e=Element.prototype.setAttribute,t=document.createElement("i");Element.prototype.setAttribute=l(function(s,i){if(s.indexOf("@")<0)return e.call(this,s,i);t.innerHTML=`<i ${s}="${i}"></i>`;let r=t.firstElementChild.getAttributeNode(s);t.firstElementChild.removeAttributeNode(r),this.setAttributeNode(r);},"setAttribute");}l(_n,"patchSetAttribute");function Zn(){let e=[],t=document.createElement("div"),n=null,s,i=null,r=l(({bgColor:y,barHeight:k,speed:K,easing:re})=>{t.style.cssText=Yn("pointer-events:none;",`background-color:${y};`,`height:${k};`,"position:fixed;","display:block;","z-index:2147483647;","top:0;","left:0;","width:100%;","will-change:opacity,transform;",`transition:transform ${K}ms ${re};`);},"style"),a=l(y=>(-1+y)*100,"percent"),c=l((y,k,K)=>y<k?k:y>K?K:y,"current"),f=l(()=>i||(t.style.setProperty("transform",`translateX(${a(n||0)}%)`),i=q().appendChild(t),t),"render"),d=l(()=>{let y=q();if(y.contains(i)){let k=i.animate({opacity:["1","0"]},{easing:"ease-out",duration:100});k.onfinish=()=>{y.removeChild(i),i=null;};}else i=null;},"remove"),h=l(()=>{let y=e.shift();y&&y(h);},"dequeue"),$=l(y=>{e.push(y),e.length===1&&h();},"enqueue"),u=l(y=>{y=c(y,o.config.progress.minimum,1),n=y===1?null:y;let k=f();$(K=>{k.style.setProperty("transform",`translateX(${a(y)}%)`),y===1?setTimeout(()=>{d(),K();},o.config.progress.speed*2):setTimeout(K,o.config.progress.speed);});},"set"),p=l(y=>{let k=n;if(!k)return v();if(k<1)return typeof y!="number"&&(k>=0&&k<.2?y=.1:k>=.2&&k<.5?y=.04:k>=.5&&k<.8?y=.02:k>=.8&&k<.99?y=.005:y=0),k=c(k+y,0,.994),u(k)},"inc"),g=l(()=>{setTimeout(()=>{n&&(p(),g());},o.config.progress.trickleSpeed);},"doTrickle");function v(y){o.config.progress&&(s=setTimeout(()=>{n||u(0),o.config.progress.trickle&&g();},y||0));}l(v,"start");function w(y){clearTimeout(s),!(!y&&!n)&&(p(.3+.5*Math.random()),u(1));}return l(w,"done"),{start:v,done:w,style:r}}l(Zn,"ProgressBar");var mt=Zn();function nt(e,t){let n=e.name,s=t;t=_t(t||n),P(e,"define")||(e.define={name:t,state:{},nodes:[]});let i=ut(e.define);return i("state")||(e.define.state={}),i("nodes")||(e.define.nodes=[]),i("name")||(e.define.name=t),i("merge")||(e.define.merge=!1),t!==e.define.name&&(t=ke(e.define.name)),n!==s&&/^[A-Z]|[_-]/.test(e.define.name)&&m(3,[`Component identifer name "${e.define.name}" must use camelCase format.`,`The identifer has been converted to "${t}"`]),t}l(nt,"getComponentId");function ae(e,t=!1){let{$registry:n}=o.components;for(let s in e){let i=e[s],r=t?s:nt(i,s);n.has(r)||(n.set(r,i),m(1,`Component ${i.name} registered using id: ${r}`,"#F48FB1"));}o.config.components||(o.config.components=!0);}l(ae,"registerComponents");function Gn(e){for(let t of ["hover","intersect","proximity","progress"])P(e,t)&&(e[t]===!1?o.config[t]=!1:typeof e[t]=="object"&&O(o.config[t],e[t]),delete e[t]);return e}l(Gn,"observers");function me(e,t){let n=`:not([${e}${t}=false]):not([${e}link])`;switch(t.charCodeAt(0)){case 104:return `${n}:not([${e}proximity]):not([${e}intersect])`;case 105:return `${n}:not([${e}hover]):not([${e}proximity])`;case 112:return `${n}:not([${e}intersect]):not([${e}hover])`}}l(me,"not");function Jn(e,t,n){if("eval"in e)if(e.eval){if(typeof e.eval=="object"){let s=O(o.config.eval,e.eval);o.eval=!(!s.link&&!s.meta&&!s.script&&!s.style);}}else o.eval=!1;return s=>{if(o.eval===!1||o.config.eval[s]===!1)return `${s}[${t}eval]:${n}`;if(o.config.eval[s]===!0)return `${s}:${n}`;let i=s==="link"?`${s}[rel=stylesheet]:${n}`:s==="script"?`${s}:${n}:not([${t}eval=hydrate])`:`${s}:${n}`;if(o.config.eval[s]===null)return i;if(_(o.config.eval[s]))return o.config.eval[s].length>0?o.config.eval[s].map(r=>`${r}:${n}`).join(","):(m(3,`Missing eval ${s} value, SPX will use defaults`),i);m(4,`Invalid eval ${s} value, expected boolean or array`);}}l(Jn,"evaluators");function Qn(e){let t=[];if("fragments"in e&&_(e.fragments)&&e.fragments.length>0)for(let n of e.fragments){let s=n.charCodeAt(0);if(s===46||s===91){m(3,[`Invalid fragment selector "${n}" provided. Fragments must be id annotated values.`,"Use spx-target attributes for additional fragment selections."]);continue}else s===35?t.push(n.trim()):t.push(`#${n.trim()}`);}else return ["body"];return t}l(Qn,"fragments");function es(e=b()){"logLevel"in e&&(o.logLevel=e.logLevel,o.logLevel===1&&m(1,"Verbose Logging")),_n(),Ae(o,{ready:{get:()=>document.readyState==="complete"},types:{get:()=>b({INITIAL:0,PREFETCH:1,FETCH:2,PRELOAD:3,REVERSE:4,POPSTATE:5,VISIT:6,HYDRATE:7,CAPTURE:8,RELOAD:9,HOVER:10,INTERSECT:11,PROXIMITY:12})}}),"components"in e&&(ae(e.components),delete e.components),O(o.config,Gn(e));let t=o.config.schema,n=t==="spx"?"spx":t.endsWith("-")?t:t===null?N:`${t}-`,s=`:not([${n}disable]):not([href^=\\#])`,i=`not([${n}eval=false])`,r=Jn(e,n,i);o.config.fragments=Qn(e),o.config.schema=n,o.config.index=null,o.memory.bytes=0,o.memory.visits=0,o.memory.limit=o.config.maxCache,O(o.qs,{$attrs:new RegExp(`^href|${n}(hydrate|append|prepend|target|progress|threshold|scroll|position|proximity|hover|cache|history)$`,"i"),$find:new RegExp(`${n}(?:node|bind|component)|@[a-z]|[a-z]:[a-z]`,"i"),$param:new RegExp(`^${n}[a-zA-Z0-9-]+:`,"i"),$target:`${n}target`,$fragment:`${n}fragment`,$fragments:`[${n}fragment]`,$targets:`[${n}target]:not([${n}target=false])`,$morph:`${n}morph`,$eval:`${n}eval`,$intersector:`[${n}intersect]${me(n,"intersect")}`,$track:`[${n}track]:not([${n}track=false])`,$component:`${n}component`,$node:`${n}node`,$bind:`${n}bind`,$ref:"data-spx",$href:o.config.annotate?`a[${n}link]${s}`:`a${s}`,$script:r("script"),$style:r("style"),$link:r("link"),$meta:r("meta"),$hydrate:`script[${n}eval=hydrate]:${i}`,$resource:`link[rel=stylesheet][href*=\\.css]:${i},script[src*=\\.js]:${i}`,$data:`${n}data:`,$proximity:`a[${n}proximity]${s}${me(n,"proximity")}`,$intersect:`a${s}${me(n,"intersect")}`,$hover:o.config.hover!==!1&&o.config.hover.trigger==="href"?`a${s}${me(n,"hover")}`:`a[${n}hover]${s}${me(n,"hover")}`}),mt.style(o.config.progress);}l(es,"configure");function ze(e){return new DOMParser().parseFromString(e,"text/html")}l(ze,"parse");function we(e){return (e||document).documentElement.outerHTML}l(we,"takeSnapshot");function Zt(e){let t=e.indexOf("<title");if(t===-1||e.slice(0,t).indexOf("<svg")>-1)return N;let n=e.indexOf(">",t)+1,s=e.indexOf("</title",n);return Bn(e.slice(n,s).trim())}l(Zt,"getTitle");function M(e,...t){let n=e==="before:cache";n&&(t[1]=ze(t[1]));let s=!0;return ie(i=>{let r=i.apply(null,t);n?r instanceof Document?s=r.documentElement.outerHTML:typeof s!="string"&&(s=r!==!1):s=r!==!1;},o.events[e]||[]),s}l(M,"emit");function Gt(e,t,n){return e in o.events||(o.events[e]=[]),o.events[e].push(n?t.bind(n):t)-1}l(Gt,"on");function Jt(e,t){if(e in o.events){let n=o.events[e];if(n&&typeof t=="number")n.splice(t,1),m(2,`Removed ${e} event listener (id: ${t})`),n.length===0&&delete o.events[e];else {let s=[];if(n&&t)for(let i=0,r=n.length;i<r;i++)n[i]!==t?s.push(n[i]):e!=="x"&&m(2,`Removed ${e} event listener (id: ${i})`);s.length?o.events[e]=s:delete o.events[e];}}else m(3,`There are no ${e} event listeners`);return this}l(Jt,"off");function Xe(e,{method:t="GET",body:n=null,headers:s=null,type:i="text"}={}){return new Promise(function(r,a){let c=new L;if(c.key=e,c.responseType=i,c.open(t,e),c.setRequestHeader("spx-request","true"),s!==null)for(let f in s)c.setRequestHeader(f,s[f]);c.onloadstart=function(){L.$request.set(this.key,c);},c.onload=function(){r(this.response);},c.onerror=function(){a(this.statusText);},c.onabort=function(){delete L.$timeout[this.key],L.$transit.delete(this.key),L.$request.delete(this.key);},c.onloadend=function(f){L.$request.delete(this.key),o.memory.bytes=o.memory.bytes+f.loaded,o.memory.visits=o.memory.visits+1;},c.send(n);})}l(Xe,"request");function Qt(e){return e in L.$timeout?(clearTimeout(L.$timeout[e]),delete L.$timeout[e]):!0}l(Qt,"cleanup");function en(e,t,n){e in L.$timeout||B(e)||(L.$timeout[e]=setTimeout(t,n));}l(en,"throttle");function Dt(e){for(let[t,n]of L.$request)e!==t&&(n.abort(),m(3,`Pending request aborted: ${t}`));}l(Dt,"cancel");function ts(e){if(o.config.preload!==null){if(_(o.config.preload)){let t=o.config.preload.filter(n=>{let s=H(n,3);return s.key!==n?R(z(s)):!1});return Promise.allSettled(t)}else if(typeof o.config.preload=="object"&&P(o.config.preload,e.key)){let t=o.config.preload[e.key].map(n=>R(z(H(n,3))));return Promise.allSettled(t)}}}l(ts,"preload");function tn(e){return C(this,null,function*(){if(e.rev===e.key)return;let t=z(H(e.rev,4));yield Vn(),R(t).then(n=>{n?m(2,`Reverse fetch completed: ${n.rev}`):m(3,`Reverse fetch failed: ${e.rev}`);});})}l(tn,"reverse");function gt(e){return C(this,null,function*(){if(!L.$transit.has(e.key))return e;let t=yield L.$transit.get(e.key);return L.$transit.delete(e.key),delete L.$timeout[e.key],Et(e,t)})}l(gt,"wait");function R(e){return C(this,null,function*(){return L.$request.has(e.key)&&e.type!==7?(e.type===4&&L.$request.has(e.rev)?(L.$request.get(e.rev).abort(),m(3,`Request aborted: ${e.rev}`)):m(3,`Request in transit: ${e.key}`),!1):M("fetch",e)?(L.$transit.set(e.key,Xe(e.key)),gt(e)):(m(3,`Request cancelled via dispatched event: ${e.key}`),!1)})}l(R,"fetch");function vt(e,t){if(t(e)===!1)return;let n,s;for(e.firstElementChild&&(s=0,n=e.children[s]);n;)n&&vt(n,t),n=e.children[++s];}l(vt,"walkElements");function Wt(e,t){return `on${e}`in t?!0:(m(5,[`Invalid event name "${e}" provided. No such event exists in the DOM API.`,"Only known event listeners can be attached."],t),!1)}l(Wt,"isValidEvent");function zt(e,t,n){let s=e[t.method];return l(function(r){t.params&&(P(r,"attrs")||qe(r,"attrs",b()),O(r.attrs,t.params)),s.call(e,r);},"handle")}l(zt,"eventAttrs");function st(e,t){t.attached&&(t.listener.abort(),t.listener=new AbortController,t.options.signal=t.listener.signal,t.attached=!1,o.components.$elements.delete(t.dom),o.logLevel===1&&m(1,[`Detached ${t.key} ${t.eventName} event from ${t.method}() method in component`,`${e.scope.define.name}: ${e.scope.key}`]));}l(st,"removeEvent");function nn(e,t,n){if(!n.attached){if(!(n.method in e)){m(3,`Undefined callback method: ${e.scope.define.name}.${n.method}()`);return}rs(t.attributes,n),n.isWindow?Wt(n.eventName,window)&&addEventListener(n.eventName,zt(e,n)):Wt(n.eventName,t)&&(t.addEventListener(n.eventName,zt(e,n),n.options),o.components.$elements.set(n.dom,t)),n.attached=!0,o.logLevel===1&&m(1,[`Attached ${n.key} ${n.eventName} event to ${n.method}() method in component`,`${e.scope.define.name}: ${e.scope.key}`]);}}l(nn,"addEvent");var Ge,sn=(Ge=class{constructor(e){this.state=b();let{$elements:t}=o.components,{scope:n}=Ae(this,{scope:{get:()=>sn.scopes.get(e)},dom:{get:()=>t.get(n.dom)}}),s=`${o.config.schema}${n.instanceOf}`;if(this.state=new Proxy(b(),{set:(i,r,a)=>{let c=n.define.state[r],f=typeof a=="object"||_(a)?JSON.stringify(a):`${a}`;if(typeof c=="object"&&P(c,"persist")&&c.persist?i[r]=n.state[r]=a:i[r]=a,f.trim()!==N&&this.dom){let d=this.dom.hasAttribute(`${s}:${r}`)?`${s}:${r}`:`${s}:${Rt(r)}`;f!==this.dom.getAttribute(`${s}:${r}`)&&this.dom.setAttribute(d,f);}if(r in n.binds){let{binds:d}=n;for(let h in d[r])d[r][h].value=f,t.has(d[r][h].dom)&&(t.get(d[r][h].dom).innerText=f);}return !0}}),pt(n.state))for(let i in n.define.state){let r=n.define.state[i],a,c;typeof r=="object"?(a=r.typeof,c=r.default):a=r,a===String?this.state[i]=c||N:a===Boolean?this.state[i]=typeof c=="boolean"?c:c==="true"||!1:a===Number?this.state[i]=c?Number(c):0:a===Array?this.state[i]=c||[]:a===Object&&(this.state[i]=c||{}),n.state[i]=this.state[i];}else for(let i in n.define.state){if(!(i in n.state))if(typeof n.define.state[i]=="object")n.state[i]=n.define.state[i].default;else switch(n.define.state[i]){case String:n.state[i]=N;break;case Boolean:n.state[i]=!1;break;case Number:n.state[i]=0;break;case Object:n.state[i]={};break;case Array:n.state[i]=[];break}let r=n.define.state[i],a=Rt(i),c,f=this.dom.hasAttribute(`${s}:${a}`)?this.dom.getAttribute(`${s}:${a}`):this.dom.getAttribute(`${s}:${i}`),d,h=f!==null&&f!==N;typeof r=="object"?(c=r.typeof,d=h,h||(f=r.default)):c=r,`has${tt(i)}`in this.state||et(this.state,`has${tt(i)}`,{get(){return h}}),typeof f=="string"&&f.startsWith("window.")?this.state[i]=window[f.slice(7)]:c===String?this.state[i]=f||N:c===Boolean?this.state[i]=typeof f=="boolean"?f:f==="true"||!1:c===Number?this.state[i]=f?Number(f):0:c===Array?this.state[i]=h?Se(f):d?f:[]:c===Object&&(this.state[i]=h?Se(f):d?f:{}),n.state[i]=this.state[i];}}get html(){return document.documentElement}},l(Ge,"Component"),Ge.scopes=G(),Ge);function on(e,t,n,s){let i,r,a;for(e.firstElementChild&&(i=0,r=e.children[i],a=t.children[i]);r;)r&&(s.has(a)?(Pe(r,n,!0),s.delete(a)):a.hasAttribute(o.qs.$ref)&&r.setAttribute(o.qs.$ref,a.getAttribute(o.qs.$ref)),on(r,a,n,s)),r=e.children[++i],a=t.children[i];}l(on,"patchSnap");function Pe(e,t,n=!1){let{$elements:s}=o.components;vt(e,i=>{if(i.getAttribute("spx-snapshot")!=="false"&&he(i.attributes)&&!i.hasAttribute(o.qs.$ref)){let r=t.shift();if(s.has(r)){let a=i.getAttribute(o.qs.$ref),f=s.get(r).getAttribute(o.qs.$ref);if(a!==f&&i.setAttribute(o.qs.$ref,f),t.length===0)return n===!1&&(Ct(i.ownerDocument.documentElement.outerHTML),m(1,`Snapshot ${o.page.key} updated for: ${o.page.snap}`)),!1}}});}l(Pe,"morphSnap");function Xt(e,t){let{page:n,dom:s}=Ws(o.page.key),i=e.charCodeAt(0)===114?"removed":"appended";s.head.contains(t)?(s.head[e](t),o.snaps[n.snap]=s.documentElement.outerHTML,m(1,`Snapshot record was updated. Node ${i} from <head>`,t)):m(3,"Node does not exists in snapshot record, no mutation applied",t);}l(Xt,"morphHead");var ns={};di(ns,{connect:()=>fe,disconnect:()=>je,hook:()=>Oe,hookArguments:()=>rn,mount:()=>yt,teardown:()=>an});function rn(){return O(b(),{page:O(b(),o.page)})}l(rn,"hookArguments");function an(){for(let e in o.components.$reference)delete o.components.$reference[e];for(let e of o.components.$instances.values())for(let t in e.scope.events)st(e,e.scope.events[t]);o.components.$elements.clear(),o.components.$instances.clear(),o.components.$connected.clear(),m(2,"Component instances were disconnected");}l(an,"teardown");function yt(e){let{$instances:t}=o.components,n=rn(),s=[];for(let[i,r,a]of e){let c=t.get(i),{scope:f}=c,d=f.mounted===4?"unmount":"mount",h=l(()=>C(this,null,function*(){try{if(!f.connect&&a&&f.mounted===1)yield c[r](n),yield c[a](n),f.connect=!0;else if(yield c[r](n),f.mounted===4&&f.define.merge){let $=Ee(o.page.rev);$.querySelector(`[${o.qs.$ref}="${c.scope.ref}"]`).outerHTML=f.snapshot,Ct($.documentElement.outerHTML,o.page.rev);}c.scope.mounted=c.scope.mounted===4?5:3;return}catch($){}return m(3,`Component to failed to ${d}: ${c.scope.instanceOf} (${i})`),Promise.reject(i)}),"seq");s.push(Yt().then(h));}return Promise.race(s)}l(yt,"mount");function Oe(){let{$connected:e,$instances:t}=o.components,n=[];for(let s of e){let i=t.get(s),{scope:r}=i,a=r.mounted===4?"unmount":"onmount";i&&a in i&&(a==="onmount"&&"connect"in i&&r.connect===!1?n.push([s,"connect",a]):r.mounted!==3&&r.mounted!==5&&n.push([s,a]));}n.length>0&&yt(n).catch(s=>{let i=t.get(s);i.scope.mounted=5,e.delete(s);});}l(Oe,"hook");function fe(){o.config.components&&(o.observe.components||(o.page.type===0?dn():E?ln(E).then(Oe).then(ds):Oe(),o.observe.components=!0));}l(fe,"connect");function je(){o.observe.components&&(Oe(),o.observe.components=!1);}l(je,"disconnect");function ss(e,t){let n=b(),{$elements:s}=o.components;for(let i in t)t[i].schema in n||(n[t[i].schema]=[]),n[t[i].schema].push(t[i].dom);for(let i in n){if(`${i}s`in e)continue;if(i in e){e[i]=n[i];continue}let r=n[i];r.length>1?Ae(e,{[i]:{get:()=>s.get(r[0]),set(a){r=a;}},[`${i}s`]:{get:()=>r.map(a=>s.get(a))}}):et(e,i,{get:()=>s.get(r[0]),set(a){r=a;}});}}l(ss,"defineNodes");function ln({$scopes:e,$aliases:t,$nodes:n,$morph:s}){let i=o.page.type===4,r=!i||o.page.type===0,a=[],{$elements:c,$connected:f,$instances:d,$registry:h,$reference:$}=o.components;for(let u in e)for(let p of e[u]){if(p.instanceOf===null)if(u in t)p.instanceOf=t[u];else continue;let g,v;if(p.mounted===5&&(s!==null||i)){let w=xn();if(p.alias!==null&&p.alias in w?(v=w[p.alias][0],g=v.scope.define):p.instanceOf in w&&w[p.instanceOf].length===1&&(v=w[p.instanceOf][0],g=v.scope.define),!v){m(3,"Increment component instance failed as instance was undefined",p);continue}p.key=v.scope.key,p.ref=v.scope.ref,p.connect=v.scope.connect,p.mounted=v.scope.mounted=3;}else g=h.get(p.instanceOf),sn.scopes.set(p.key,qe(p,"define",g.define)),v=new g(p.key);if(pt(p.nodes)||ss(v,p.nodes),s===null&&"nodes"in g&&g.nodes.length>0)for(let w of g.nodes)qe(v,`has${tt(w)}Node`,`${w}Node`in v);for(let w in p.events){let y;s!==null&&p.mounted===3?(y=v.scope.events[w]=p.events[w],$[w]=p.key):y=p.events[w],nn(v,c.get(y.dom),y);}if(s===null||(s!==null||i)&&p.mounted===2){f.add(p.key),d.set(p.key,v),o.logLevel===1&&m(1,`Component ${p.define.name} (connect) mounted: ${p.key}`,"#6DD093");let w=-1;"connect"in v&&(a.push([p.key,"connect"]),r&&(v.scope.mounted=1,w=a.length-1)),"onmount"in v&&(w>-1?a[w].push("onmount"):a.push([p.key,"onmount"]));}}return r&&n.length>0&&(se("components",Dn(f)),J(()=>Pe(o.snapDom.body,n))),a.length>0?yt(a):Promise.resolve()}l(ln,"setInstances");function cn(){let e=`${o.config.fragments.join()},${o.qs.$fragments}`;o.fragments.clear(),q().querySelectorAll(e).forEach(t=>{t.hasAttribute(o.qs.$fragment)?o.fragments.set(`[${o.qs.$fragment}="${t.getAttribute(o.qs.$fragment)}"]`,t):o.fragments.set(`#${t.id}`,t);}),se("fragments",Dn(o.fragments.keys()));}l(cn,"connect");function is(e){if(e.type!==6){if(e.selector==="body"||e.selector===null)return;J(()=>{let t=Ee(e.snap),n=t.body.querySelectorAll(o.qs.$targets),s=q().querySelectorAll(o.qs.$targets);$e(n,(i,r)=>{if(bt(i)){m(3,"The fragment or target is a decedent of an element which morphs",i);return}if(!i.hasAttribute("id"))i.setAttribute("id",`t.${U()}`),s!==null&&s[r].setAttribute("id",`t.${U()}`);else if(i.id.startsWith("t."))return;e.fragments.push(i.id);}),Ct(t.documentElement.outerHTML,e.snap);});}}l(is,"setFragmentElements");function bt(e){for(let[t,n]of o.fragments)if(t===e.id||n.contains(e))return !0;return !1}l(bt,"contains");function os(e){return e.trim().replace(/\s+/," ").split(/[|, ]/).map(ke)}l(os,"getComponentValues");function rs(e,t){for(let n=0,s=e.length;n<s;n++){let{name:i,value:r}=e[n];if(o.qs.$param.test(i)&&!i.startsWith(o.qs.$data)&&r){let a=i.slice(o.config.schema.length).split(":").pop();t.params===null&&(t.params=b()),a in t.params||(t.params[a]=Fn(r));}}}l(rs,"getEventParams");function he(e){if(typeof e=="string")return e.indexOf("@")>-1||e===o.qs.$component||e===o.qs.$node||e===o.qs.$bind;for(let t=e.length-1;t>=0;t--)if(he(e[t].name))return !0;return !1}l(he,"isDirective");function ve(e,t){he(e.attributes)&&(e.hasAttribute(o.qs.$component)?fs(e,e.getAttribute(o.qs.$component),t):fn(e,t,null,null));}l(ve,"walkNode");function $t(e=null){return b({$aliases:b(),$scopes:b(),$element:null,$nodes:[],$morph:e,$snaps:e?b():null})}l($t,"getContext");function Fe(e,{$scopes:t,$aliases:n}){return e in t?e in n?ge(t[n[e]]):ge(t[e]):e in n?ge(t[n[e]]):(t[e]=[it(e)],t[e][0])}l(Fe,"getScope");function oe(e,t,n){o.components.$reference[n]=t;let s=e.getAttribute(o.qs.$ref),i=s?`${s},${n}`:n;return e.setAttribute(o.qs.$ref,i),n}l(oe,"setRefs");function it(e,t,n){let{$registry:s}=o.components,i=U(),r=b({key:i,mounted:5,connect:!1,snapshot:null,ref:`c.${i}`,state:b(),nodes:b(),events:b(),binds:b()});return t&&(oe(t,i,r.ref),r.dom=n.$element,r.mounted=2,r.inFragment=bt(t),t.hasAttribute("id")&&(r.alias=ke(t.id.trim()))),s.has(e)?(r.instanceOf=e,r.alias?s.has(r.alias)?m(5,[`Component alias "${r.alias}" matches a component identifer in the registry.`,"An alias reference must be unique and cannot match component names."]):n.$aliases[r.alias]=e:r.alias=null):(r.alias=e||null,r.instanceOf=null,r.mounted===2&&(n.$aliases[r.alias]=null)),r}l(it,"setScope");function as(e,t,n,s){let i=b(),r=n.indexOf("{"),a=t.slice(o.config.schema.length),c=new AbortController;i.key=`e.${U()}`,i.dom=`${s.$element}`,i.isWindow=a.startsWith("window:"),i.eventName=i.isWindow?a.slice(7):a,i.attached=!1,i.params=null,i.options={signal:c.signal};let f=n;if(r>-1){let p=n.slice(r,n.lastIndexOf("}",r)).match(/(passive|once)/g);p!==null&&(p.indexOf("once")>-1&&(i.options.once=!0),p.indexOf("passive")>-1&&(i.options.passive=!0)),f=n.slice(0,r);}let d=dt(f);d.length>1&&m(3,`No more than 1 DOM Event listener method allowed in value: ${n}`);let[h,$]=d[0].split("."),u=Fe(h,s);i.listener=c,i.method=$.trim(),u.events[i.key]=i,oe(e,u.key,i.key);}l(as,"setEvent");function ls(e,t,n){for(let s of dt(t)){let[i,r]=s.split("."),a=Fe(i,n),c=oe(e,a.key,`n.${U()}`);a.nodes[c]=b({key:c,keyProp:r,dom:n.$element,schema:`${r}Node`,isChild:a.mounted===2||a.mounted===3});}}l(ls,"setNodes");function cs(e,t,n){for(let s of dt(t)){let[i,r]=s.split("."),a=Fe(i,n),c=oe(e,a.key,`b.${U()}`);r in a.binds||(a.binds[r]=b()),a.binds[r][c]=b({key:c,stateKey:r,value:e.innerText,dom:n.$element,stateAttr:`${o.config.schema}${i}:${r}`,selector:`[${o.qs.$ref}*=${jn(c)}]`,isChild:a.mounted===2||a.mounted===3});}}l(cs,"setBinds");function fn(e,t,n,s){n===null&&s===null&&(t.$element=U(),t.$nodes.push(t.$element),o.components.$elements.set(t.$element,e));for(let i=e.attributes.length-1;i>=0;i--){let{name:r,value:a}=e.attributes[i];if(n){let c=`${o.config.schema}${n}:`;s&&!r.startsWith(c)&&(c=`${o.config.schema}${s}:`),r.startsWith(c)&&(Fe(n,t).state[ke(r.slice(c.length))]=a);}r.indexOf("@")>-1?as(e,r,a,t):r===o.qs.$bind?cs(e,a,t):r===o.qs.$node&&ls(e,a,t);}}l(fn,"setAttrs");function fs(e,t,n){let{$registry:s,$elements:i}=o.components,{$scopes:r,$aliases:a}=n,c=e.hasAttribute("id")?e.id.trim():null;n.$element=U(),n.$nodes.push(n.$element),i.set(n.$element,e);for(let f of os(t))if(!s.has(f))m(5,`Component does not exist in registry: ${f}`);else {let d;f in r?(d=ge(r[f]),d.mounted===5?(oe(e,d.key,d.ref),d.dom=n.$element,d.mounted=2,d.inFragment=bt(e)):r[f].push(it(f,e,n))):r[f]=[it(f,e,n)],d=ge(r[f]),c&&!(c in a)&&(a[c]=f),fn(e,n,f,d.alias);}}l(fs,"setComponent");function dn(e){let t=$t();if(e)if(e instanceof Set){for(let n of e)ve(n,t);return e.clear(),t}else return ve(e,t),t;else {if(vt(q(),n=>ve(n,t)),pt(t.$scopes))return;ln(t);}}l(dn,"getComponents");var E;function ds(){J(()=>{E=void 0;});}l(ds,"resetContext");function ot(e,t){let{$reference:n,$connected:s,$elements:i}=o.components;for(let r of t){let a=n[r];if(!a)continue;let c=r.charCodeAt(0),{scope:f}=a;if(c===99)s.add(f.key),i.set(f.dom,e),f.mounted=2,o.logLevel===1&&m(1,`Component ${f.define.name} mounted: ${f.key}`,"#6DD093");else if(c===101)nn(a,e,f.events[r]);else if(c===110)i.set(f.nodes[r].dom,e);else if(c===98){let{binds:d}=f;for(let h in d)if(r in d[h]){e.innerText=d[h][r].value,i.set(d[h][r].dom,e);break}}}}l(ot,"connect");function rt(e,t,n){let{$reference:s,$elements:i,$connected:r}=o.components;for(let a of t){let c=s[a];if(!c)continue;let f=a.charCodeAt(0),{scope:d}=c;if(f===99){d.define.merge&&(d.snapshot=e.outerHTML),r.delete(a),i.delete(c.scope.dom);for(let h in d.nodes)i.delete(d.nodes[h].dom);for(let h in d.binds)for(let $ in d.binds[h])i.delete(d.binds[h][$].dom);for(let h in d.events)st(c,d.events[h]);o.logLevel===1&&m(1,`Component ${d.define.name} unmounted: ${d.key}`,"#7b97ca"),d.mounted=4;}else if(f===101)st(c,d.events[a]);else if(f===110){let h=d.nodes[a];i.delete(h.dom),n&&e.isEqualNode(n)&&(oe(e,d.key,a),E.$nodes.push(h.dom));}else if(f===98){for(let h in d.binds)if(a in d.binds[h]){i.delete(d.binds[h][a].dom),n&&e.isEqualNode(n)&&(oe(e,d.key,a),E.$nodes.push(d.binds[h][a].dom));break}}}}l(rt,"disconnect");function He(e){e.nodeType!==1&&e.nodeType!==11||e.hasAttribute(o.qs.$ref)&&rt(e,e.getAttribute(o.qs.$ref).split(","));}l(He,"removeNode");function us(e){e.hasAttribute(o.qs.$ref)?ot(e,e.getAttribute(o.qs.$ref).split(",")):he(e.attributes)&&(E?E.$morph=e:E=$t(e),ve(e,E));}l(us,"addedNode");function hs(e,t,n,s){n&&(n=n.split(",")),s&&(s=s.split(",")),n&&s?(console.log(e,t),rt(e,n),ot(e,s)):!n&&s?ot(e,s):(E?E.$morph=e:E=$t(e),n&&!s&&rt(e,n,t),he(t.attributes)&&ve(e,E));}l(hs,"updateNode");function at(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,N):e.removeAttribute(n));}l(at,"setBooleanAttribute");function ps(e,t){if(t.nodeType===11||e.nodeType===11)return;let n=t.attributes,s=e.getAttribute(o.qs.$ref),i=t.getAttribute(o.qs.$ref),r=!1,a,c,f,d,h;for(let u=n.length-1;u>=0;u--)a=n[u],c=a.name,d=a.value,f=a.namespaceURI,f?(c=a.localName||c,h=e.getAttributeNS(f,c),h!==d&&(a.prefix==="xmlns"&&(c=a.name),e.setAttributeNS(f,c,d))):(h=e.getAttribute(c),h!==d&&(e.setAttribute(c,d),!s&&!i&&!r&&(r=he(c))));let $=e.attributes;for(let u=$.length-1;u>=0;u--)a=$[u],c=a.name,d=a.value,f=a.namespaceURI,f?(c=a.localName||c,t.hasAttributeNS(f,c)||e.removeAttributeNS(f,c)):t.hasAttribute(c)||e.removeAttribute(c);(s||i||r)&&hs(e,t,s,i);}l(ps,"morphAttributes");function ms(e,t){let n=e.parentNode;if(n){let s=n.nodeName.toUpperCase();s==="OPTGROUP"&&(n=n.parentNode,s=n&&n.nodeName.toUpperCase()),s==="SELECT"&&!n.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1);}at(e,t,"selected");}l(ms,"option");function gs(e,t){at(e,t,"checked"),at(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value");}l(gs,"input");function un(e,t){let{value:n}=t;e.value!==n&&(e.value=n);let{firstChild:s}=e;if(s){let{nodeValue:i}=s;if(i===n||!n&&i===e.placeholder)return;s.nodeValue=n;}}l(un,"textarea");function vs(e,t){if(!t.hasAttribute("multiple")){let n=0,s=-1,i=e.firstElementChild,r,a;for(;i;)if(a=i.nodeName&&i.nodeName.toUpperCase(),a==="OPTGROUP")r=i,i=r.firstElementChild;else {if(a==="OPTION"){if(i.hasAttribute("selected")){s=n;break}n++;}i=i.nextElementSibling,!i&&r&&(i=r.nextElementSibling,r=null);}e.selectedIndex=s;}}l(vs,"select");function ys(e,t){return !t||t==="http://www.w3.org/1999/xhtml"?document.createElement(e):document.createElementNS(t,e)}l(ys,"createElementNS");function Me(e,t){if(e===t)return !0;let n=e.charCodeAt(0),s=t.charCodeAt(0);return n<=90&&s>=97?e===t.toUpperCase():s<=90&&n>=97?t===e.toUpperCase():!1}l(Me,"matchName");function bs(e,t){switch(e.nodeName){case"INPUT":gs(e,t);break;case"OPTION":ms(e,t);break;case"SELECT":vs(e,t);break;case"TEXTAREA":un(e,t);break}}l(bs,"formNodes");function Q(e){return e&&"getAttribute"in e?e.getAttribute("id"):void 0}l(Q,"getKey");function $s(e,t){let n=e.firstChild,s;for(;n;)s=n.nextSibling,t.appendChild(n),n=s;return t}l($s,"moveChildren");function Re(e,t,n,s=!0){He(e),t&&t.removeChild(e),hn(e,s,n);}l(Re,"removeNode");function ws(e,t,n){let s=t.firstChild,i,r,a=e.firstChild,c,f,d,h;e:for(;s;){for(i=Q(s),r=s.nextSibling;a;){if(d=a.nextSibling,s.isEqualNode(a)){s=r,a=d;continue e}c=Q(a),f=a.nodeType;let $;if(f===s.nodeType&&(f===1?(i?i!==c&&((h=n.$lookup.get(i))?d&&d.isEqualNode(h)?$=!1:(e.insertBefore(h,a),c?n.$remove.add(c):Re(a,e,n),a=h,c=Q(a)):$=!1):c&&($=!1),$=$!==!1&&Me(a.nodeName,s.nodeName),$&&Ie(a,s,n)):(f===3||f===8)&&($=!0,a.nodeValue!==s.nodeValue&&(a.nodeValue=s.nodeValue))),$){s=r,a=d;continue e}c?n.$remove.add(c):Re(a,e,n),a=d;}i&&(h=n.$lookup.get(i))&&Me(h.nodeName,s.nodeName)?(e.appendChild(h),Ie(h,s,n)):(s.actualize&&(s=s.actualize(e.ownerDocument||document)),e.appendChild(s),lt(s,n)),s=r,a=d;}xs(e,a,c,n),bs(e,t);}l(ws,"morphChildren");function Ie(e,t,n){let s=Q(t);if(s&&n.$lookup.delete(s),e.isEqualNode(t))return;let i=e.getAttribute(o.qs.$morph);i!=="false"&&(i!=="children"&&ps(e,t),e.nodeName!=="TEXTAREA"?ws(e,t,n):un(e,t));}l(Ie,"morphElement");function hn(e,t,n){if(e.nodeType!==1)return;let s=e.firstChild;for(;s;){let i;t&&(i=Q(s))?n.$remove.add(i):(He(s),s.firstChild&&hn(s,t,n)),s=s.nextSibling;}}l(hn,"walkNodes");function lt(e,t){(e.nodeType===1||e.nodeType===11)&&us(e);let n=e.firstChild;for(;n;){let s=n.nextSibling,i=Q(n);if(i){let r=t.$lookup.get(i);r&&Me(n.nodeName,r.nodeName)?(n.parentNode.replaceChild(r,n),Ie(r,n,t)):lt(n,t);}else lt(n,t);n=s;}}l(lt,"addedNode");function xs(e,t,n,s){for(;t;){let i=t.nextSibling;(n=Q(t))?s.$remove.add(n):Re(t,e,s),t=i;}}l(xs,"cleanNode");function pn(e,t){if(e.nodeType===1||e.nodeType===11){let n=e.firstChild;for(;n;){let s=Q(n);s&&t.$lookup.set(s,n),pn(n,t),n=n.nextSibling;}}}l(pn,"indexNode");function ne(e,t){let n=t.cloneNode(!0),s=b({$remove:be(),$lookup:G()});n.nodeType===11&&(n=n.firstElementChild),pn(e,s);let i=e,r=i.nodeType,a=n.nodeType;if(r===1)a===1?Me(e.nodeName,n.nodeName)||(He(e),i=$s(e,ys(n.nodeName,n.namespaceURI))):i=n;else if(r===3||r===8){if(a===r)return i.nodeValue!==n.nodeValue&&(i.nodeValue=n.nodeValue),i;i=n;}if(i.isEqualNode(n))He(e);else {if(n.isEqualNode(i))return i;if(Ie(i,n,s),s.$remove.size>0){for(let c of s.$remove)if(s.$lookup.has(c)){let f=s.$lookup.get(c);Re(f,f.parentNode,s,!1);}}}return i!==e&&e.parentNode&&(i.actualize&&(i=i.actualize(e.ownerDocument||document)),e.parentNode.replaceChild(i,e)),s.$lookup.clear(),s.$remove.clear(),i}l(ne,"morph");function wt(e,t){if(!(e instanceof Element))return !1;let n=e.closest(t);return n&&n.tagName==="A"?n:!1}l(wt,"getLink");function mn(e){if(e.nodeName!=="A")return !1;let t=e.getAttribute("href");return !t||!kn(t)?!1:B(ee(t))===!1}l(mn,"canFetch");function As(e,t){let n=[];return $e(e,s=>{if(s.nodeName!=="A"){let i=s.querySelectorAll(t);$e(i,r=>{mn(r)&&n.push(r);});}else if(s.hasAttribute("href")){let{href:i}=s;kn(i)&&B(ee(i))&&n.push(s);}}),n}l(As,"getNodeTargets");var gn=l(e=>{let t=[];return $e(e,n=>{mn(n)&&t.push(n);}),t},"getTargets");function vn(e){let t=wt(e.target,o.qs.$hover);if(!t)return;let n=H(t,10);if(B(n.key)||n.key in L.$timeout)return;t.addEventListener(`${W}leave`,yn,{once:!0});let s=z(n),i=s.threshold||o.config.hover.threshold;en(n.key,function(){M("prefetch",t,n)&&R(s).then(function(){delete L.$timeout[n.key],bn(t);});},i);}l(vn,"onEnter");function yn(e){let t=wt(e.target,o.qs.$hover);t&&Qt(ee(t.href));}l(yn,"onLeave");function ks(e){e.addEventListener(`${W}enter`,vn);}l(ks,"addListener");function bn(e){e.removeEventListener(`${W}enter`,vn),e.removeEventListener(`${W}leave`,yn);}l(bn,"removeListener");function xt(){!o.config.hover||o.observe.hover||(ie(ks,gn(o.qs.$hover)),o.observe.hover=!0);}l(xt,"connect");function Ve(){o.observe.hover&&(ie(bn,gn(o.qs.$hover)),o.observe.hover=!1);}l(Ve,"disconnect");var ce;function Ls(e){return C(this,null,function*(){if(e.isIntersecting){let t=H(e.target,11);if(!M("prefetch",e.target,t))return ce.unobserve(e.target);(yield R(z(t)))?ce.unobserve(e.target):(m(3,`Prefetch will retry at next intersect for: ${t.key}`),ce.observe(e.target));}})}l(Ls,"onIntersect");function At(){if(!o.config.intersect||o.observe.intersect)return;ce||(ce=new IntersectionObserver(ie(Ls),o.config.intersect));let e=ie(n=>ce.observe(n)),t=As(o.qs.$intersector,o.qs.$intersect);e(t),o.observe.intersect=!0;}l(At,"connect");function Be(){o.observe.intersect&&(ce.disconnect(),o.observe.intersect=!1);}l(Be,"disconnect");var ct=new MutationObserver(function([e]){if(e.type!=="childList")return;let t=e.addedNodes.length;if(t||e.removedNodes.length>0){let n=t?e.addedNodes[0]:e.removedNodes[0];if(n.nodeType!==1)return;o.eval&&Ai.test(n.nodeName)?n.parentNode.nodeName==="HEAD"?Xt(t?"appendChild":"removeChild",n):Ns(n)&&!o.resources.has(n)?o.resources.add(n):o.resources.delete(n):n instanceof HTMLElement&&t&&!n.hasAttribute(o.qs.$ref)&&dn(n);}});function Ns(e){let t=q().querySelectorAll(`${o.page.target.join(",")},[${o.qs.$target}]`);for(let n=0,s=t.length;n<s;n++)if(t[n].contains(e))return !1;return !0}l(Ns,"nodeOutsideTarget");function kt(){o.observe.mutations&&(ct.observe(document.head,{childList:!0}),ct.observe(q(),{childList:!0,subtree:!0}),o.observe.mutations=!0);}l(kt,"connect");function Lt(){if(o.observe.mutations){ct.takeRecords(),ct.disconnect();for(let e of o.resources)q().removeChild(e),o.resources.delete(e);o.observe.mutations=!1;}}l(Lt,"disconnect");function Es({clientX:e,clientY:t},n){return e<=n.right&&e>=n.left&&t<=n.bottom&&t>=n.top}l(Es,"inRange");function Cs(e){let t=e.getBoundingClientRect(),n=e.getAttribute(o.qs.$proximity),s=Wn.test(n)?Number(n):o.config.proximity.distance;return {target:e,top:t.top-s,bottom:t.bottom+s,left:t.left-s,right:t.right+s}}l(Cs,"setBounds");function Ts(e){let t=!1;return n=>{if(t)return;t=!0;let s=e.findIndex(i=>Es(n,i));if(s===-1)setTimeout(()=>{t=!1;},o.config.proximity.throttle);else {let{target:i}=e[s],r=z(H(i,12)),a=r.threshold||o.config.proximity.threshold;en(r.key,()=>C(this,null,function*(){if(!M("prefetch",i,r))return de();(yield R(r))&&(e.splice(s,1),t=!1,e.length===0&&(de(),m(2,"Proximity observer disconnected")));}),a);}}}l(Ts,"observer");var jt;function Nt(){if(!o.config.proximity||o.observe.proximity)return;let e=gn(o.qs.$proximity).map(Cs);e.length>0&&(jt=Ts(e),addEventListener(`${W}move`,jt,{passive:!0}),o.observe.proximity=!0);}l(Nt,"connect");function de(){o.observe.proximity&&(removeEventListener(`${W}move`,jt),o.observe.proximity=!1);}l(de,"disconnect");function Ss(e,t){return C(this,null,function*(){if(!o.eval||!e||!t)return;let n=[],s=be(),{children:i}=e;for(let c=0,f=t.length;c<f;c++)s.add(t[c].outerHTML);for(let c=0,f=i.length;c<f;c++){let d=i[c],{nodeName:h,outerHTML:$}=d,u=!0;h==="SCRIPT"?u=d.matches(o.qs.$script):h==="STYLE"?u=d.matches(o.qs.$style):h==="META"?u=d.matches(o.qs.$meta):h==="LINK"?u=d.matches(o.qs.$link):u=e.getAttribute(o.qs.$eval)!=="false",s.has($)?u?n.push(d):s.delete($):n.push(d);}let r=[],a=document.createRange();for(let c of s){let f=a.createContextualFragment(c).firstChild;if(P(f,"href")||P(f,"src")){let h=new Promise(function($){f.addEventListener("error",u=>{m(3,`Resource <${f.nodeName.toLowerCase()}> failed:`,f),$();}),f.addEventListener("load",()=>$());});r.push(h);}e.appendChild(f),s.delete(c);}for(let c=0,f=n.length;c<f;c++)e.removeChild(n[c]);yield Promise.all(r);})}l(Ss,"morphHead");function qs(e,t){let n=q();if(e.selector==="body"||e.fragments.length===0){let s=t.body;ne(n,s),E&&E.$nodes.length>0&&J(()=>{Pe(s,E.$nodes),se("type",6);});}else if(e.selector!==null){let s=n.querySelectorAll(e.selector),i=t.body.querySelectorAll(e.selector),r=be();for(let a=0,c=s.length;a<c;a++){let f=s[a],d=i[a];!d||!f||M("render",f,d)&&(f.isEqualNode(d)||r.add(ne(f,d)));}e.type!==6&&E&&E.$nodes.length>0&&J(()=>{on(t.body,n,E.$nodes,r),se("type",6),r.clear();});}else {for(let s of e.fragments){let i=o.fragments.get(s),r=t.body.querySelector(s);!r||!i||M("render",i,r)&&(i.isEqualNode(r)||(ne(i,r),E&&E.$nodes.length>0&&J(()=>Pe(r,E.$nodes))));}se("type",6);}}l(qs,"morphNodes");function Ps(e,t){let n=e.hydrate;if(n.length===1&&n[0]==="body"){ne(q(),t.body);return}let s=n.join(","),i=q().querySelectorAll(s),r=e.preserve&&e.preserve.length>0?e.preserve.join(","):null,a=[];if(r){let c=q().querySelectorAll(r);for(let f=0,d=c.length;f<d;f++){let h=c[f];h.setAttribute(o.qs.$morph,"false"),a.push(h);}}if(i.length>0){let c=t.body.querySelectorAll(s);for(let f=0,d=i.length;f<d;f++){let h=i[f],$=c[f];if(c[f]instanceof HTMLElement){if(!M("hydrate",h,$))continue;ne($,$);}}}if(r)for(let c of a)c.removeAttribute("spx-morph");e.hydrate=void 0,e.preserve=void 0,e.type=6,V(e);}l(Ps,"morphHydrate");function V(e){Ve(),Be(),de(),Lt(),je(),cn(),o.eval||(document.title=e.title);let t=Ee(e.snap);return e.type===7?Ps(e,t):(Ss(yi(),t.head.children),qs(e,t),scrollTo(e.scrollX,e.scrollY)),mt.done(),J(()=>{xt(),At(),Nt(),fe(),kt();}),M("load",e),e}l(V,"update");var A=window.history;function Os(){return A.state!==null&&"rev"in A.state&&A.state.key!==A.state.rev}l(Os,"reverse");function $n(e){if(A.state==null||typeof A.state!="object")return !1;let t=ut(A.state)(["key","rev","scrollX","scrollY","title"]);return typeof e=="string"?t&&A.state.key===e:t}l($n,"has");function Hs(){return C(this,null,function*(){yield Yt(),o.loaded=!0;})}l(Hs,"load");function Ms(e){return $n(e.key)?(scrollTo(A.state.scrollX,A.state.scrollY),O(e,A.state)):Le(e),e}l(Ms,"initialize");function Le({key:e,rev:t,title:n,scrollX:s,scrollY:i}){let r={key:e,rev:t,scrollX:s,scrollY:i,title:n||document.title};return A.replaceState(r,r.title,r.key),o.logLevel===1&&m(1,`History replaceState: ${A.state.key}`),A.state}l(Le,"replace");function Ne({key:e,rev:t,title:n,location:s}){let i=s.pathname+s.search,r={key:e,rev:t,title:n,scrollY:0,scrollX:0};return A.pushState(r,r.title,i),o.logLevel===1&&m(1,`History pushState: ${A.state.key}`),A.state}l(Ne,"push");function wn(e){return C(this,null,function*(){if(e.state!==null)if(B(e.state.key)){!B(e.state.rev)&&e.state.rev!==e.state.key?tn(e.state.rev):(o.pages[e.state.rev].scrollX=window.scrollX,o.pages[e.state.rev].scrollY=window.scrollY),console.log(window.scrollY);let t=o.pages[e.state.key];o.logLevel===1&&(t.type===4?m(1,`History popState reverse (snapshot): ${t.key}`):m(1,`History popState session (snapshot): ${t.key}`)),se("type",5),V(t);}else {o.logLevel===1&&m(1,`History popState fetch: ${e.state.key}`),e.state.type=5;let t=yield R(e.state);if(!t)return location.assign(e.state.key);let n=ee(location);if(t.key===n)V(t);else if(B(n))V(o.pages[n]);else {let s=z(H(n,5));yield R(s),Ne(s);}}})}l(wn,"pop");function Rs(e){if(!o.observe.history)return A.scrollRestoration&&(A.scrollRestoration="manual"),addEventListener("popstate",wn,!1),o.observe.history=!0,typeof e=="object"&&e.type===0?Ms(e):e}l(Rs,"connect");function Is(){o.observe.history&&(A.scrollRestoration&&(A.scrollRestoration="auto"),removeEventListener("popstate",wn,!1),removeEventListener("load",Hs,!1),o.observe.history=!1);}l(Is,"disconnect");function z(e){let t=ut(e);return e.ts=Kt(),e.target=Ut(e),t("selector")||(e.target[0]==="body"?e.selector="body":e.selector=ht(e.target)),o.config.cache&&(t("cache")||(e.cache=o.config.cache),t("snap")||(e.snap=U())),t("scrollY")||(e.scrollY=0),t("scrollX")||(e.scrollX=0),o.config.hover!==!1&&e.type===10&&(t("threshold")||(e.threshold=o.config.hover.threshold)),o.config.proximity!==!1&&e.type===12&&(t("proximity")||(e.proximity=o.config.proximity.distance),t("threshold")||(e.threshold=o.config.proximity.threshold)),o.config.progress&&!t("progress")&&(e.progress=o.config.progress.threshold),t("fragments")||(e.fragments=o.config.fragments),t("history")||(e.history=!0),t("visits")||(e.visits=0),t("components")||(e.components=[]),o.pages[e.key]=e,o.pages[e.key]}l(z,"create");function Ds(e){let t=O(b(e),{target:[],selector:null,cache:o.config.cache,history:!0,scrollX:0,scrollY:0,fragments:o.config.fragments});return o.config.hover&&(t.threshold=o.config.hover.threshold),o.config.proximity&&(t.proximity=o.config.proximity.distance,t.threshold=o.config.proximity.threshold),o.config.progress&&(t.progress=o.config.progress.threshold),t}l(Ds,"newPage");function se(e,t,n=A.state.key){return e==="location"?o.pages[n][e]=O(o.pages[n][e],t):e==="target"?(o.pages[n].target=Ut(t),o.pages[n].selector=ht(o.pages[n].target)):e==="components"?o.pages[n].components=t:o.pages[n][e]=t,o.pages[n]}l(se,"patchPage");function Et(e,t){let n=M("before:cache",e,t),s=typeof n=="string"?n:t;return e.type>5&&e.type>9&&(e.type=1),e.title=Zt(t),!o.config.cache||n===!1?e:e.type!==0&&!("snap"in e)?ue(e,s):(o.pages[e.key]=e,o.snaps[e.snap]=s,is(e),M("after:cache",e),e)}l(Et,"set");function ue(e,t){let n=e.key in o.pages?o.pages[e.key]:z(e);return typeof t=="string"&&(o.snaps[n.snap]=t,e.title=Zt(t)),O(n,e)}l(ue,"update");function Ct(e,t){let n=t=t?t.charCodeAt(0)===47?t in o.pages?o.pages[t].snap:null:t:o.page.snap;n?o.snaps[n]=e:m(3,"Snapshot record does not exist, update failed");}l(Ct,"setSnap");function Ws(e){if(!e){if(A.state===null){m(3,"Missing history state reference, page cannot be returned");return}e=A.state.key;}if(e in o.pages)return Ae(b(),{page:{get:()=>o.pages[e]},dom:{get:()=>ze(o.snaps[o.pages[e].snap])}});m(5,`No record exists: ${e}`);}l(Ws,"get");function Ee(e){let t=e=e?e.charCodeAt(0)===47?o.pages[e].snap:e:o.page.snap;return ze(o.snaps[t])}l(Ee,"getSnapDom");function xn({mounted:e=null}={}){let t=b(),{$instances:n,$connected:s}=o.components;for(let i of n.values()){let{scope:r}=i;s.has(r.key)&&(e!==null&&r.mounted===e||(r.alias!==null&&!(r.alias in t)?t[r.alias]=[i]:r.instanceOf in t?t[r.instanceOf].push(i):t[r.instanceOf]=[i]));}return t}l(xn,"getMounted");function zs(e){if(!e){if(A.state===null){m(3,"Missing history state reference, page cannot be returned");return}e=A.state.key;}if(e in o.pages)return o.pages[e];m(5,`No page record exists for: ${e}`);}l(zs,"getPage");function B(e){return P(o.pages,e)&&P(o.pages[e],"snap")&&P(o.snaps,o.pages[e].snap)&&typeof o.snaps[o.pages[e].snap]=="string"}l(B,"has");function xe(e){e?typeof e=="string"?(delete o.snaps[o.pages[e].snap],delete o.pages[e]):_(e)&&ie(t=>{delete o.snaps[o.pages[t].snap],delete o.pages[t];},e):(It(o.pages),It(o.snaps));}l(xe,"clear");var S=De.replace(/(?:https?:)?(?:\/\/(?:www\.)?|(?:www\.))/,N);function An(e,t){let n=t?Ds(t):b(),s=e.getAttributeNames();for(let i=0,r=s.length;i<r;i++){let a=s[i];if(a.startsWith(o.qs.$data)){P(n,"data")||(n.data=b());let c=ke(a.slice(o.qs.$data.length)),f=e.getAttribute(a).trim();Mt.test(f)?n.data[c]=f==="NaN"?NaN:+f:Ht.test(f)?n.data[c]=f==="true":f.charCodeAt(0)===123||f.charCodeAt(0)===91?n.data[c]=Se(a,f):n.data[c]=f;}else {if(!o.qs.$attrs.test(a))continue;let c=e.getAttribute(a).trim();if(a==="href")n.rev=location.pathname+location.search,t||(n.location=ft(c),n.key=n.location.pathname+n.location.search);else {let f=a.slice(a.lastIndexOf("-")+1),d=c.replace(wi,N).trim();if(f==="target")n[f]=d==="true"?[]:d!==N?zn(d):[],n.selector=ht(n[f]);else if(ki.test(d)){let h=d.match(/\[?[^,'"[\]()\s]+\]?/g);n[f]=$i.test(f)?h.reduce(Kn(2),[]):h;}else if(f==="position")if(Pn.test(d)){let h=d.match(Pn);n[`scroll${h[0].toUpperCase()}`]=+h[1],h.length===4&&(n[`scroll${h[2].toUpperCase()}`]=+h[3]);}else m(3,`Invalid attribute value on <${a}>, expected: y:number or x:number`,e);else f==="scroll"?Wn.test(d)?n.scrollY=+d:m(3,`Invalid attribute value on <${a}>, expected: number`,e):Ht.test(d)&&!xi.test(a)?n[f]=d==="true":Mt.test(d)?n[f]=+d:(f==="history"&&d!=="push"&&d!=="replace"&&m(5,`Invalid attribute value on <${a}>, expected: false, push or replace`,e),n[f]=d);}}}return n}l(An,"getAttributes");function le(e){let t=b();if(e.length===1&&e.charCodeAt(0)===47)return t.pathname=e,t.hash=N,t.search=N,t;let s=e.indexOf("#");s>=0?(t.hash=e.slice(s),e=e.slice(0,s)):t.hash=N;let i=e.indexOf("?");return i>=0?(t.search=e.slice(i),e=e.slice(0,i)):t.search=N,t.pathname=e,t}l(le,"parsePath");function Te(e,t){let n=e.indexOf("/",t);if(n>t){let i=e.indexOf("#",n);return i<0?e.slice(n):e.slice(n,i)}let s=e.indexOf("?",t);if(s>t){let i=e.indexOf("#",s);return i<0?e.slice(s):e.slice(s,i)}return e.length-t===S.length?"/":null}l(Te,"getPath");function Je(e){let t=e.startsWith("www.")?e.slice(4):e,n=t.indexOf("/");if(n>=0){let s=t.slice(n);if(t.slice(0,n)===S)return s.length>0?le(s):le("/")}else {let s=t.search(/[?#]/);if(s>=0){if(t.slice(0,s)===S)return le("/"+t.slice(s))}else if(t===S)return le("/")}return null}l(Je,"parseOrigin");function Xs(e){return e.startsWith("http")?1:e.startsWith("//")?2:e.startsWith("www.")?3:1}l(Xs,"hasOrigin");function kn(e){if(typeof e!="string"||e.length===0)return !1;if(e.charCodeAt(0)===47)return e.charCodeAt(1)!==47?!0:e.startsWith("www.",2)?e.startsWith(S,6):e.startsWith(S,2);if(e.charCodeAt(0)===63)return !0;if(e.startsWith("www."))return e.startsWith(S,4);if(e.startsWith("http")){let t=e.indexOf("/",4)+2;return e.startsWith("www.",t)?e.startsWith(S,t+4):e.startsWith(S,t)}}l(kn,"validKey");function js(e){return e.charCodeAt(0)===47?e.charCodeAt(1)!==47?le(e):Je(e.slice(2)):e.charCodeAt(0)===63?le(location.pathname+e):e.startsWith("https:")||e.startsWith("http:")?Je(e.slice(e.indexOf("/",4)+2)):e.startsWith("www.")?Je(e):null}l(js,"parseKey");function ee(e){if(typeof e=="object")return e.pathname+e.search;if(e===N||e==="/")return "/";let t=Xs(e);if(t===1){let n=e.charCodeAt(4)===115?8:7,s=e.startsWith("www.",n)?n+4:n;return e.startsWith(S,s)?Te(e,s):null}if(t===2){let n=e.startsWith("www.",2)?6:2;return e.startsWith(S,n)?Te(e,n):null}return t===3?e.startsWith(S,4)?Te(e,4):null:e.startsWith(S,0)?Te(e,0):null}l(ee,"getKey");function Ln(){let{pathname:e,search:t,hash:n}=location;return b({hostname:S,origin:De,pathname:e,search:t,hash:n})}l(Ln,"fallback");function ft(e){if(e===N)return Ln();let t=js(e);return t===null&&m(5,`Invalid pathname: ${e}`),t.origin=De,t.hostname=S,t}l(ft,"getLocation");function H(e,t=6){if(e instanceof Element){let s=An(e);return s.type=t||6,s}let n=b();return e===0?(n.location=Ln(),n.key=n.rev=ee(n.location),n.type=e,n.visits=1,o.index=n.key):t===7?(n.location=ft(e),n.key=n.rev=ee(n.location),n.type=t):(n.rev=location.pathname+location.search,n.location=ft(typeof e=="string"?e:n.rev),n.key=ee(n.location),n.type=t),n}l(H,"getRoute");function Fs(e){return !(e.target&&e.target.isContentEditable||e.defaultPrevented||e.button>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}l(Fs,"linkEvent");var D=l(function(e){if(!Fs(e))return;let t=wt(e.target,o.qs.$href);if(!t)return;let n=ee(t.href);if(n===null)return;let s=n===o.page.key,i=l(()=>{m(3,`Drag occurance deteced, cancelled visit: ${n}`),D.drag=!0,t.removeEventListener(`${W}move`,i);},"move");if(t.addEventListener(`${W}move`,i,{once:!0}),D.drag===!0)return D.drag=!1,D(e);if(t.removeEventListener(`${W}move`,i),!M("visit",e))return;let r=l((a,c=!0)=>{o.pages[a.key].ts=Kt(),o.pages[a.key].visits=a.visits+1,o.pages[a.rev].scrollX=window.scrollX,o.pages[a.rev].scrollY=window.scrollY,s?m(2,`Identical pathname, page visit skipped: ${n}`):(Le(o.pages[a.rev]),c?(Ne(a),V(a)):Nn(a));},"click");if(Ve(),de(),Be(),B(n)){let a=An(t,o.pages[n]),c=ue(a);t.onclick=f=>{f.preventDefault(),r(c);};}else if(L.$transit.has(n)){Dt(n),m(2,`Request in transit: ${n}`);let a=o.pages[n];t.onclick=c=>{c.preventDefault(),r(a,!1);};}else {Dt(),Qt(n);let a=z(H(t,6));R(a),t.onclick=c=>{c.preventDefault(),r(a,!1);};}},"handle");function Nn(e){return C(this,null,function*(){e.progress&&mt.start(e.progress);let t=yield gt(e);t?(Ne(t),V(t)):location.assign(e.key);})}l(Nn,"visit");function Ft(e,t){return C(this,null,function*(){if(t){typeof t.cache=="string"&&(t.cache==="clear"?xe():xe(t.key)),t.progress&&mt.start(t.progress);let n=yield R(t);n?(Ne(n),V(n)):location.assign(t.key);}else return Nn(o.pages[e])})}l(Ft,"navigate");function Vs(){o.observe.hrefs||(D.drag=!1,Qe==="mouseOnly"?addEventListener(`${W}down`,D,!1):(Qe==="touchOnly"||addEventListener(`${W}down`,D,!1),addEventListener("touchstart",D,!1)),o.observe.hrefs=!0);}l(Vs,"connect");function Bs(){o.observe.hrefs&&(Qe==="mouseOnly"?removeEventListener(`${W}down`,D,!1):(Qe==="touchOnly"||removeEventListener(`${W}down`,D,!1),removeEventListener("touchstart",D,!1)),o.observe.hrefs=!1);}l(Bs,"disconnect");function Ys(){let e=H(0),t=Rs(z(e));Ae(o,{prev:{get:()=>o.pages[A.state.rev]},page:{get:()=>o.pages[A.state.key]},snapDom:{get:()=>ze(o.snaps[o.page.snap])}});let n=l(()=>{let s=Et(t,we());return Vs(),cn(),o.config.manual===!1&&(xt(),At(),Nt(),fe(),kt()),J(()=>{se("type",6),tn(s),ts(s);}),M("x"),s},"DOMReady");return new Promise(s=>{let{readyState:i}=document;if(i==="interactive"||i==="complete")return s(n());addEventListener("DOMContentLoaded",()=>s(n()));})}l(Ys,"initialize");function Ks(){Ve(),xt(),Be(),At(),de(),Nt(),je(),fe(),Lt(),kt();}l(Ks,"observe");function Us(){Is(),Bs(),Lt(),Ve(),Be(),de(),o.config.components&&(je(),an(),o.components.$registry.clear()),xe(),o.config.globalThis&&delete window.spx,m(2,"Disconnected");}l(Us,"disconnect");var Vt=b({get $(){return o},Component:sn,on:Gt,off:Jt,observe:Ks,connect:_s,component:Zs,capture:ni,form:ii,render:ti,session:Js,reload:Qs,fetch:ei,clear:xe,hydrate:oi,prefetch:si,visit:ri,disconnect:Us,register:Gs,get config(){return o.config},supported:!!(In&&window.history.pushState&&window.requestAnimationFrame&&window.DOMParser&&window.Proxy),history:b({get state(){return A.state},api:A,push:Ne,replace:Le,has:$n,reverse:Os})});function _s(e={}){if(In===!1)return m(5,"Invalid runtime environment: window is undefined.");if(!Vt.supported)return m(5,"Browser does not support SPX");if(!window.location.protocol.startsWith("http"))return m(5,"Invalid protocol, SPX expects HTTPS or HTTP protocol");es(e),o.config.globalThis&&P(window,"spx")===!1&&qe(window,"spx",Vt);let t=Ys();return function(n){return C(this,null,function*(){let s=yield t;if(n.constructor.name==="AsyncFunction")try{yield n(s);}catch(i){m(3,"Connection Error",i);}else n(s);m(2,"Connection Established");})}}l(_s,"connect");function Zs(e){return xn()[e][0]}l(Zs,"component");function Gs(...e){if(typeof e[0]=="string")e.length>2&&m(5,[`Named component registration expects 2 parameters, recieved ${e.length}.`,'Registry should follow this structure: spx.register("identifer", YourComponent)'],e),ae({[ns[0]]:e[1]});else for(let t of e)if(_(t))for(let n of t)typeof n[0]=="string"?ae({[n[0]]:n[1]}):typeof n=="function"&&ae({[nt(n)]:n},!0);else {let n=typeof t;n==="function"?ae({[nt(t)]:t},!0):n==="object"&&ae(t);}o.ready?fe():Gt("x",l(function t(){fe(),Jt("x",t),M("connected");},"run"));}l(Gs,"register");function Js(){return Ae(b(),{config:{get:()=>o.config},snaps:{get:()=>o.snaps},pages:{get:()=>o.pages},observers:{get:()=>o.observe},components:{get:()=>o.components},fragments:{get:()=>o.fragments},memory:{get(){let e=o.memory;return e.size=Un(e.bytes),e}}})}l(Js,"session");function Qs(){return C(this,null,function*(){let e=o.pages[A.state.key];e.type=9;let t=yield R(e);return t?(m(2,"Triggered reload, page was re-cached"),V(t)):(m(3,"Reload failed, triggering refresh (cache will purge)"),location.assign(e.key))})}l(Qs,"reload");function ei(e){return C(this,null,function*(){let t=H(e,2);t.location.origin!==De&&m(5,"Cross origin fetches are not allowed");let n=yield Xe(t.key);if(n)return n})}l(ei,"fetch");function ti(e,t,n){return C(this,null,function*(){let s=o.page,i=H(e);i.location.origin!==De&&m(5,"Cross origin fetches are not allowed");let r=yield Xe(i.key,{type:"document"});if(r||m(5,`Fetch failed for: ${i.key}`,r),yield n.call(s,r),t==="replace"){s.title=r.title;let a=ue(O(s,i),we(r));return Le(a),a}else return V(Et(i,we(r)))})}l(ti,"render");function ni(e){let t=zs();if(!t)return;let n=Ee();if(e=_(e)?e:t.target,e.length===1&&e[0]==="body"){ne(n.body,q()),ue(t,we(n));return}let s=e.join(","),i=q().querySelectorAll(s);$e(n.body.querySelectorAll(s),(r,a)=>{ne(r,i[a]);}),ue(t,we(n));}l(ni,"capture");function si(e){return C(this,null,function*(){let t=H(e,1);if(B(t.key)){m(3,`Cache already exists for ${t.key}, prefetch skipped`);return}let n=yield R(z(t));if(n)return n;m(5,`Prefetch failed for ${t.key}`);})}l(si,"prefetch");function ii(e,t){return C(this,null,function*(){let n=new FormData;for(let i in t.data)n.append(i,t.data[i]);return yield Xe(e,{method:t.method,body:n})})}l(ii,"form");function oi(e,t){return C(this,null,function*(){let n=H(e,7);if(R(n),_(t)){n.hydrate=[],n.preserve=[];for(let i of t)i.charCodeAt(0)===33?n.preserve.push(i.slice(1)):n.hydrate.push(i);}else n.hydrate=o.config.fragments;let s=yield gt(n);if(s){let{key:i}=A.state;if(Le(s),V(s),n.key!==i){o.index===i&&(o.index=n.key);for(let r in o.pages)o.pages[r].rev===i&&(o.pages[r].rev=n.key);xe(i);}}return Ee(s.key)})}l(oi,"hydrate");function ri(e,t){return C(this,null,function*(){let n=H(e),s=typeof t=="object"?O(n,t):n;return B(n.key)?Ft(n.key,ue(s)):Ft(n.key,z(s))})}l(ri,"visit");var X=Vt;var{isArray:St,from:li}=Array,I=new Map,j=(e,t=Object.create(null))=>e?Object.assign(t,e):t,Li=class extends Array{constructor(){super(...arguments),this.ref=j(),this.get=e=>{let t=typeof e;if(t==="number")return this[e];if(t==="string"){if(e in this.ref)return this[this.ref[e]];console.error(`Relapse: Unknown fold id: ${e}`);}return this};}},T=(e,t,n)=>e.style.setProperty(t,n),pe=(e,t)=>e.classList.add(t),Tt=(e,t)=>e.classList.remove(t),Ye=(e,t=1)=>{e.ariaExpanded=t===1?"true":"false";},Ce=(e,t=1)=>{let n=t===1?"true":"false";e.tagName==="BUTTON"?(e.hasAttribute("aria-disabled")&&e.removeAttribute("aria-disabled"),t===1?e.setAttribute("disabled",n):e.hasAttribute("disabled")&&e.removeAttribute("disabled")):e.ariaDisabled=n;};function En(e,t){let n=e,s=n.getAttribute(t.schema);if((s===null||s==="")&&(s=n.hasAttribute("id")?n.id:`R${I.size}`,n.setAttribute(t.schema,s)),I.has(s)){if(I.get(s).options.unique===!1)return;throw new Error(`Relapse: Instance already exists with id: ${s} `)}let i=Ti(t,n.attributes),r=new Li,a=I.set(s,{id:s,semantic:n.firstElementChild.nodeName==="DETAILS",openCount:0,status:1,active:NaN,events:j(),get folds(){return r},get options(){return i},get element(){return n},set element(u){n=u,s=n.getAttribute(t.schema);}}).get(s),c=Ni(a.events),f=n.children.length,d=a.semantic?1:2,h=a.options.classes,$=0;do{let u=j({index:a.folds.length,locked:!1}),p=!1,g,v,w,y=a.semantic;if(y){if(w=n.children[$],w.nodeName!=="DETAILS")throw new Error(`Relapse: Invalid markup on "${a.id}", expected: <details>`);g=w.firstElementChild,v=g.nextElementSibling,p=w.hasAttribute("open");}else g=n.children[$],v=w=n.children[$+1],v.hasAttribute("hidden")?v.removeAttribute("hidden"):v.firstElementChild.hasAttribute("hidden")&&v.firstElementChild.removeAttribute("hidden");let k=g.classList.contains(h.opened),K=v.classList.contains(h.expanded),re=g.classList.contains(h.disabled);g.ariaExpanded==="true"||p||k?(!k&&!re&&pe(g,h.opened),K||pe(v,h.expanded),y||(g.ariaExpanded!=="true"&&Ye(g),g.ariaDisabled==="true"&&(Ce(g),re=!0)),re&&(pe(g,h.disabled),u.disabled=!0,u.locked=!0),u.expanded=!0):g.ariaDisabled==="true"||re?(re||pe(g,h.disabled),k&&Tt(g,h.opened),u.expanded=(K||p)===!0,u.disabled=!0,u.locked=!0,y||(g.ariaDisabled!=="true"&&Ce(g),Ye(g,u.expanded?1:2))):(u.expanded=!1,u.disabled=!1,y||(Ye(g,2),Ce(g,2))),u.id=`${a.id}-fold-${u.index}`,g.hasAttribute("id")||(g.id=`${a.id}-button-${u.index}`),v.hasAttribute("id")||(v.id=`${a.id}-content-${u.index}`),g.setAttribute("aria-controls",v.id),v.setAttribute("aria-labelledby",g.id),u.expanded?(g.tabIndex=-1,a.openCount=a.openCount+1,a.options.multiple===!1&&a.openCount===2&&console.warn(`Relapse: More than 1 fold is expanded but "multiple" is set to false on: ${a.id}`),y?(u.height=g.offsetHeight+v.offsetHeight,T(w,"height","auto")):(u.height=v.scrollHeight,T(w,"max-height","inherit"))):(g.tabIndex=0,y?(u.height=g.offsetHeight,T(w,"height","auto")):(u.height=0,T(v,"max-height","0"),T(v,"overflow","hidden"))),u.button=g,u.wrapper=w,u.element=v,Ei(u,a,c),$=$+d;}while($<f);a.on=c.on,a.off=c.off,a.collapse=(u=a.active)=>{isNaN(u)||r.get(u).close(u);},a.expand=(u=a.active)=>{isNaN(u)||r.get(u).open(u);},a.destroy=()=>{r.forEach(u=>u.destroy()),c.emit("destroy",a),I.delete(s);},a.reinit=()=>{r.forEach(u=>u.destroy()),En(e,t);};}function Ni(e){let t=j();return t.on=(n,s,i)=>(e[n]||(e[n]=[]),e[n].push(i?s.bind(i):s)-1),t.off=(n,s)=>{let i=e[n],r=`Relapse: Removed ${n} event listener`;if(i&&typeof s=="number")i.splice(s,1),console.warn(`${r} (id: ${s})`),i.length===0&&delete i[n];else {let a=[];if(i&&typeof s=="function")for(let c=0,f=i.length;c<f;c++)i[c]!==s?a.push(i[c]):console.warn(`${r} (id: ${c})`);a.length>0?i[n]=a:delete i[n];}},t.emit=(n,s,i)=>{let r=e[n]||[],a=null;for(let c=0,f=r.length;c<f;c++){let d=r[c].call(s,i);a===null&&d===!1&&(a=!0);}return a},t}function Ei(e,t,n){let s=t.options.classes,i=t.options.fade,r=j({easing:i.easing,duration:i.duration*2}),a=u=>{if(typeof u!="number")return t.active!==e.index&&(t.active=e.index),e;if(t.folds.get(u))return t.active=e.index,t.folds.get(u);throw new Error(`Relapse: No fold exists using id: "${u}"`)},c=()=>t.folds.filter(({expanded:u})=>u).length,f=(u,p,g)=>{T(u,"will-change","opacity,visibility");let v=u.animate({opacity:p,visibility:g},p[0]==="1"?r:i);v.onfinish=()=>{T(u,"opacity",p[1]),T(u,"visibility",g[1]),u.style.removeProperty("will-change");};},d=(u,p,g)=>{t.status=2;let v=u.animate(t.semantic?{height:p}:{maxHeight:p},t.options.fold);v.onfinish=g;},h=u=>{if(u.disabled)return;let p=u.button,g=u.wrapper,v=u.element;T(g,"overflow","hidden"),t.semantic?(u.height=p.offsetHeight,T(g,"will-change","height")):(u.height=0,T(g,"will-change","max-height"));let w=`${u.height}px`;f(v,["1","0"],["visible","hidden"]),d(g,[`${g.offsetHeight}px`,w],()=>{t.semantic?(T(g,"height",w),g.removeAttribute("open")):T(v,"max-height","0"),u.expanded=!1,Ye(p,2),Tt(p,s.opened),Tt(g,s.expanded),g.style.removeProperty("will-change"),t.openCount=c(),t.status=1,n.emit("collapse",t,u);});},$=u=>p=>{u.close();let g=u.button,v=u.wrapper,w=u.element;Ye(g);let y;t.semantic?(v.setAttribute("open",""),T(v,"will-change","height"),T(v,"overflow","hidden"),u.height=g.offsetHeight+w.offsetHeight,y=`${g.offsetHeight}px`):(T(v,"will-change","max-height"),u.height=w.scrollHeight,y="0px"),pe(g,s.opened),f(w,["0","1"],["hidden","visible"]),d(v,[y,`${u.height}px`],()=>{t.semantic?T(v,"height","auto"):T(v,"max-height","inherit"),v.style.removeProperty("overflow"),v.style.removeProperty("will-change"),pe(w,s.expanded),u.expanded=!0,t.openCount=c(),t.status=1,t.options.persist&&t.openCount>1&&u.disable(),n.emit("expand",t,u);});};e.close=u=>{let p=a(u);if(t.options.multiple)(t.options.persist===!0&&t.openCount>1||t.options.persist===!1&&p.expanded===!0)&&h(p);else for(let g of t.folds)if(g.expanded===!0&&g.locked===!1){if(t.options.persist&&g.index===p.index)break;h(g),p=g;break}p.enable(),t.openCount=c();},e.focus=()=>{t.active=e.index,e.button.focus({preventScroll:!0}),n.emit("focus",t,e);},e.enable=u=>{let p=a(u);p.disabled&&p.locked===!1&&(p.disabled=!1,Ce(p.button,2),Tt(p.button,s.disabled));},e.disable=u=>{let p=a(u);p.disabled||(p.expanded?t.options.persist&&(p.disabled=!0,Ce(p.button)):(p.close(),p.disabled=!0,Ce(p.button),pe(p.button,s.disabled)));},e.open=u=>{let p=a(u);t.status===2||p.expanded||requestAnimationFrame($(p));},e.toggle=u=>{if(t.semantic&&u.preventDefault(),!(t.status===2||n.emit("toggle",t,e)===!1))return e.expanded?e.close():e.open()},e.destroy=()=>{e.button.removeEventListener("click",e.toggle),e.button.removeEventListener("focus",e.focus),e.button.removeEventListener("blur",e.blur);},e.button.addEventListener("click",e.toggle),e.button.addEventListener("focus",e.focus),t.folds.push(e),t.folds.ref[e.element.id]=t.folds.length-1;}function Ci(e){return typeof e=="object"&&"schema"in e?e.schema:"[data-relapse]"}function ai(e){let t=j({persist:!1,unique:!1,multiple:!1,schema:"data-relapse",fold:j({duration:200,easing:"ease-in-out"}),fade:j({duration:120,easing:"linear"}),classes:j({opened:"opened",disabled:"disabled",expanded:"expanded"})});if(typeof e=="object"){for(let n in e)if(n==="classes"||n==="fade"||n==="fold")for(let s in e[n])t[n][s]=e[n][s];else t[n]=e[n];"fade"in e&&"duration"in e.fade&&e.fade.duration!==t.fade.duration||t.fold.duration!==200&&(t.fade.duration=t.fold.duration-t.fold.duration/2.5);}return t}function Ti(e,t){let n=e.schema.length+1,s=j({fold:j(),fade:j(),classes:j()});for(let{nodeName:i,nodeValue:r}of t){if(!i.startsWith(e.schema))continue;let a=i.slice(n);if(a==="schema"){console.warn('Relapse: The "schema" option cannot be defined via attribute');continue}let c=r.trim(),f=`Invalid ${i} attribute value.`;if(a==="persist"||a==="multiple"||a==="unique")if(c==="true"||c==="false")s[a]=c==="true";else throw new TypeError(`Relapse: ${f}. Boolean expected, received: ${c}`);else if(a==="fold-duration"||a==="fade-duration"){if(isNaN(+c))throw new TypeError(`Relapse: ${f}. Number expected, received: ${c}`);{let[d,h]=a.split("-");s[d][h]=+c;}}else if(a.startsWith("class-")||a==="fold-easing"||a==="fade-easing"){let[d,h]=a.split("-");s[d][h]=c;}}!("fade"in s&&"duration"in s.fade&&s.fade.duration!==e.fade.duration)&&"fold"in s&&"duration"in s.fold&&s.fold.duration!==e.fold.duration&&(s.fade.duration=s.fold.duration-s.fold.duration/2.5);for(let i in s)if(i==="fold"||i==="classes"||i==="fade")for(let r in s[i])e[i][r]=s[i][r];else e[i]=s[i];return e}var Y=function e(t,n){if(document.readyState==="loading"){addEventListener("DOMContentLoaded",()=>e(t,n));return}let s=typeof t=="object"&&"tagName"in t;if(s&&t instanceof NodeList)throw TypeError("Relapse: Invalid NodeList selector. Provide string or HTMLElement");if(s){let r=typeof t=="string"?document.body.querySelector(t):t;r!==null&&En(r,ai(n));}else document.body.querySelectorAll(Ci(t)).forEach(r=>En(r,ai(t)));let i=li(I.values());return s?i[i.length-1]:i};Y.version="0.9.0";Y.each=e=>{for(let[t,n]of I)if(e(n,t)===!1)break};Y.reinit=e=>{let t=Y.get(e),n=St(t)?t:[t];for(let s of n){let{id:i,options:r}=s;s.destroy(),Y(`#${i}`,r);}};Y.has=e=>e?(St(e)?e:[e]).every(I.has):I.size>0;Y.destroy=e=>{let t=Y.get(e),n=St(t)?t:[t];for(let s of n)s.destroy();};Y.get=e=>typeof e=="string"?I.has(e)?I.get(e):null:St(e)?e.filter(t=>I.has(t)).map(t=>I.get(t)):li(I.values());window.relapse||Object.defineProperty(window,"relapse",{get(){return Y}});var te=Y;var x=function(e){if(Array.isArray(e))return e.forEach(x);if(!("id"in e)){for(let s of ["onenter","onexit","oninit","onresize"])if(s in e)throw new Error('qvp: Missing an "id" reference');return Object.entries(e).forEach(([s,i])=>{let r=typeof e[s];if(r==="string")return x({id:s,query:i});throw new TypeError(`qvp: Invalid query type. Expected "string" received "${r}"`)})}let t=Si(e),{id:n}=t.screen;x.viewports.size||addEventListener("resize",ci(()=>{x.viewports.forEach(s=>{s.screen.active&&s.onresize(window.innerWidth);});},25),!0),x.viewports.has(n)?console.warn(`qvp: The id "${n}" is already defined, use qvp.add() instead.`):x.viewports.set(n,t);};x.viewports=new Map;Object.defineProperty(x,"isTouch",{get(){return "ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}});x.get=e=>x.viewports.has(e)?x.viewports.get(e):!1;x.add=(e,t)=>{let n=x.get(e);if(n===!1)return console.error(`qvp: There is no viewport using an id of "${e}"`);Pt(t,n.screen),n.screen.test.matches&&n.onenter();};x.off=(e,t)=>{let n=x.get(e.split(":")[0]);if(n===!1||!(e in n.events))return;let s=n.events[e].length;if(typeof t=="number")t<=s-1&&n.events[e].splice(t,1);else if(typeof t=="function"){let i=[];for(let r=0;r<s;r++)n.events[e][r]!==t&&i.push(n.events[e][r]);i.length>0&&(n.events[e]=i);}else delete n.events[e];};x.on=(e,t,n)=>{let[s,i]=e.split(":"),r=x.get(s);if(r===!1)return;e in r.events||(r.events[e]=[]);let a=n?t.bind(n):t;return a["qvp:event"]=r.events[e].length,r.events[e].push(a),r.screen.test.matches?i==="oninit"?a.call():(i==="onenter"&&a.call(),Pt({[i]:a},r.screen)):Pt({[i]:a},r.screen),a["qvp:event"]};x.list=e=>{let t=Array.from(x.viewports.values()).map(({screen:n})=>n);return e?t.filter(({id:n})=>e.includes(n)):t};x.active=e=>{let t=x.list();if(e){let s=x.get(e);return s?s.screen.active:!1}let n=t.filter(({active:s})=>s===!0);return n.length>1?n:n[0]};x.test=(e,t=",")=>typeof e=="string"?e.indexOf(t)>-1?e.split(t).some(x.active):!!x.active(e):e.some(x.active);x.remove=e=>{x.viewports.has(e)&&(x.viewports.get(e).destroy(),x.viewports.delete(e));};x.destroy=()=>{removeEventListener("resize",ci()),x.viewports.forEach(e=>e.destroy()),x.viewports.clear();};x.screens=()=>{throw Error("qvp: The qvp.screens() is deprecated, use the default import, e.g: qvp(...)")};function ci(e,t){let n=t;return function(){let s=()=>{n=null,e.apply(this,arguments);};n&&cancelAnimationFrame(n),n=requestAnimationFrame(s);}}function Pt(e,t){typeof e.onenter=="function"&&("qvp:event"in e.onenter||(e.onenter["qvp:event"]=NaN),t.onenter.add(e.onenter)),typeof e.onexit=="function"&&("qvp:event"in e.onexit||(e.onexit["qvp:event"]=NaN),t.onexit.add(e.onexit)),typeof e.onresize=="function"&&("qvp:event"in e.onresize||(e.onresize["qvp:event"]=NaN),t.onresize.add(e.onresize)),typeof e.oninit=="function"&&("qvp:event"in e.oninit||(e.oninit["qvp:event"]=NaN),t.oninit.add(e.oninit));}function qt(e,...t){let n=x.get(e.split(":")[0]);if(n!==!1&&e in n.events)for(let s=0;s<n.events[e].length&&(n.events[e][s].apply(null,t),e.endsWith(":oninit")&&x.off(e,s),e in n.events);s++);}function Si(e){let t=e.query||"all",n={id:e.id,query:t,active:!1,test:matchMedia(t),onenter:new Set,onexit:new Set,onresize:new Set,oninit:new Set,events:Object.create(null)};Pt(e,n);let s=()=>{n.oninit.size>0&&(n.oninit.forEach(f=>!isNaN(f["qvp:event"])||f()),qt(`${e.id}:oninit`),n.oninit.clear()),n.onenter.forEach(f=>!isNaN(f["qvp:event"])||f()),qt(`${e.id}:onenter`),n.active=!0;},i=()=>{n.onexit.forEach(f=>!isNaN(f["qvp:event"])||f()),qt(`${e.id}:onexit`),n.active=!1;},r=f=>{n.onresize.forEach(d=>!isNaN(d["qvp:event"])||d()),qt(`${e.id}:onresize`,f);},a=({matches:f})=>f?s():i(),c=()=>{for(let f in n.events)delete n.events[f];n.test.removeEventListener("change",a);};return n.test.addEventListener("change",a),n.test.matches&&s(),{onenter:s,onexit:i,onresize:r,destroy:c,get screen(){return n},get events(){return n.events}}}var fi=x;var Z=class Z extends X.Component{constructor(){super(...arguments);this.transition=n=>{if(n.propertyName==="transform"){if(this.state.hasShift)for(let s of this.shifts)s.classList.contains(this.shiftClass)&&(s.classList.remove(this.shiftClass),s.style.removeProperty("transform"));this.backdrop.classList.contains("backdrop")&&this.backdrop.classList.remove("backdrop"),this.state.mode==="pull"?this.shifts.item(0).removeEventListener(n.type,this.transition):this.target.removeEventListener(n.type,this.transition);}};this.outsideClick=n=>{n.target!==this.target&&(this.close(),this.html.removeEventListener("click",this.outsideClick,!1));};this.toggle=n=>(n&&n.preventDefault(),this.state.isOpen=!this.state.isOpen,this.state.isOpen?this.open():this.close(),this.state.isOpen?this.open():this.close());this.touchMove=n=>{this.state.isOpen&&this.target.scrollHeight<=this.target.clientHeight&&n.preventDefault();};this.keyboard=n=>{switch(n.code){case"Esc":case"Escape":this.close();break}};}get backdrop(){return Z.backdrop}get directionClass(){return `drawer-${this.state.direction}`}get shiftClass(){return `drawer-${this.state.mode}`}get shifts(){return this.html.querySelectorAll(this.state.shift)}get buttons(){return this.html.querySelectorAll(`[data-drawer="${this.target.id}"]`)}connect(){Z.backdrop||(Z.backdrop=document.createElement("div"),Z.backdrop.className="drawer-backdrop",Z.backdrop.setAttribute("spx-morph","false")),this.state.useParent?(this.target=this.dom.parentElement,this.target.ariaHidden="true"):this.target=this.dom,this.target.classList.contains("d-none")&&this.target.classList.remove("d-none"),this.state.mode!=="overlay"&&this.state.hasShift===!1&&console.error('Missing "data-drawer-shift-value" defintions on:',this.target),this.html.contains(Z.backdrop)===!1&&this.html.appendChild(Z.backdrop),this.state.hasWidth,this.state.hasHeight&&this.target.style.setProperty("height",this.state.height),this.state.hasDirection&&this.target.classList.contains("backdrop")===!1&&this.target.classList.add("backdrop"),this.state.mode==="pull"&&(this.target.style.setProperty("transform","translateX(0)"),this.target.style.setProperty("z-index","0")),this.html.classList.contains("drawer-open")&&this.html.classList.remove("drawer-open");}onmount(){this.state.isOpen&&(fi.test(["lg","xl","xxl"])?this.close():setTimeout(()=>this.close(),250));}open(){this.target.classList.contains("drawer-active")||this.target.classList.add("drawer-active"),this.backdrop.classList.contains("backdrop")||this.backdrop.classList.add("backdrop"),this.state.bodyScroll===!1&&this.html.style.setProperty("overflow","hidden"),this.state.hasShift&&this.shiftElements(),this.state.width&&(this.state.direction==="top"?this.backdrop.style.setProperty("transform",`translateY(-${this.state.offset})`):this.backdrop.style.setProperty("transform",`translateX(${this.state.width})`)),this.html.classList.add("drawer-open"),this.backdrop.addEventListener("click",this.toggle,{once:!0}),this.target.addEventListener("touchstart",this.touchStart,{passive:!0}),this.target.ariaHidden="false";}close(){this.state.isOpen&&(this.state.isOpen=!1),this.state.width&&this.backdrop.style.removeProperty("transform"),this.state.bodyScroll===!1&&this.html.style.removeProperty("overflow"),this.state.hasShift?this.shiftElements():this.target.addEventListener("transitionend",this.transition),this.html.classList.remove("drawer-open"),this.target.removeEventListener("touchstart",this.touchStart),this.backdrop.removeEventListener("click",this.toggle),this.target.classList.remove("drawer-active"),this.target.ariaHidden="true";}shiftElements(){this.state.mode==="pull"?(this.target.style.setProperty("transform","translateX(0)"),this.target.style.setProperty("z-index","0"),this.state.isOpen===!1&&this.shifts.item(0).addEventListener("transitionend",this.transition)):this.state.isOpen===!1&&this.target.addEventListener("transitionend",this.transition);for(let n of this.shifts)this.state.isOpen?(n.classList.contains(this.shiftClass)||n.classList.add(this.shiftClass),this.state.width&&(this.state.direction==="left"||this.state.direction==="right")?n.style.setProperty("transform",`translateX(${this.state.width})`):this.state.hasHeight&&(this.state.direction==="top"||this.state.direction==="bottom")&&n.style.setProperty("transform",`translateY(${this.state.height})`)):this.state.width&&(this.state.direction==="left"||this.state.direction==="right")?n.style.setProperty("transform","translateX(0)"):this.state.hasHeight&&(this.state.direction==="top"||this.state.direction==="bottom")&&n.style.setProperty("transform","translateY(0)");}touchStart({target:n}){if(n instanceof HTMLElement){let{scrollTop:s,offsetHeight:i}=n,r=s+i;s===0?n.scrollTop=1:r===s&&(n.scrollTop=s-1);}}};Z.define={state:{outsideClick:Boolean,height:String,width:String,offset:String,direction:String,shift:String,redraw:String,useParent:{typeof:Boolean,default:!1},isOpen:{typeof:Boolean,default:!1},bodyScroll:{typeof:Boolean,default:!1},backdrop:{typeof:Boolean,default:!0},mode:{typeof:String,default:"overlay"}}};var Ot=Z;var Ke=class extends X.Component{connect(){this.state.size=this.tabNodes.length;}toggle({attrs:t}){if(this.state.open!==t.index){for(let n=0,s=this.state.size;n<s;n++)n===t.index?(this.buttonNodes[n].classList.add("active"),this.tabNodes[n].classList.remove("d-none")):(this.buttonNodes[n].classList.remove("active"),this.tabNodes[n].classList.toggle("d-none",!0));this.state.open=t.index;}}};Ke.define={state:{size:Number,open:{default:0,typeof:Number}}};var Ue=class extends X.Component{onmount(){this.methods=te(this.relapseNode,{multiple:!0,persist:!1}),this.methods.on("toggle",t=>{t.expanded?this.collapse({attrs:{fold:t.index}}):this.expand({attrs:{fold:t.index}});});}expand({attrs:t}){this.methods.expand(t.fold),this.openerNodes[t.fold].classList.add("disabled"),this.openerNodes[t.fold].classList.remove("active"),this.closerNodes[t.fold].classList.remove("disabled"),this.closerNodes[t.fold].classList.add("active");}collapse({attrs:t}){this.methods.collapse(t.fold),this.openerNodes[t.fold].classList.remove("disabled"),this.closerNodes[t.fold].classList.remove("active"),this.closerNodes[t.fold].classList.add("disabled");}disable({attrs:t}){this.methods.expand(t.fold);}};Ue.define={state:{open:{default:0,typeof:Number}}};var _e=class extends X.Component{constructor(){super(...arguments);this.colors=["fc-cyan","fc-pink","fc-purple","fc-green"];}onmount(){this.relapse=te(this.relapseNode),this.relapse.on("focus",this.focus,this),this.relapse.on("collapse",this.collapse,this),this.relapse.on("expand",this.expand,this),this.relapse.on("toggle",this.toggle,this);}insert(n,s){++this.state.count;let i=document.createElement("div");i.className=`d-block pb-1 message ${this.colors[s]}`,i.ariaLabel=`${this.state.count}`,i.innerText=n,this.logNode.appendChild(i),this.logNode.scrollTop=this.logNode.scrollHeight;}toggle(n){this.insert(`Fold at index ${n.index} was toggled and will ${n.expanded?"collapse":"expand"}`,n.index);}focus(n){this.insert(`Fold at index ${n.index} was focused and will ${n.expanded?"collapse":"expand"}`,n.index);}collapse(n){this.insert(`Fold at index ${n.index} was collapsed and is closed`,n.index);}expand(n){this.insert(`Fold at index ${n.index} was expanded and is open`,n.index);}};_e.define={state:{count:Number}};var Ze=class extends X.Component{inViewport(){let t=this.collapseNode.getBoundingClientRect();for(let{element:n,folds:s}of te.get())if(n.id===this.state.accordion){t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||s.find(i=>i.expanded===!0).close();break}}toggle(t){if(t.stopPropagation(),this.dom.classList.contains("is-open"))return this.close();this.state.collapse="opened",this.dom.classList.add("is-open"),this.buttonNode.classList.remove("selected"),this.state.hasAccordion&&this.inViewport(),addEventListener("click",this.outsideClick.bind(this));}outsideClick(t){this.buttonNode!==t.target&&this.collapseNode!==t.target&&this.dom.classList.contains("is-open")&&this.close();}close(){this.dom.classList.remove("is-open"),this.state.collapse==="selected"||this.state.hasSelected?(this.dom.classList.add("selected"),this.state.collapse="selected"):this.state.collapse="closed",removeEventListener("click",this.outsideClick),this.buttonNode.focus();}select({target:t}){t.checked=!0,this.state.selected=t.value,this.buttonNode.innerText=t.getAttribute("aria-label"),this.state.collapse="selected";for(let n of this.dom.getElementsByTagName("label"))n.getAttribute("for")===t.id?n.classList.contains("selected")||n.classList.add("selected"):n.classList.contains("selected")&&n.classList.remove("selected");this.close();}option(t){if(t.target instanceof HTMLElement){if(t.currentTarget instanceof HTMLElement){let[n]=t.currentTarget.getElementsByClassName("selected");n&&(this.state.selected=n.id);}t.currentTarget instanceof HTMLElement,this.state.hasRequired&&(this.buttonNode.classList.contains("is-invalid")&&this.buttonNode.classList.remove("is-invalid"),this.state.required=!1,this.buttonNode.classList.add("selected")),this.state.kind==="preset"?(this.state.selected=`Preset (${t.target.textContent.trim()})`,this.buttonNode.innerHTML=`Preset (${t.target.textContent.trim()})<span class="icon"></span>`):(this.state.selected=t.target.textContent,this.buttonNode.textContent=t.target.textContent);for(let n of this.collapseNode.children)n.id!==t.target.id?n.classList.remove("selected"):n.classList.add("selected");this.state.collapse="selected",this.toggle(t);}}};Ze.define={state:{selected:String,form:String,accordion:String,kind:String,required:{typeof:Boolean,default:!1},collapse:{typeof:String,default:"closed"},type:{typeof:String,default:"dropdown"}}};X.connect({fragments:["main","menu"],components:{Methods:Ue,Dropdown:Ze,Events:_e,Tabs:Ke,Drawer:Ot}})(function(){te();});X.on("load",function({key:e}){te.reinit();});

})();
