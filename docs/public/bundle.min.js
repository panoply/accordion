(function () {
	'use strict';

	var Pt=(s,e,t)=>new Promise((r,n)=>{var i=c=>{try{l(t.next(c));}catch(h){n(h);}},a=c=>{try{l(t.throw(c));}catch(h){n(h);}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,a);l((t=t.apply(s,e)).next());});var Ks=Object.defineProperty,Ut=(s,e)=>{for(var t in e)Ks(s,t,{get:e[t],enumerable:!0});},O=(s,e,t)=>new Promise((r,n)=>{var i=c=>{try{l(t.next(c));}catch(h){n(h);}},a=c=>{try{l(t.throw(c));}catch(h){n(h);}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(i,a);l((t=t.apply(s,e)).next());}),B=typeof window!="undefined"?window:{screen:{},navigator:{}},ae=(B.matchMedia||function(){return {matches:!1}}).bind(B),Ws={get passive(){return !0}},Xt=function(){};B.addEventListener&&B.addEventListener("p",Xt,Ws);B.removeEventListener&&B.removeEventListener("p",Xt,!1);var Qe="ontouchstart"in B,zs="TouchEvent"in B,Yt=Qe||zs&&ae("(any-pointer: coarse)").matches,Dt=(B.navigator.maxTouchPoints||0)>0||Yt,_t=B.navigator.userAgent||"",Us=ae("(pointer: coarse)").matches&&/iPad|Macintosh/.test(_t)&&Math.min(B.screen.width||0,B.screen.height||0)>=768,Xs=(ae("(pointer: coarse)").matches||!ae("(pointer: fine)").matches&&Qe)&&!/Windows.*Firefox/.test(_t),Ys=ae("(any-pointer: fine)").matches||ae("(any-hover: hover)").matches||Us||!Qe,Ce=Dt&&(Ys||!Xs)?"hybrid":Dt?"touchOnly":"mouseOnly";"content"in document.createElement("template");document.createRange&&"createContextualFragment"in document.createRange();var F=Yt?"pointer":"mouse",w=window.history,be=window.location.origin,V=Object.assign,L=Object.create,Ee=Array.isArray,Jt=Array.from,Z="",A=class extends XMLHttpRequest{constructor(){super(...arguments),this.key=null;}};A.request=new Map,A.transit=new Map,A.timeout=new Map;var o=new class{constructor(){this.loaded=!1,this.selectors=L(null),this.config={targets:["body"],timeout:3e4,globalThis:!0,schema:"spx",render:"replace",manual:!1,logs:!0,cache:!0,limit:100,preload:null,async:!0,annotate:!1,eval:{script:null,style:null,link:null,meta:!1},hover:{trigger:"href",threshold:250},intersect:{rootMargin:"0px 0px 0px 0px",threshold:0},proximity:{distance:75,threshold:250,throttle:500},progress:{background:"#111",height:"3px",minimum:.08,easing:"linear",speed:200,trickle:!0,threshold:500,trickleSpeed:200}},this.events=L(null),this.observers=L(null),this.memory=L(null),this.pages=L(null),this.snapshots=L(null),this.tracked=new Set,this.resources=new Map,this.stylesheets=new Set;}};function _s(s,e){try{return JSON.parse(e.replace(/\\'|'/g,t=>t[0]==="\\"?t:'"').replace(/([{,])\s*(.+?)\s*:/g,'$1 "$2":'))}catch(t){return b(4,`Invalid JSON expression in attribute value: ${s}`,t),e}}function Js(){return new Promise(s=>setTimeout(()=>s(),0))}function Gs(s){setTimeout(()=>s(),1);}function Zs(s){let e=document.createElement("textarea");return e.innerHTML=s,e.value}function b(s,e,t){if(s===1&&o.config.logs===!0)console.info("SPX: "+e);else if(s===2&&o.config.logs===!0)console.warn("SPX: "+e);else {t?console.error("SPX: "+e,t):console.error("SPX: "+e);try{throw s===3?new TypeError(e):new Error(e)}catch(r){}}}function Gt(s){return e=>typeof e=="string"?e in s:e.every(t=>t in s)}function $(s,e){return e in s}function Qs(){return Math.random().toString(36).slice(2)}function er(s=2){return (e,t)=>{let r=e.length;return (r<1||e[r-1].length===s?e.push([t]):e[r-1].push(t))&&e}}function It(s){return s<1024?s+" B":s<1048576?(s/1024).toFixed(1)+" KB":s<1073741824?(s/1048576).toFixed(1)+" MB":(s/1073741824).toFixed(1)+" GB"}function re(s,e){if(arguments.length===1)return r=>re(s,r);let t=e.length;if(t!==0)for(let r=0;r<t;r++)s(e[r],r,e);}function jt(s){for(let e in s)delete s[e];}function tr(s){return $(s,"hover")&&(s.hover===!1?o.config.hover=!1:typeof s.hover=="object"&&V(o.config.hover,s.hover),delete s.hover),$(s,"intersect")&&(s.intersect===!1?o.config.intersect=!1:typeof s.intersect=="object"&&V(o.config.intersect,s.intersect),delete s.intersect),$(s,"proximity")&&(s.proximity===!1?o.config.proximity=!1:typeof s.proximity=="object"&&V(o.config.proximity,s.proximity),delete s.proximity),$(s,"progress")&&(s.progress===!1?o.config.progress=null:typeof s.progress=="object"&&V(o.config.progress,s.progress),delete s.progress),s}function Zt(s={}){V(o.config,tr(s)),$(s,"eval")&&V(o.config.eval,s.eval),o.config.index=null;let e=o.config.schema==="spx"?"spx":o.config.schema.endsWith("-")?o.config.schema.slice(0,-1):o.config.schema,t=`:not([${e}-disable]):not([href^="#"])`;o.selectors.morph=`${e}-morph`,o.selectors.render=`${e}-render`,o.selectors.hrefs=o.config.annotate?`a[${e}-link]${t}`:`a${t}`,o.selectors.tracking=`[${e}-track]:not([${e}-track=false])`,o.selectors.scripts=r("script"),o.selectors.scriptsHydrate=`script[${e}-eval=hydrate]:not([${e}-eval=false])`,o.selectors.styles=r("style"),o.selectors.links=r("link"),o.selectors.metas=r("meta"),o.selectors.evals=`[${e}-eval]:not([${e}-eval=false]):not(script)`,o.selectors.attributes=new RegExp("^href|"+e+"-(hydrate|append|prepend|target|progress|threshold|position|proximity|hover|data|cache)$","i"),o.selectors.proximity=`a[${e}-proximity]${t}${n("proximity")}`,o.selectors.intersector=`[${e}-intersect]${n("intersect")}`,o.selectors.intersects=`a${t}${n("intersect")}`,o.selectors.hover=o.config.hover.trigger==="href"?`a${t}${n("hover")}`:`a[${e}-hover]${t}${n("hover")}`,o.memory.bytes=0,o.memory.visits=0,o.memory.limit=o.config.limit;function r(i){let a=`not([${e}-eval=false])`,l=i==="link"?`${i}[rel=stylesheet]:${a},${i}[rel~=preload]:${a}`:i==="script"?`${i}[${e}-eval]:${a}:not([${e}-eval=hydrate])`:`${i}:${a}`;if(o.config.eval[i]===!1||o.config.eval[i]===null)return l;if(o.config.eval[i]===!0)return `${i}[${e}-eval]:${a}`;if(Ee(o.config.eval[i]))return o.config.eval[i].length>0?o.config.eval[i].map(c=>`${c}:${a}`).join(","):(b(2,`Missing eval ${i} option, SPX will use defaults`),l);b(3,`Invalid eval ${i} option, expected boolean or array`);}function n(i){let a=`:not([${e}-${i}=false]):not([${e}-link])`;switch(i.charCodeAt(0)){case 104:return `${a}:not([${e}-proximity]):not([${e}-intersect])`;case 105:return `${a}:not([${e}-hover]):not([${e}-proximity])`;case 112:return `${a}:not([${e}-intersect]):not([${e}-hover])`}}}var sr=/(?:https?:)?(?:\/\/(?:www\.)?|(?:www\.))/,rr=/\b(?:append|prepend)/,nr=/^(?:application|text)\/(?:x-)?(?:ecma|java)script|text\/javascript$/,qt=/^\b(?:true|false)$/i,Xe=/^[+-]?\d*\.?\d+$/,ir=/\s+/g,or=/\b(?:intersect|hover|proximity)\b/,Rt=/\[?[^,'"[\]()\s]+\]?/g,ar=/\[(['"]?.*['"]?,?)\]/,Kt=/[xy]\s*|\d*\.?\d+/gi,M=be.replace(sr,Z);function Qt(s,e){let t=e||L(null);for(let{nodeName:r,nodeValue:n}of s.attributes)if(r.startsWith(`${o.config.schema}-data:`)){$(t,"data")||(t.data=L(null));let i=r.slice(r.lastIndexOf(":")+1),a=n.trim();Xe.test(a)?t.data[i]=Number(a):qt.test(a)?t.data[i]=a==="true":a[0]==="{"||a[0]==="["?t.data[i]=_s(r,a):t.data[i]=a;}else {if(!o.selectors.attributes.test(r))continue;if(r==="href")t.rev=location.pathname+location.search,e||(t.location=Ye(n),t.key=t.location.pathname+t.location.search);else {let i=r.slice(r.lastIndexOf("-")+1),a=n.replace(ir,Z).trim();if(ar.test(a))t[i]=rr.test(i)?a.match(Rt).reduce(er(2),[]):a.match(Rt);else if(i==="position"&&Kt.test(a)){let l=a.match(Kt);t[`scroll${l[0].toUpperCase()}`]=+l[1],l.length===4&&(t[`scroll${l[2].toUpperCase()}`]=+l[3]);}else qt.test(a)?or.test(r)||(t[i]=a==="true"):Xe.test(a)?t[i]=+a:t[i]=a;}}return t}function oe(s){let e=L(null);if(s.length===1&&s.charCodeAt(0)===47)return e.pathname=s,e.hash=Z,e.search=Z,e;let t=s.indexOf("#");t>=0?(e.hash=s.slice(t),s=s.slice(0,t)):e.hash=Z;let r=s.indexOf("?");return r>=0?(e.search=s.slice(r),s=s.slice(0,r)):e.search=Z,e.pathname=s,e}function Te(s,e){let t=s.indexOf("/",e);if(t>e){let n=s.indexOf("#",t);return n<0?s.slice(t):s.slice(t,n)}let r=s.indexOf("?",e);if(r>e){let n=s.indexOf("#",r);return n<0?s.slice(r):s.slice(r,n)}return s.length-e===M.length?"/":null}function ze(s){let e=s.startsWith("www.")?s.slice(4):s,t=e.indexOf("/");if(t>=0){let r=e.slice(t);if(e.slice(0,t)===M)return r.length>0?oe(r):oe("/")}else {let r=e.search(/[?#]/);if(r>=0){if(e.slice(0,r)===M)return oe("/"+e.slice(r))}else if(e===M)return oe("/")}return null}function lr(s){return s.startsWith("http")?1:s.startsWith("//")?2:s.startsWith("www.")?3:0}function cr(s){if(typeof s!="string"||s.length===0)return !1;if(s.charCodeAt(0)===47)return s.charCodeAt(1)!==47?!0:s.startsWith("www.",2)?s.startsWith(M,6):s.startsWith(M,2);if(s.charCodeAt(0)===63)return !0;if(s.startsWith("www."))return s.startsWith(M,4);if(s.startsWith("http")){let e=s.indexOf("/",4)+2;return s.startsWith("www.",e)?s.startsWith(M,e+4):s.startsWith(M,e)}}function ur(s){return s.charCodeAt(0)===47?s.charCodeAt(1)!==47?oe(s):ze(s.slice(2)):s.charCodeAt(0)===63?oe(location.pathname+s):s.startsWith("https:")||s.startsWith("http:")?ze(s.slice(s.indexOf("/",4)+2)):s.startsWith("www.")?ze(s):null}function Q(s){if(typeof s=="object")return s.pathname+s.search;if(s===Z)return "/";let e=lr(s);if(e===1){let t=s.charCodeAt(4)===115?8:7,r=s.startsWith("www.",t)?t+4:t;return s.startsWith(M,r)?Te(s,r):null}if(e===2){let t=s.startsWith("www.",2)?6:2;return s.startsWith(M,t)?Te(s,t):null}return e===3?s.startsWith(M,4)?Te(s,4):null:s.startsWith(M,0)?Te(s,0):null}function es(){return {hostname:M,origin:be,pathname:location.pathname,search:location.search,hash:location.hash}}function Ye(s){if(s===Z)return es();let e=ur(s);return e===null&&b(4,`Invalid pathname: ${s}`),e.origin=be,e.hostname=M,e}function S(s,e=6){if(s instanceof Element){let r=Qt(s);return r.type=e||6,r}let t=L(null);return s===0?(t.location=es(),t.key=Q(t.location),t.rev=t.key,t.type=s):e===7?(t.location=Ye(s),t.key=Q(t.location),t.rev=t.key,t.type=e):(t.rev=location.pathname+location.search,t.location=Ye(typeof s=="string"?s:t.rev),t.key=Q(t.location),t.type=e),t}function et(s){return new DOMParser().parseFromString(s,"text/html")}function ts(s){let e=s.indexOf(">",s.indexOf("<title"))+1,t=s.indexOf("</title",e);return Zs(s.slice(e,t).trim())}function _(s,...e){let t=s==="cache";t&&(e[1]=et(e[1]));let r=!0;return re(n=>{let i=n.apply(null,e);t?i instanceof Document?r=i.documentElement.outerHTML:typeof r!="string"&&(r=i!==!1):r=i!==!1;},o.events[s]||[]),r}function hr(s,e,t){$(o.events,s)||(o.events[s]=[]),o.events[s].push(t?e.bind(t):e);}function dr(s,e){let t=o.events[s],r=[];if(t&&e){let n=0,i=t.length;for(;n<i;n++)t[n]!==e&&r.push(t[n]);}return r.length?o.events[s]=r:delete o.events[s],this}function ye(s){s?typeof s=="string"?(delete o.snapshots[o.pages[s].uuid],delete o.pages[s]):Ee(s)&&re(e=>{delete o.snapshots[o.pages[e].uuid],delete o.pages[e];},s):(jt(o.pages),jt(o.snapshots));}function q(s){let e=Gt(s);return s.target=e("target")?s.target.length===1&&s.target[0]==="body"?s.target:[].concat(o.config.targets,s.target):o.config.targets,o.config.cache&&(e("cache")||(s.cache=o.config.cache),e("uuid")||(s.uuid=Qs())),e("scrollY")||(s.scrollY=0),e("scrollX")||(s.scrollX=0),o.config.hover!==!1&&s.type===10&&(e("threshold")||(s.threshold=o.config.hover.threshold)),o.config.proximity!==!1&&s.type===12&&(e("proximity")||(s.proximity=o.config.proximity.distance),e("threshold")||(s.threshold=o.config.proximity.threshold)),o.config.progress&&!e("progress")&&(s.progress=o.config.progress.threshold),e("render")||(s.render=o.config.render),e("visits")||(s.visits=0),o.pages[s.key]=s,o.pages[s.key]}function tt(s,e){let t=_("cache",s,e),r=typeof t=="string"?t:e;return s.type>5&&s.type>9&&(s.type=1),s.title=ts(e),!o.config.cache||t===!1?s:$(s,"uuid")?(o.pages[s.key]=s,o.snapshots[s.uuid]=r,s):Y(s,r)}function Y(s,e){let t=$(o.pages,s.key)?o.pages[s.key]:q(s);return typeof e=="string"&&(o.snapshots[t.uuid]=e,s.title=ts(e)),V(t,s)}function fr(){let s=w.state.key;if($(o.pages,s))return o.pages[s];b(4,`No record exists: ${s}`);}function Me(s){if(!s){if(w.state===null)return;s=w.state.key;}if($(o.pages,s)){let e=L(null);return e.page=o.pages[s],e.dom=et(o.snapshots[e.page.uuid]),e}b(4,`No record exists: ${s}`);}function U(s){return $(o.pages,s)&&$(o.pages[s],"uuid")&&$(o.snapshots,o.pages[s].uuid)&&typeof o.snapshots[o.pages[s].uuid]=="string"}function st(s,e){if(!(s instanceof Element))return !1;let t=s.closest(e);return t&&t.tagName==="A"?t:!1}function _e(s){if(s.nodeName!=="A")return !1;let e=s.href;return cr(e)?!U(Q(e)):!1}function pr(s,e){let t=[];return document.body.querySelectorAll(s).forEach(r=>{r.nodeName!=="A"?r.querySelectorAll(e).forEach(n=>{_e(r)&&t.push(n);}):_e(r)&&t.push(r);}),t}var rt=s=>{let e=[];return document.body.querySelectorAll(s).forEach(t=>{_e(t)&&e.push(t);}),e};function Ne(s,{method:e="GET",body:t=null,headers:r=null,type:n="text"}={}){return new Promise(function(i,a){let l=new A;if(l.key=s,l.responseType=n,l.open(e,s),l.setRequestHeader("spx-request","true"),r!==null)for(let c in r)l.setRequestHeader(c,r[c]);l.addEventListener("loadstart",function(){A.request.set(this.key,l);}),l.addEventListener("load",function(){i(this.response);}),l.addEventListener("error",function(){a(this.statusText);}),l.addEventListener("abort",function(){A.timeout.delete(this.key),A.transit.delete(this.key),A.request.delete(this.key);}),l.addEventListener("loadend",function(c){A.request.delete(this.key),o.memory.bytes=o.memory.bytes+c.loaded,o.memory.visits=o.memory.visits+1;}),l.send(t);})}function ss(s){return A.timeout.has(s)?(clearTimeout(A.timeout.get(s)),A.timeout.delete(s)):!0}function rs(s,e,t){A.timeout.has(s)||U(s)||A.timeout.set(s,setTimeout(e,t));}function Ht(s){for(let[e,t]of A.request)s!==e&&(t.abort(),b(2,`Pending request aborted: ${e}`));}function gr(s){if(o.config.preload!==null){if(Ee(o.config.preload)){let e=o.config.preload.filter(t=>{let r=S(t,3);return r.key!==t?P(q(r)):!1});return Promise.allSettled(e)}else if(typeof o.config.preload=="object"&&$(o.config.preload,s.key)){let e=o.config.preload[s.key].map(function(t){return P(q(S(t,3)))});return Promise.allSettled(e)}}}function ns(s){return O(this,null,function*(){let e=q(S(s,4));yield Js(),P(e).then(t=>{t?b(1,`Reverse fetch completed: ${t.key}`):b(2,`Reverse fetch failed: ${s}`);});})}function nt(s){return O(this,null,function*(){if(!A.transit.has(s.key))return s;let e=yield A.transit.get(s.key);return A.transit.delete(s.key),A.timeout.delete(s.key),tt(s,e)})}function P(s){return O(this,null,function*(){return A.request.has(s.key)&&s.type!==7?(s.type===4&&A.request.has(s.rev)?(A.request.get(s.rev).abort(),b(2,`Request aborted: ${s.rev}`)):b(2,`Request in transit: ${s.key}`),!1):_("fetch",s)?(A.transit.set(s.key,Ne(s.key)),nt(s)):(b(2,`Request cancelled via dispatched event: ${s.key}`),!1)})}function is(s){let e=st(s.target,o.selectors.hover);if(!e)return;let t=S(e,10);if(U(t.key)||A.timeout.has(t.key))return;e.addEventListener(`${F}leave`,os,{once:!0});let r=q(t),n=r.threshold||o.config.hover.threshold;rs(t.key,function(){_("prefetch",e,t)&&P(r).then(function(i){A.timeout.delete(t.key),as(e);});},n);}function os(s){let e=st(s.target,o.selectors.hover);e&&ss(Q(e.href));}function mr(s){s.addEventListener(`${F}enter`,is);}function as(s){s.removeEventListener(`${F}enter`,is),s.removeEventListener(`${F}leave`,os);}function it(){!o.config.hover||o.observers.hover||(re(mr,rt(o.selectors.hover)),o.observers.hover=!0);}function Se(){o.observers.hover&&(re(as,rt(o.selectors.hover)),o.observers.hover=!1);}function yr({clientX:s,clientY:e},t){return s<=t.right&&s>=t.left&&e<=t.bottom&&e>=t.top}function vr(s){let e=s.getBoundingClientRect(),t=s.getAttribute(o.selectors.proximity),r=Xe.test(t)?Number(t):o.config.proximity.distance;return {target:s,top:e.top-r,bottom:e.bottom+r,left:e.left-r,right:e.right+r}}function br(s){let e=!1;return function(t){if(e)return;e=!0;let r=s.findIndex(n=>yr(t,n));if(r===-1)setTimeout(()=>{e=!1;},o.config.proximity.throttle);else {let{target:n}=s[r],i=q(S(n,12)),a=i.threshold||o.config.proximity.threshold;rs(i.key,()=>O(this,null,function*(){if(!_("prefetch",n,i))return le();(yield P(i))&&(s.splice(r,1),e=!1,s.length===0&&(le(),b(1,"Proximity observer disconnected")));}),a);}}}var Je;function ot(){if(!o.config.proximity||o.observers.proximity)return;let s=rt(o.selectors.proximity).map(vr);s.length>0&&(Je=br(s),addEventListener(`${F}move`,Je,{passive:!0}),o.observers.proximity=!0);}function le(){o.observers.proximity&&(removeEventListener(`${F}move`,Je),o.observers.proximity=!1);}var te;function Er(s){return O(this,null,function*(){if(s.isIntersecting){let e=S(s.target,11);if(!_("prefetch",s.target,e))return te.unobserve(s.target);(yield P(q(e)))?te.unobserve(s.target):(b(2,`Prefetch will retry at next intersect for: ${e.key}`),te.observe(s.target));}})}function at(){if(!o.config.intersect||o.observers.intersect)return;te||(te=new IntersectionObserver(re(Er),o.config.intersect));let s=re(t=>te.observe(t)),e=pr(o.selectors.intersector,o.selectors.intersects);s(e),o.observers.intersect=!0;}function Ve(){o.observers.intersect&&(te.disconnect(),o.observers.intersect=!1);}var ce=null,ls,me=null,Ue=[];function lt(s){s=us(s,o.config.progress.minimum,1),ce=s===1?null:s;let e=wr();Ar(t=>{if(e.style.setProperty("transform",`translateX(${hs(s)}%)`),s!==1)return setTimeout(t,o.config.progress.speed);setTimeout(()=>{xr(),t();},o.config.progress.speed*2);});}function cs(s){let e=ce;if(!e)return ct();if(e<1)return typeof s!="number"&&(e>=0&&e<.2?s=.1:e>=.2&&e<.5?s=.04:e>=.5&&e<.8?s=.02:e>=.8&&e<.99?s=.005:s=0),e=us(e+s,0,.994),lt(e)}function wr(){if(me)return me;document.documentElement.classList.add("spx-load");let s=hs(ce||0),e=document.createElement("div");return e.id="spx-progress",e.style.cssText=`opacity:1;pointer-events:none;background-color:${o.config.progress.background};height:${o.config.progress.height};position:fixed;z-index:9999999;top:0;left:0;width:100%;will-change:transform;transition:opacity 100ms ease-out,transform ${o.config.progress.speed}ms ${o.config.progress.easing};transform:translateX(${s}%);`,document.body.appendChild(e),me=e,e}function xr(){document.documentElement.classList.remove("spx-load"),document.getElementById("spx-progress")&&document.body.removeChild(me),me=null;}function us(s,e,t){return s<e?e:s>t?t:s}function hs(s){return (-1+s)*100}function Ar(s){let e=()=>{let t=Ue.shift();t&&t(e);};Ue.push(s),Ue.length===1&&e();}function ct(s){o.config.progress&&(ls=setTimeout(()=>{ce||lt(0);function e(){setTimeout(()=>{ce&&(cs(),e());},o.config.progress.trickleSpeed);}o.config.progress.trickle&&e();},s||0));}function kr(s){if(clearTimeout(ls),!(!s&&!ce))return cs(.8*Math.random()),lt(1)}function Or(){window.scrollY>=0&&(o.position.scrollY=window.scrollY),window.scrollX>=0&&(o.position.scrollX=window.scrollX),console.log(o.position);}function Tr(){o.observers.scroll&&(removeEventListener("scroll",Or,!1),o.observers.scroll=!1);}function Lr(s){return new Promise((e,t)=>{let r=document.createElement("script");r.addEventListener("error",t,{once:!0}),r.async=!1,r.text=s.target.text;for(let{nodeName:n,nodeValue:i}of s.target.attributes)r.setAttribute(n,i);document.contains(s.target)?s.target.replaceWith(r):(document.head.append(r),s.external?r.addEventListener("load",()=>r.remove(),{once:!0}):r.remove()),s.external&&r.addEventListener("load",()=>e(),{once:!0}),e();})}function $r(s){if(!s.hasAttribute("src")&&!s.text)return;let e=s.type?s.type.trim().toLowerCase():"text/javascript",t=nr.test(e)?1:e==="module"?2:NaN,r=L(null);return r.blocking=!0,r.evaluate=!1,r.external=!1,isNaN(t)||s.noModule&&t===1||(s.src&&(r.external=!0),(t!==1||r.external&&(s.hasAttribute("async")||s.defer))&&(r.blocking=!1),r.evaluate=!0,r.target=s),r}function Wt(s){return O(this,null,function*(){try{let e=Lr(s);s.blocking&&(yield e);}catch(e){console.error(e);}})}function Cr(s){return O(this,null,function*(){let e=Jt(s,$r).filter(t=>t.evaluate).reduce((t,r)=>O(this,null,function*(){return r.external?Promise.all([t,Wt(r)]):(yield t,yield Wt(r))}),Promise.resolve());yield Promise.race([e]);})}function Mr(s){return s?s.getAttribute&&s.getAttribute("id")||s.id:void 0}function Le(s,e){let t=s.nodeName,r=e.nodeName;if(t===r)return !0;let n=t.charCodeAt(0),i=r.charCodeAt(0);return n<=90&&i>=97||n<=90&&i>=97?t===r.toUpperCase():!1}function Nr(s,e){return !e||e==="http://www.w3.org/1999/xhtml"?document.createElement(s):document.createElementNS(e,s)}function Sr(s,e){let t=s.firstChild;for(;t;){let r=t.nextSibling;e.appendChild(t),t=r;}return e}function Vr(s,e){if(e.nodeType===11||s.nodeType===11)return;let t=e.attributes,r,n,i,a,l;for(let h=t.length-1;h>=0;h--)r=t[h],n=r.name,a=r.value,i=r.namespaceURI,i?(n=r.localName||n,l=s.getAttributeNS(i,n),l!==a&&(r.prefix==="xmlns"&&(n=r.name),s.setAttributeNS(i,n,a))):(l=s.getAttribute(n),l!==a&&s.setAttribute(n,a));let c=s.attributes;for(let h=c.length-1;h>=0;h--)r=c[h],n=r.name,a=r.value,i=r.namespaceURI,i?(n=r.localName||n,e.hasAttributeNS(i,n)||s.removeAttributeNS(i,n)):e.hasAttribute(n)||s.removeAttribute(n);}var ds={};Ut(ds,{INPUT:()=>Br,OPTION:()=>Fr,SELECT:()=>Pr,TEXTAREA:()=>fs});function Ge(s,e,t){s[t]!==e[t]&&(s[t]=e[t],s[t]?s.setAttribute(t,""):s.removeAttribute(t));}function Fr(s,e){let t=s.parentNode;if(t){let r=t.nodeName.toUpperCase();r==="OPTGROUP"&&(t=t.parentNode,r=t&&t.nodeName.toUpperCase()),r==="SELECT"&&!t.hasAttribute("multiple")&&(s.hasAttribute("selected")&&!e.selected&&(s.setAttribute("selected","selected"),s.removeAttribute("selected")),t.selectedIndex=-1);}Ge(s,e,"selected");}function Br(s,e){Ge(s,e,"checked"),Ge(s,e,"disabled"),s.value!==e.value&&(s.value=e.value),e.hasAttribute("value")||s.removeAttribute("value");}function fs(s,e){let t=e.value;s.value!==t&&(s.value=t);let r=s.firstChild;if(r){let n=r.nodeValue;if(n===t||!t&&n===s.placeholder)return;r.nodeValue=t;}}function Pr(s,e){if(!e.hasAttribute("multiple")){let t=-1,r=0,n=s.firstElementChild,i,a;for(;n;)if(a=n.nodeName&&n.nodeName.toUpperCase(),a==="OPTGROUP")i=n,n=i.firstElementChild;else {if(a==="OPTION"){if(n.hasAttribute("selected")){t=r;break}r++;}n=n.nextElementSibling,!n&&i&&(n=i.nextElementSibling,i=null);}s.selectedIndex=t;}}function $e(){}function ve(s,e,t){t||(t={}),e.nodeType===11&&(e=e.firstElementChild);let r=t.getNodeKey||Mr,n=t.onNodeAdded||$e,i=t.onBeforeNodeDiscarded||$e,a=t.onNodeDiscarded||$e,l=t.onBeforeElChildrenUpdated||$e,c=new Map,h=[];function T(y,m){if(y.nodeType===1){let p=y.firstChild;for(;p;){let x;m&&(x=r(p))?h.push(x):p.firstChild&&T(p,m),p=p.nextSibling;}}}function g(y,m,p){i(y)!==!1&&(m&&m.removeChild(y),T(y,p));}function d(y){if(y.nodeType===1||y.nodeType===11){let m=y.firstChild;for(;m;){let p=r(m);p&&c.set(p,m),d(m),m=m.nextSibling;}}}d(s);function u(y){n(y);let m=y.firstChild;for(;m;){let p=m.nextSibling,x=r(m);if(x){let K=c.get(x);K&&Le(m,K)?(m.parentNode.replaceChild(K,m),E(K,m)):u(m);}else u(m);m=p;}}function f(y,m,p){for(;m;){let x=m.nextSibling;(p=r(m))?h.push(p):g(m,y,!0),m=x;}}function E(y,m){let p=r(m);p&&c.delete(p),y.isEqualNode(m)!==!0&&y.getAttribute(o.selectors.morph)!=="false"&&(y.getAttribute(o.selectors.morph)!=="children"&&Vr(y,m),l(y,m)!==!1&&(y.nodeName!=="TEXTAREA"?j(y,m):fs(y,m)));}function j(y,m){let p=m.firstChild,x=y.firstChild,K,H,ie,ke,G;e:for(;p;){for(ke=p.nextSibling,K=r(p);x;){if(ie=x.nextSibling,p.isSameNode&&p.isSameNode(x)){p=ke,x=ie;continue e}H=r(x);let Oe=x.nodeType,z;if(Oe===p.nodeType&&(Oe===1?(K?K!==H&&((G=c.get(K))?ie===G?z=!1:(y.insertBefore(G,x),H?h.push(H):g(x,y,!0),x=G,H=r(x)):z=!1):H&&(z=!1),z=z!==!1&&Le(x,p),z===!1&&c.has(H)&&c.get(H).getAttribute(o.selectors.morph)==="children"&&(z=!0),z&&E(x,p)):(Oe===3||Oe===8)&&(z=!0,x.nodeValue!==p.nodeValue&&(x.nodeValue=p.nodeValue))),z){p=ke,x=ie;continue e}H?h.push(H):g(x,y,!0),x=ie;}K&&(G=c.get(K))&&Le(G,p)?(y.appendChild(G),E(G,p)):(p.actualize&&(p=p.actualize(y.ownerDocument||document)),y.appendChild(p),u(p)),p=ke,x=ie;}f(y,x,H);let Bt=ds[y.nodeName];Bt&&Bt(y,m);}let k=s,ee=k.nodeType,Ft=e.nodeType;if(ee===1)Ft===1?Le(s,e)||(a(s),k=Sr(s,Nr(e.nodeName,e.namespaceURI))):k=e;else if(ee===3||ee===8){if(Ft===ee)return k.nodeValue!==e.nodeValue&&(k.nodeValue=e.nodeValue),k;k=e;}if(k===e)a(s);else {if(e.isSameNode&&e.isSameNode(k))return;if(E(k,e),h)for(let y=0,m=h.length;y<m;y++){let p=c.get(h[y]);p&&g(p,p.parentNode,!1);}}return k!==s&&s.parentNode&&(k.actualize&&(k=k.actualize(s.ownerDocument||document)),s.parentNode.replaceChild(k,s)),k}function Dr(s,e){return s.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING||-1}function ps(s,e){return O(this,null,function*(){let t=e===7?o.selectors.scriptsHydrate:o.selectors.scripts,r=Jt(s.querySelectorAll(t));yield Cr(r.sort(Dr));})}function Ir(s){document.head.querySelectorAll(o.selectors.evals).forEach(e=>{s.head.contains(e)||e.remove();}),document.head.append(...s.querySelectorAll(o.selectors.evals));}function jr(s){let e=s.querySelectorAll(o.selectors.tracking);if(e!==null)for(let t of e)t.hasAttribute("id")?o.tracked.has(t.id)||(document.body.appendChild(t),o.tracked.add(t.id)):b(2,`Tracked node <${t.tagName.toLowerCase()}> must contain an id attribute`);}function qr(s,e){let t=s.target,r=s.render;if(t.length===1&&t[0]==="body")r==="morph"?ve(document.body,e.body):r==="replace"?document.body.replaceWith(e.body):document.body.innerHTML=e.body.innerHTML;else {let n=t.join(","),i=e.body.querySelectorAll(n);document.body.querySelectorAll(n).forEach((a,l)=>{if(a.isEqualNode(i[l])||!_("render",a,i[l]))return;let c=r;if(a.hasAttribute(o.selectors.render)){let h=a.getAttribute(o.selectors.render);h!==c&&(c=h);}if(c==="morph"?ve(a,i[l]):s.render==="replace"?a.replaceWith(i[l]):a.innerHTML=i[l].innerHTML,s.append||s.prepend){let h=document.createElement("div");return e.childNodes.forEach(h.appendChild),s.append?a.appendChild(h):a.insertBefore(h,a.firstChild)}}),jr(e.body);}}function Rr(s,e){let t=s.hydrate;if(t.length===1&&t[0]==="body"){ve(document.body,e.body);return}let r=t.join(","),n=document.body.querySelectorAll(r),i=s.preserve&&s.preserve.length>0?s.preserve.join(","):null,a=[];if(i&&document.body.querySelectorAll(i).forEach(l=>{l.setAttribute("spx-morph","false"),a.push(l);}),n.length>0){let l=e.body.querySelectorAll(r);n.forEach((c,h)=>{if(l[h]instanceof HTMLElement){if(!_("hydrate",c,l[h]))return;ve(c,l[h]);}});}if(i)for(let l of a)l.removeAttribute("spx-morph");ps(e,7),s.hydrate=void 0,s.preserve=void 0,s.type=6,Y(s);}function X(s){return O(this,null,function*(){Se(),Ve(),le(),document.title=s.title;let e=et(o.snapshots[s.uuid]);return s.type===7?Rr(s,e):(Ir(e),qr(s,e),ps(e,s.type),scrollTo(s.scrollX,s.scrollY)),kr(),Gs(()=>{it(),at(),ot();}),_("load",s),s})}var gs={};Ut(gs,{api:()=>w,connect:()=>bs,disconnect:()=>Es,exists:()=>ms,initialize:()=>ys,push:()=>Fe,replace:()=>se,reverse:()=>Kr});function Kr(){return w.state!==null&&$(w.state,"rev")&&w.state.key!==w.state.rev}function ms(s){if(w.state==null||typeof w.state!="object")return !1;let e=Gt(w.state)(["key","rev","scrollX","scrollY","title"]);return typeof s=="string"?e&&w.state.key===s:e}function ys(s){return ms(s.key)?(scrollTo(w.state.scrollX,w.state.scrollY),V(s,w.state)):(se(s),s)}function se(s){let e=L(null);return e.key=s.key,e.rev=s.rev,e.title=s.title||document.title,e.scrollX=s.scrollX,e.scrollY=s.scrollY,w.replaceState(e,e.title,e.key),b(1,`ReplaceState: ${w.state.key}`),w.state}function Fe(s){let e=L(null);return e.key=s.key,e.rev=s.rev,e.title=s.title,e.scrollY=0,e.scrollX=0,w.pushState(e,e.title,e.key),b(1,`PushState: ${w.state.key}`),w.state}function vs(s){return O(this,null,function*(){if(s.state!==null)if(U(s.state.key))U(s.state.rev)===!1&&s.state.rev!==s.state.key&&ns(s.state.rev),b(1,`PopState: ${s.state.key}`),o.pages[s.state.key].type=5,yield X(o.pages[s.state.key]);else {s.state.type=5;let e=yield P(s.state);if(!e)return location.assign(s.state.key);let t=Q(location);if(e.key===t)yield X(e);else if(U(t))yield X(o.pages[t]);else {let r=q(S(t,5));yield P(r),w.pushState(r,document.title,t);}}})}function bs(s){if(!o.observers.history)return w.scrollRestoration&&(w.scrollRestoration="manual"),addEventListener("popstate",vs,!1),o.observers.history=!0,typeof s=="object"&&s.type===0?ys(s):s}function Es(){o.observers.history&&(w.scrollRestoration&&(w.scrollRestoration="auto"),removeEventListener("popstate",vs,!1),o.observers.history=!1);}function Hr(s){return !(s.target&&s.target.isContentEditable||s.defaultPrevented||s.which>1||s.altKey||s.ctrlKey||s.metaKey||s.shiftKey)}var W=function(s){if(!Hr(s))return;let e=st(s.target,o.selectors.hrefs);if(!e)return;let t=Q(e.href);if(t===null)return;function r(){W.drag=!0,b(2,`Drag occurance on link: ${t}`),e.removeEventListener(`${F}move`,r);}if(e.addEventListener(`${F}move`,r,{once:!0}),W.drag===!0)return W.drag=!1,W(s);if(e.removeEventListener(`${F}move`,r),!!_("visit",s))if(Tr(),Se(),le(),Ve(),U(t)){let n=Qt(e,o.pages[t]),i=Y(n);e.onclick=function(a){a.preventDefault(),o.pages[i.rev].scrollX=window.scrollX,o.pages[i.rev].scrollY=window.scrollY,se(o.pages[i.rev]),Fe(i),X(i);};}else if(A.transit.has(t)){Ht(t),b(1,`Request in transit: ${t}`);let n=o.pages[t];e.onclick=function(i){i.preventDefault(),o.pages[n.rev].scrollX=window.scrollX,o.pages[n.rev].scrollY=window.scrollY,se(o.pages[n.rev]),Ze(n);};}else {Ht(),ss(t);let n=q(S(e,6));P(n),e.onclick=function(i){i.preventDefault(),o.pages[n.rev].scrollX=window.scrollX,o.pages[n.rev].scrollY=window.scrollY,se(o.pages[n.rev]),Ze(n);};}};function Ze(s){return O(this,null,function*(){s.progress&&ct(s.progress);let e=yield nt(s);if(e)Fe(e),X(e);else return location.assign(s.key)})}function zt(s,e){return O(this,null,function*(){if(e){typeof e.cache=="string"&&(e.cache==="clear"?ye():ye(e.key)),e.progress&&ct(e.progress);let t=yield P(e);t?(Fe(t),X(t)):location.assign(e.key);}else return Ze(o.pages[s])})}function Wr(){o.observers.hrefs||(W.drag=!1,Ce==="mouseOnly"?addEventListener(`${F}down`,W,!1):(Ce==="touchOnly"||addEventListener(`${F}down`,W,!1),addEventListener("touchstart",W,!1)),o.observers.hrefs=!0);}function zr(){o.observers.hrefs&&(Ce==="mouseOnly"?removeEventListener(`${F}down`,W,!1):(Ce==="touchOnly"||removeEventListener(`${F}down`,W,!1),removeEventListener("touchstart",W,!1)),o.observers.hrefs=!1);}function Ur(){let s=S(0),e=bs(q(s));o.index=e.key;function t(){let r=tt(e,document.documentElement.outerHTML);return Wr(),o.config.manual===!1&&(it(),at(),ot()),r.rev!==r.key&&setTimeout(()=>ns(r.rev),1),setTimeout(()=>gr(r),1),r}return new Promise(r=>{if(document.readyState==="complete"||document.readyState==="interactive")return r(t());addEventListener("DOMContentLoaded",()=>r(t()),{once:!0});})}function Xr(){Se(),it(),Ve(),at(),le(),ot();}function Yr(){Es(),zr(),Se(),Ve(),le(),ye(),o.config.globalThis&&delete window.spx,b(1,"Disconnected \u{1F614}");}var ws=!!(window.history.pushState&&window.requestAnimationFrame&&window.addEventListener&&window.DOMParser),xs=V(L(null),{supported:ws,on:hr,off:dr,observe:Xr,history:gs,connect:_r,capture:tn,form:rn,render:en,session:Jr,state:Gr,reload:Zr,fetch:Qr,clear:ye,hydrate:nn,prefetch:sn,visit:on,disconnect:Yr,get config(){return o.config}});function _r(s={}){if(typeof document=="undefined")return b(4,"SPX only runs in the browser");if(!ws)return b(4,"Browser does not support SPX");if(!window.location.protocol.startsWith("http"))return b(4,"Invalid protocol, SPX expects https or http protocol");Zt(s);let e=Ur();return function(t){return O(this,null,function*(){let r=yield e;if(o.config.globalThis&&Object.defineProperty(window,"spx",{get(){return xs}}),t.constructor.name==="AsyncFunction")try{yield t(r);}catch(n){b(2,"Connection Error",n);}else t(r);b(1,"Connection Established \u26A1");})}}function Jr(s,e){if(s)if(e)s==="config"&&Zt(e),s==="observers"&&V(o.observers,e);else {if(s==="config")return o.config;if(s==="observers")return o.observers;if(s==="pages")return o.pages;if(s==="snapshots")return o.snapshots;if(s==="memory")return It(o.memory.bytes)}let t=L(null);return t.config=o.config,t.snapshots=o.snapshots,t.pages=o.pages,t.observers=o.observers,t.memory=o.memory,t.memory.size=It(t.memory.bytes),t}function Gr(s,e){if(s===void 0)return Me();if(typeof s=="string"){let t=Q(s);U(t)||b(4,`No store exists at: ${t}`);let r=Me(t);return e!==void 0?Y(V(r.page,e)):r}if(typeof s=="object")return Y(s)}function Zr(){return O(this,null,function*(){let s=o.pages[w.state.key];s.type=9;let e=yield P(s);return e?(b(1,"Triggered reload, page was re-cached"),X(e)):(b(2,"Reload failed, triggering refresh (cache will be purged)"),location.assign(s.key))})}function Qr(s){return O(this,null,function*(){let e=S(s,2);e.location.origin!==be&&b(4,"Cross origin fetches are not allowed");let t=yield Ne(e.key);if(t)return t})}function en(s,e,t){return O(this,null,function*(){let r=fr(),n=S(s);n.location.origin!==be&&b(4,"Cross origin fetches are not allowed");let i=yield Ne(n.key,{type:"document"});if(i||b(4,`Fetch failed for: ${n.key}`,i),yield t.call(r,i),e==="replace"){r.title=i.title;let a=Y(V(r,n),i.documentElement.outerHTML);return se(a),a}else return X(tt(n,i.documentElement.outerHTML))})}function tn(s){let e=Me();if(!e)return;let{page:t,dom:r}=e;if(s=Ee(s)?s:t.target,s.length===1&&s[0]==="body"){r.body.replaceChildren(document.body),Y(t,r.documentElement.innerHTML);return}let n=s.join(","),i=document.body.querySelectorAll(n);r.body.querySelectorAll(n).forEach((a,l)=>{ve(a,i[l]);}),Y(t,r.documentElement.innerHTML);}function sn(s){return O(this,null,function*(){let e=S(s,1);if(U(e.key)){b(2,`Cache already exists for ${e.key}, prefetch skipped`);return}let t=yield P(q(e));if(t)return t;b(4,`Prefetch failed for ${e.key}`);})}function rn(s,e){return O(this,null,function*(){let t=new FormData;for(let r in e.data)t.append(r,e.data[r]);return yield Ne(s,{method:e.method,body:t})})}function nn(s,e){return O(this,null,function*(){let t=S(s,7);if(P(t),Ee(e)){t.hydrate=[],t.preserve=[];for(let n of e)n.charCodeAt(0)===33?t.preserve.push(n.slice(1)):t.hydrate.push(n);}else t.hydrate=o.config.targets;let r=yield nt(t);if(r){let{key:n}=w.state;if(se(r),X(r),t.key!==n){o.index===n&&(o.index=t.key);for(let i in o.pages)o.pages[i].rev===n&&(o.pages[i].rev=t.key);ye(n);}}return Me(r.key).dom})}function on(s,e){return O(this,null,function*(){let t=S(s),r=typeof e=="object"?V(t,e):t;return U(t.key)?zt(t.key,Y(r)):zt(t.key,q(r))})}var ue=xs;var{isArray:Os,from:Ts}=Array,D=new Map,I=(s,e=Object.create(null))=>s?Object.assign(e,s):e,an=class extends Array{constructor(){super(...arguments),this.ref=I(),this.get=s=>{let e=typeof s;if(e==="number")return this[s];if(e==="string"){if(s in this.ref)return this[this.ref[s]];console.error(`Relapse: Unknown fold id: ${s}`);}return this};}};function As(s,e){let t=s.getAttribute(e.schema);if((t===null||t==="")&&(t=s.hasAttribute("id")?s.id:`R${D.size}`,s.setAttribute(e.schema,t)),D.has(t)){if(D.get(t).options.unique===!1)return;throw new Error(`Relapse: Instance already exists with id: ${t} `)}let r=hn(e,s.attributes),n=new an,i=D.set(t,{id:t,semantic:s.firstElementChild.nodeName==="DETAILS",openCount:0,status:1,active:NaN,events:I(),get folds(){return n},get options(){return r},get element(){return s}}).get(t);s.ariaMultiSelectable=`${i.options.multiple}`;let a=ln(i.events),l=s.children.length,c=i.semantic?1:2,{classes:h}=i.options,T=0;do{let g=I({index:i.folds.length,locked:!1}),d=!1,u,f,E;if(i.semantic){if(E=s.children[T],E.nodeName!=="DETAILS")throw new Error(`Relapse: Invalid markup on "${i.id}", expected: <details>`);u=E.firstElementChild,f=u.nextElementSibling,d=E.hasAttribute("open");}else u=s.children[T],f=E=s.children[T+1],f.hasAttribute("hidden")?f.removeAttribute("hidden"):f.firstElementChild.hasAttribute("hidden")&&f.firstElementChild.removeAttribute("hidden");E.setAttribute("role","region");let j=u.classList.contains(h.disabled),k=u.classList.contains(h.opened),ee=f.classList.contains(h.expanded);u.ariaExpanded==="true"||d||k?(u.ariaExpanded!=="true"&&(u.ariaExpanded="true"),!k&&!j&&u.classList.add(h.opened),ee||f.classList.add(h.expanded),(j||u.ariaDisabled==="true")&&(u.classList.add(h.disabled),u.ariaDisabled="true",g.disabled=!0,g.locked=!0),g.expanded=!0):u.ariaDisabled==="true"||j?(u.ariaDisabled!=="true"&&(u.ariaDisabled="true"),j||u.classList.add(h.disabled),k&&u.classList.remove(h.opened),g.expanded=(ee||d)===!0,g.disabled=!0,g.locked=!0,u.ariaExpanded=String(g.expanded)):(g.expanded=!1,g.disabled=!1,u.ariaExpanded="false",u.ariaDisabled="false"),g.id=`${i.id}-fold-${g.index}`,u.hasAttribute("id")||(u.id=`${i.id}-button-${g.index}`),f.hasAttribute("id")||(f.id=`${i.id}-content-${g.index}`),u.tabIndex=g.index,u.setAttribute("aria-controls",f.id),f.setAttribute("aria-labelledby",u.id),g.expanded?(i.openCount=i.openCount+1,i.options.multiple===!1&&i.openCount===2&&console.warn(`Relapse: More than 1 fold is expanded but "multiple" is set to false on: ${i.id}`),i.semantic?(g.height=u.offsetHeight+f.offsetHeight,E.style.setProperty("height","auto")):(g.height=f.scrollHeight,E.style.setProperty("max-height","inherit"))):i.semantic?(g.height=u.offsetHeight,E.style.setProperty("height","auto")):(g.height=0,f.style.setProperty("max-height","0"),f.style.setProperty("overflow","hidden")),g.button=u,g.wrapper=E,g.element=f,cn(g,i,a),T=T+c;}while(T<l);i.on=a.on,i.off=a.off,i.collapse=(g=i.active)=>{isNaN(g)||n.get(g).close(g);},i.expand=(g=i.active)=>{isNaN(g)||n.get(g).open(g);},i.destroy=()=>{n.forEach(g=>g.destroy()),a.emit("destroy",i),D.delete(t);};}function ln(s){let e=I();return e.on=(t,r,n)=>(s[t]||(s[t]=[]),s[t].push(n?r.bind(n):r)-1),e.off=(t,r)=>{let n=s[t],i=`Relapse: Removed ${t} event listener`;if(n&&typeof r=="number")n.splice(r,1),console.warn(`${i} (id: ${r})`),n.length===0&&delete n[t];else {let a=[];if(n&&typeof r=="function")for(let l=0,c=n.length;l<c;l++)n[l]!==r?a.push(n[l]):console.warn(`${i} (id: ${l})`);a.length>0?n[t]=a:delete n[t];}},e.emit=(t,r,n)=>{let i=s[t]||[],a=null;for(let l=0,c=i.length;l<c;l++){let h=i[l].call(r,n);a===null&&h===!1&&(a=!0);}return a},e}function cn(s,e,t){let r=e.options.classes,n=e.options.fade,i=I({easing:n.easing,duration:n.duration*2}),a=d=>{if(typeof d!="number")return e.active!==s.index&&(e.active=s.index),s;if(e.folds.get(d))return e.active=s.index,e.folds.get(d);throw new Error(`Relapse: No fold exists using id: "${d}"`)},l=()=>e.folds.filter(({expanded:d})=>d).length,c=(d,u,f)=>{d.style.setProperty("will-change","opacity,visibility");let E=d.animate({opacity:u,visibility:f},u[0]==="1"?i:n);E.onfinish=()=>{d.style.setProperty("opacity",u[1]),d.style.setProperty("visibility",f[1]),d.style.removeProperty("will-change");};},h=(d,u,f)=>{e.status=2;let E=d.animate(e.semantic?{height:u}:{maxHeight:u},e.options.fold);E.onfinish=f;},T=d=>{if(d.disabled)return;let u=d.button,f=d.wrapper,E=d.element;f.style.setProperty("overflow","hidden"),e.semantic?(d.height=u.offsetHeight,f.style.setProperty("will-change","height")):(d.height=0,f.style.setProperty("will-change","max-height")),c(E,["1","0"],["visible","hidden"]),h(f,[`${f.offsetHeight}px`,`${d.height}px`],()=>{e.semantic?(f.style.setProperty("height",`${d.height}px`),f.removeAttribute("open")):E.style.setProperty("max-height","0"),d.expanded=!1,u.ariaDisabled="false",u.ariaExpanded="false",u.classList.remove(r.opened),f.classList.remove(r.expanded),f.style.removeProperty("will-change"),e.openCount=l(),e.status=1,t.emit("collapse",e,d);});},g=d=>u=>{d.close();let f=d.button,E=d.wrapper,j=d.element;f.ariaDisabled="true",f.ariaExpanded="true";let k;e.semantic?(E.setAttribute("open",""),E.style.setProperty("will-change","height"),E.style.setProperty("overflow","hidden"),d.height=f.offsetHeight+j.offsetHeight,k=`${f.offsetHeight}px`):(E.style.setProperty("will-change","max-height"),d.height=j.scrollHeight,k="0px"),f.classList.add(r.opened),c(j,["0","1"],["hidden","visible"]),h(E,[k,`${d.height}px`],()=>{e.semantic?E.style.setProperty("height","auto"):j.style.setProperty("max-height","inherit"),E.style.removeProperty("overflow"),E.style.removeProperty("will-change"),j.classList.add(r.expanded),d.expanded=!0,e.openCount=l(),e.status=1,e.options.persist&&e.openCount>1&&d.disable(),t.emit("expand",e,d);});};s.close=d=>{let u=a(d);if(e.options.multiple)(e.options.persist===!0&&e.openCount>1||e.options.persist===!1&&u.expanded===!0)&&T(u);else for(let f of e.folds)if(f.expanded===!0&&f.locked===!1){if(e.options.persist&&f.index===u.index)break;T(f),u=f;break}u.enable(),e.openCount=l();},s.focus=()=>{e.active=s.index,s.button.focus({preventScroll:!0}),t.emit("focus",e,s);},s.enable=d=>{let u=a(d);u.disabled&&u.locked===!1&&(u.disabled=!1,u.button.ariaDisabled="false",u.button.classList.remove(r.disabled));},s.disable=d=>{let u=a(d);u.disabled||(u.expanded?e.options.persist&&(u.disabled=!0,u.button.ariaDisabled="true"):(u.close(),u.disabled=!0,u.button.ariaDisabled="true",u.button.classList.add(r.disabled)));},s.open=d=>{let u=a(d);e.status===2||u.expanded||requestAnimationFrame(g(u));},s.toggle=d=>{if(e.semantic&&d.preventDefault(),!(e.status===2||t.emit("toggle",e,s)===!1))return s.expanded?s.close():s.open()},s.destroy=()=>{s.button.removeEventListener("click",s.toggle),s.button.removeEventListener("focus",s.focus),s.button.removeEventListener("blur",s.blur);},s.button.addEventListener("click",s.toggle),s.button.addEventListener("focus",s.focus),e.folds.push(s),e.folds.ref[s.element.id]=e.folds.length-1;}function un(s){return typeof s=="object"&&"schema"in s?s.schema:"[data-relapse]"}function ks(s){let e=I({persist:!1,unique:!1,multiple:!1,schema:"data-relapse",fold:I({duration:200,easing:"ease-in-out"}),fade:I({duration:120,easing:"linear"}),classes:I({opened:"opened",disabled:"disabled",expanded:"expanded"})});if(typeof s=="object"){for(let t in s)if(t==="classes"||t==="fade"||t==="fold")for(let r in s[t])e[t][r]=s[t][r];else e[t]=s[t];"fade"in s&&"duration"in s.fade&&s.fade.duration!==e.fade.duration||e.fold.duration!==200&&(e.fade.duration=e.fold.duration-e.fold.duration/2.5);}return e}function hn(s,e){let t=s.schema.length+1,r=I({fold:I(),fade:I(),classes:I()});for(let{nodeName:n,nodeValue:i}of e){if(!n.startsWith(s.schema))continue;let a=n.slice(t);if(a==="schema"){console.warn('Relapse: The "schema" option cannot be defined via attribute');continue}let l=i.trim(),c=`Invalid ${n} attribute value.`;if(a==="persist"||a==="multiple"||a==="unique")if(l==="true"||l==="false")r[a]=l==="true";else throw new TypeError(`Relapse: ${c}. Boolean expected, received: ${l}`);else if(a==="fold-duration"||a==="fade-duration"){if(isNaN(+l))throw new TypeError(`Relapse: ${c}. Number expected, received: ${l}`);{let[h,T]=a.split("-");r[h][T]=+l;}}else if(a.startsWith("class-")||a==="fold-easing"||a==="fade-easing"){let[h,T]=a.split("-");r[h][T]=l;}}!("fade"in r&&"duration"in r.fade&&r.fade.duration!==s.fade.duration)&&"fold"in r&&"duration"in r.fold&&r.fold.duration!==s.fold.duration&&(r.fade.duration=r.fold.duration-r.fold.duration/2.5);for(let n in r)if(n==="fold"||n==="classes"||n==="fade")for(let i in r[n])s[n][i]=r[n][i];else s[n]=r[n];return s}var he=function s(e,t){if(document.readyState==="loading"){addEventListener("DOMContentLoaded",()=>s(e,t));return}let r=typeof e=="object"&&"tagName"in e;if(r&&e instanceof NodeList)throw TypeError("Relapse: Invalid NodeList selector. Provide string or HTMLElement");if(r){let i=typeof e=="string"?document.body.querySelector(e):e;i!==null&&As(i,ks(t));}else document.body.querySelectorAll(un(e)).forEach(i=>As(i,ks(e)));let n=Ts(D.values());return r?n[n.length-1]:n};he.version=he.each=s=>D.forEach(s);he.has=s=>Os(s)?s:[s].every(D.has);he.get=s=>typeof s=="string"?D.has(s)?D.get(s):null:Os(s)?s.filter(e=>D.has(e)).map(e=>D.get(e)):Ts(D.values());window.relapse||Object.defineProperty(window,"relapse",{get(){return he}});var N=he;var ut=class{constructor(e,t,r){this.eventTarget=e,this.eventName=t,this.eventOptions=r,this.unorderedBindings=new Set;}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions);}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions);}bindingConnected(e){this.unorderedBindings.add(e);}bindingDisconnected(e){this.unorderedBindings.delete(e);}handleEvent(e){let t=dn(e);for(let r of this.bindings){if(t.immediatePropagationStopped)break;r.handleEvent(t);}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{let r=e.index,n=t.index;return r<n?-1:r>n?1:0})}};function dn(s){if("immediatePropagationStopped"in s)return s;{let{stopImmediatePropagation:e}=s;return Object.assign(s,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this);}})}}var ht=class{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1;}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()));}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()));}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e);}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e);}handleError(e,t,r={}){this.application.handleError(e,`Error ${t}`,r);}clearEventListenersForBinding(e){let t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e));}removeMappedEventListenerFor(e){let{eventTarget:t,eventName:r,eventOptions:n}=e,i=this.fetchEventListenerMapForEventTarget(t),a=this.cacheKey(r,n);i.delete(a),i.size==0&&this.eventListenerMaps.delete(t);}fetchEventListenerForBinding(e){let{eventTarget:t,eventName:r,eventOptions:n}=e;return this.fetchEventListener(t,r,n)}fetchEventListener(e,t,r){let n=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,r),a=n.get(i);return a||(a=this.createEventListener(e,t,r),n.set(i,a)),a}createEventListener(e,t,r){let n=new ut(e,t,r);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){let r=[e];return Object.keys(t).sort().forEach(n=>{r.push(`${t[n]?"":"!"}${n}`);}),r.join(":")}},fn={stop({event:s,value:e}){return e&&s.stopPropagation(),!0},prevent({event:s,value:e}){return e&&s.preventDefault(),!0},self({event:s,value:e,element:t}){return e?t===s.target:!0}},pn=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function gn(s){let t=s.trim().match(pn)||[],r=t[2],n=t[3];return n&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${n}`,n=""),{eventTarget:mn(t[4]),eventName:r,eventOptions:t[7]?yn(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||n}}function mn(s){if(s=="window")return window;if(s=="document")return document}function yn(s){return s.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function vn(s){if(s==window)return "window";if(s==document)return "document"}function Vt(s){return s.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function dt(s){return Vt(s.replace(/--/g,"-").replace(/__/g,"_"))}function xe(s){return s.charAt(0).toUpperCase()+s.slice(1)}function Ps(s){return s.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function bn(s){return s.match(/[^\s]+/g)||[]}function Ls(s){return s!=null}function ft(s,e){return Object.prototype.hasOwnProperty.call(s,e)}var $s=["meta","ctrl","alt","shift"],pt=class{constructor(e,t,r,n){this.element=e,this.index=t,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||En(e)||Be("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||Be("missing identifier"),this.methodName=r.methodName||Be("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=n;}static forToken(e,t){return new this(e.element,e.index,gn(e.content),t)}toString(){let e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return `${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return !1;let t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return !0;let r=t.filter(n=>!$s.includes(n))[0];return r?(ft(this.keyMappings,r)||Be(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return !1;let t=[this.keyFilter];return !!this.keyFilterDissatisfied(e,t)}get params(){let e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(let{name:r,value:n}of Array.from(this.element.attributes)){let i=r.match(t),a=i&&i[1];a&&(e[Vt(a)]=wn(n));}return e}get eventTargetName(){return vn(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){let[r,n,i,a]=$s.map(l=>t.includes(l));return e.metaKey!==r||e.ctrlKey!==n||e.altKey!==i||e.shiftKey!==a}},Cs={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:s=>s.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function En(s){let e=s.tagName.toLowerCase();if(e in Cs)return Cs[e](s)}function Be(s){throw new Error(s)}function wn(s){try{return JSON.parse(s)}catch(e){return s}}var gt=class{constructor(e,t){this.context=e,this.action=t;}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){let t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t);}get eventName(){return this.action.eventName}get method(){let e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){let{element:t}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:n}=this.context,i=!0;for(let[a,l]of Object.entries(this.eventOptions))if(a in r){let c=r[a];i=i&&c({name:a,value:l,event:e,element:t,controller:n});}else continue;return i}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){let{target:t,currentTarget:r}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:r,action:this.methodName});}catch(n){let{identifier:i,controller:a,element:l,index:c}=this,h={identifier:i,controller:a,element:l,index:c,event:e};this.context.handleError(n,`invoking action "${this.action}"`,h);}}willBeInvokedByEvent(e){let t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}},Pe=class{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(r=>this.processMutations(r));}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh());}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0);}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1);}refresh(){if(this.started){let e=new Set(this.matchElementsInTree());for(let t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(let t of Array.from(e))this.addElement(t);}}processMutations(e){if(this.started)for(let t of e)this.processMutation(t);}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes));}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e);}processRemovedNodes(e){for(let t of Array.from(e)){let r=this.elementFromNode(t);r&&this.processTree(r,this.removeElement);}}processAddedNodes(e){for(let t of Array.from(e)){let r=this.elementFromNode(t);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement);}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(let r of this.matchElementsInTree(e))t.call(this,r);}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e));}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e));}},De=class{constructor(e,t,r){this.attributeName=t,this.delegate=r,this.elementObserver=new Pe(e,this);}get element(){return this.elementObserver.element}get selector(){return `[${this.attributeName}]`}start(){this.elementObserver.start();}pause(e){this.elementObserver.pause(e);}stop(){this.elementObserver.stop();}refresh(){this.elementObserver.refresh();}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){let t=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return t.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName);}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName);}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t);}};function xn(s,e,t){Ds(s,e).add(t);}function An(s,e,t){Ds(s,e).delete(t),kn(s,e);}function Ds(s,e){let t=s.get(e);return t||(t=new Set,s.set(e,t)),t}function kn(s,e){let t=s.get(e);t!=null&&t.size==0&&s.delete(e);}var J=class{constructor(){this.valuesByKey=new Map;}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t.concat(Array.from(r)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t+r.size,0)}add(e,t){xn(this.valuesByKey,e,t);}delete(e,t){An(this.valuesByKey,e,t);}has(e,t){let r=this.valuesByKey.get(e);return r!=null&&r.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(r=>r.has(e))}getValuesForKey(e){let t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,r])=>r.has(e)).map(([t,r])=>t)}};var mt=class{constructor(e,t,r,n){this._selector=t,this.details=n,this.elementObserver=new Pe(e,this),this.delegate=r,this.matchesByElement=new J;}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh();}start(){this.elementObserver.start();}pause(e){this.elementObserver.pause(e);}stop(){this.elementObserver.stop();}refresh(){this.elementObserver.refresh();}get element(){return this.elementObserver.element}matchElement(e){let{selector:t}=this;if(t){let r=e.matches(t);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(e,this.details):r}else return !1}matchElementsInTree(e){let{selector:t}=this;if(t){let r=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(t)).filter(i=>this.matchElement(i));return r.concat(n)}else return []}elementMatched(e){let{selector:t}=this;t&&this.selectorMatched(e,t);}elementUnmatched(e){let t=this.matchesByElement.getKeysForValue(e);for(let r of t)this.selectorUnmatched(e,r);}elementAttributeChanged(e,t){let{selector:r}=this;if(r){let n=this.matchElement(e),i=this.matchesByElement.has(r,e);n&&!i?this.selectorMatched(e,r):!n&&i&&this.selectorUnmatched(e,r);}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e);}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e);}},yt=class{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(r=>this.processMutations(r));}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh());}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1);}refresh(){if(this.started)for(let e of this.knownAttributeNames)this.refreshAttribute(e,null);}processMutations(e){if(this.started)for(let t of e)this.processMutation(t);}processMutation(e){let t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue);}refreshAttribute(e,t){let r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);let n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,r,t),n==null){let i=this.stringMap.get(e);this.stringMap.delete(e),i&&this.stringMapKeyRemoved(r,e,i);}else this.stringMap.set(e,n);}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t);}stringMapValueChanged(e,t,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,r);}stringMapKeyRemoved(e,t,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,r);}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}},Ie=class{constructor(e,t,r){this.attributeObserver=new De(e,t,this),this.delegate=r,this.tokensByElement=new J;}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start();}pause(e){this.attributeObserver.pause(e);}stop(){this.attributeObserver.stop();}refresh(){this.attributeObserver.refresh();}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e));}elementAttributeValueChanged(e){let[t,r]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(r);}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e));}tokensMatched(e){e.forEach(t=>this.tokenMatched(t));}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t));}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e);}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e);}refreshTokensForElement(e){let t=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),n=Tn(t,r).findIndex(([i,a])=>!Ln(i,a));return n==-1?[[],[]]:[t.slice(n),r.slice(n)]}readTokensForElement(e){let t=this.attributeName,r=e.getAttribute(t)||"";return On(r,e,t)}};function On(s,e,t){return s.trim().split(/\s+/).filter(r=>r.length).map((r,n)=>({element:e,attributeName:t,content:r,index:n}))}function Tn(s,e){let t=Math.max(s.length,e.length);return Array.from({length:t},(r,n)=>[s[n],e[n]])}function Ln(s,e){return s&&e&&s.index==e.index&&s.content==e.content}var je=class{constructor(e,t,r){this.tokenListObserver=new Ie(e,t,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap;}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start();}stop(){this.tokenListObserver.stop();}refresh(){this.tokenListObserver.refresh();}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){let{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).set(e,r),this.delegate.elementMatchedValue(t,r));}tokenUnmatched(e){let{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,r));}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return {value:this.delegate.parseValueForToken(e)}}catch(t){return {error:t}}}},vt=class{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map;}start(){this.valueListObserver||(this.valueListObserver=new je(this.element,this.actionAttribute,this),this.valueListObserver.start());}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions());}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){let t=new gt(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t);}disconnectAction(e){let t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t));}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear();}parseValueForToken(e){let t=pt.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t);}elementUnmatchedValue(e,t){this.disconnectAction(t);}},bt=class{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new yt(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap;}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues();}stop(){this.stringMapObserver.stop();}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){let r=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue));}stringMapValueChanged(e,t,r){let n=this.valueDescriptorNameMap[t];e!==null&&(r===null&&(r=n.writer(n.defaultValue)),this.invokeChangedCallback(t,e,r));}stringMapKeyRemoved(e,t,r){let n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),r):this.invokeChangedCallback(e,n.writer(n.defaultValue),r);}invokeChangedCallbacksForDefaultValues(){for(let{key:e,name:t,defaultValue:r,writer:n}of this.valueDescriptors)r!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,n(r),void 0);}invokeChangedCallback(e,t,r){let n=`${e}Changed`,i=this.receiver[n];if(typeof i=="function"){let a=this.valueDescriptorNameMap[e];try{let l=a.reader(t),c=r;r&&(c=a.reader(r)),i.call(this.receiver,l,c);}catch(l){throw l instanceof TypeError&&(l.message=`Stimulus Value "${this.context.identifier}.${a.name}" - ${l.message}`),l}}}get valueDescriptors(){let{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){let e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{let r=this.valueDescriptorMap[t];e[r.name]=r;}),e}hasValue(e){let t=this.valueDescriptorNameMap[e],r=`has${xe(t.name)}`;return this.receiver[r]}},Et=class{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new J;}start(){this.tokenListObserver||(this.tokenListObserver=new Ie(this.element,this.attributeName,this),this.tokenListObserver.start());}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver);}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t);}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t);}connectTarget(e,t){var r;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetConnected(e,t)));}disconnectTarget(e,t){var r;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetDisconnected(e,t)));}disconnectAllTargets(){for(let e of this.targetsByName.keys)for(let t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e);}get attributeName(){return `data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}};function Ae(s,e){let t=Is(s);return Array.from(t.reduce((r,n)=>(Cn(n,e).forEach(i=>r.add(i)),r),new Set))}function $n(s,e){return Is(s).reduce((r,n)=>(r.push(...Mn(n,e)),r),[])}function Is(s){let e=[];for(;s;)e.push(s),s=Object.getPrototypeOf(s);return e.reverse()}function Cn(s,e){let t=s[e];return Array.isArray(t)?t:[]}function Mn(s,e){let t=s[e];return t?Object.keys(t).map(r=>[r,t[r]]):[]}var wt=class{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new J,this.outletElementsByName=new J,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map;}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e);}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()));}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh());}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers());}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear());}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear());}selectorMatched(e,t,{outletName:r}){let n=this.getOutlet(e,r);n&&this.connectOutlet(n,e,r);}selectorUnmatched(e,t,{outletName:r}){let n=this.getOutletFromMap(e,r);n&&this.disconnectOutlet(n,e,r);}selectorMatchElement(e,{outletName:t}){let r=this.selector(t),n=this.hasOutlet(e,t),i=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return r?n&&i&&e.matches(r):!1}elementMatchedAttribute(e,t){let r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r);}elementAttributeValueChanged(e,t){let r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r);}elementUnmatchedAttribute(e,t){let r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r);}connectOutlet(e,t,r){var n;this.outletElementsByName.has(r,t)||(this.outletsByName.add(r,e),this.outletElementsByName.add(r,t),(n=this.selectorObserverMap.get(r))===null||n===void 0||n.pause(()=>this.delegate.outletConnected(e,t,r)));}disconnectOutlet(e,t,r){var n;this.outletElementsByName.has(r,t)&&(this.outletsByName.delete(r,e),this.outletElementsByName.delete(r,t),(n=this.selectorObserverMap.get(r))===null||n===void 0||n.pause(()=>this.delegate.outletDisconnected(e,t,r)));}disconnectAllOutlets(){for(let e of this.outletElementsByName.keys)for(let t of this.outletElementsByName.getValuesForKey(e))for(let r of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(r,t,e);}updateSelectorObserverForOutlet(e){let t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e));}setupSelectorObserverForOutlet(e){let t=this.selector(e),r=new mt(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,r),r.start();}setupAttributeObserverForOutlet(e){let t=this.attributeNameForOutletName(e),r=new De(this.scope.element,t,this);this.attributeObserverMap.set(e,r),r.start();}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){let e=new J;return this.router.modules.forEach(t=>{let r=t.definition.controllerConstructor;Ae(r,"outlets").forEach(i=>e.add(i,t.identifier));}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){let e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return !!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(r=>r.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}},xt=class{constructor(e,t){this.logDebugActivity=(r,n={})=>{let{identifier:i,controller:a,element:l}=this;n=Object.assign({identifier:i,controller:a,element:l},n),this.application.logDebugActivity(this.identifier,r,n);},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new vt(this,this.dispatcher),this.valueObserver=new bt(this,this.controller),this.targetObserver=new Et(this,this),this.outletObserver=new wt(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize");}catch(r){this.handleError(r,"initializing controller");}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect");}catch(e){this.handleError(e,"connecting controller");}}refresh(){this.outletObserver.refresh();}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect");}catch(e){this.handleError(e,"disconnecting controller");}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop();}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,r={}){let{identifier:n,controller:i,element:a}=this;r=Object.assign({identifier:n,controller:i,element:a},r),this.application.handleError(e,`Error ${t}`,r);}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e);}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e);}outletConnected(e,t,r){this.invokeControllerMethod(`${dt(r)}OutletConnected`,e,t);}outletDisconnected(e,t,r){this.invokeControllerMethod(`${dt(r)}OutletDisconnected`,e,t);}invokeControllerMethod(e,...t){let r=this.controller;typeof r[e]=="function"&&r[e](...t);}};function Nn(s){return Sn(s,Vn(s))}function Sn(s,e){let t=Dn(s),r=Fn(s.prototype,e);return Object.defineProperties(t.prototype,r),t}function Vn(s){return Ae(s,"blessings").reduce((t,r)=>{let n=r(s);for(let i in n){let a=t[i]||{};t[i]=Object.assign(a,n[i]);}return t},{})}function Fn(s,e){return Pn(e).reduce((t,r)=>{let n=Bn(s,e,r);return n&&Object.assign(t,{[r]:n}),t},{})}function Bn(s,e,t){let r=Object.getOwnPropertyDescriptor(s,t);if(!(r&&"value"in r)){let i=Object.getOwnPropertyDescriptor(e,t).value;return r&&(i.get=r.get||i.get,i.set=r.set||i.set),i}}var Pn=typeof Object.getOwnPropertySymbols=="function"?s=>[...Object.getOwnPropertyNames(s),...Object.getOwnPropertySymbols(s)]:Object.getOwnPropertyNames,Dn=(()=>{function s(t){function r(){return Reflect.construct(t,arguments,new.target)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,t),r}function e(){let r=s(function(){this.a.call(this);});return r.prototype.a=function(){},new r}try{return e(),s}catch(t){return r=>class extends r{}}})();function In(s){return {identifier:s.identifier,controllerConstructor:Nn(s.controllerConstructor)}}var At=class{constructor(e,t){this.application=e,this.definition=In(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set;}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){let t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect();}disconnectContextForScope(e){let t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect());}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new xt(this,e),this.contextsByScope.set(e,t)),t}},kt=class{constructor(e){this.scope=e;}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){let t=this.data.get(this.getDataKey(e))||"";return bn(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return `${e}-class`}get data(){return this.scope.data}},Ot=class{constructor(e){this.scope=e;}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){let t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){let r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,t),this.get(e)}has(e){let t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){let t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return !1}getAttributeNameForKey(e){return `data-${this.identifier}-${Ps(e)}`}},Tt=class{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e;}warn(e,t,r){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(t)||(n.add(t),this.logger.warn(r,e));}};function Lt(s,e){return `[${s}~="${e}"]`}var $t=class{constructor(e){this.scope=e;}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findTarget(r)||this.findLegacyTarget(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllTargets(r),...this.findAllLegacyTargets(r)],[])}findTarget(e){let t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){let t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){let t=this.schema.targetAttributeForScope(this.identifier);return Lt(t,e)}findLegacyTarget(e){let t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){let t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(r=>this.deprecate(r,e))}getLegacySelectorForTargetName(e){let t=`${this.identifier}.${e}`;return Lt(this.schema.targetAttribute,t)}deprecate(e,t){if(e){let{identifier:r}=this,n=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${t}`,`Please replace ${n}="${r}.${t}" with ${i}="${t}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`);}return e}get guide(){return this.scope.guide}},Ct=class{constructor(e,t){this.scope=e,this.controllerElement=t;}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findOutlet(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllOutlets(r)],[])}getSelectorForOutletName(e){let t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){let t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){let t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(n=>this.matchesElement(n,e,t))}matchesElement(e,t,r){let n=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&n.split(" ").includes(r)}},Mt=class s{constructor(e,t,r,n){this.targets=new $t(this),this.classes=new kt(this),this.data=new Ot(this),this.containsElement=i=>i.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=r,this.guide=new Tt(n),this.outlets=new Ct(this.documentScope,t);}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return [...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Lt(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new s(this.schema,document.documentElement,this.identifier,this.guide.logger)}},Nt=class{constructor(e,t,r){this.element=e,this.schema=t,this.delegate=r,this.valueListObserver=new je(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap;}start(){this.valueListObserver.start();}stop(){this.valueListObserver.stop();}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){let{element:t,content:r}=e;return this.parseValueForElementAndIdentifier(t,r)}parseValueForElementAndIdentifier(e,t){let r=this.fetchScopesByIdentifierForElement(e),n=r.get(t);return n||(n=this.delegate.createScopeForElementAndIdentifier(e,t),r.set(t,n)),n}elementMatchedValue(e,t){let r=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,r),r==1&&this.delegate.scopeConnected(t);}elementUnmatchedValue(e,t){let r=this.scopeReferenceCounts.get(t);r&&(this.scopeReferenceCounts.set(t,r-1),r==1&&this.delegate.scopeDisconnected(t));}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}},St=class{constructor(e){this.application=e,this.scopeObserver=new Nt(this.element,this.schema,this),this.scopesByIdentifier=new J,this.modulesByIdentifier=new Map;}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start();}stop(){this.scopeObserver.stop();}loadDefinition(e){this.unloadIdentifier(e.identifier);let t=new At(this.application,e);this.connectModule(t);let r=e.controllerConstructor.afterLoad;r&&r.call(e.controllerConstructor,e.identifier,this.application);}unloadIdentifier(e){let t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t);}getContextForElementAndIdentifier(e,t){let r=this.modulesByIdentifier.get(t);if(r)return r.contexts.find(n=>n.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){let r=this.scopeObserver.parseValueForElementAndIdentifier(e,t);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e);}handleError(e,t,r){this.application.handleError(e,t,r);}createScopeForElementAndIdentifier(e,t){return new Mt(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e);}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);let t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e);}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.connectContextForScope(r));}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.disconnectContextForScope(r));}},jn={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:s=>`data-${s}-target`,outletAttributeForScope:(s,e)=>`data-${s}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Ms("abcdefghijklmnopqrstuvwxyz".split("").map(s=>[s,s]))),Ms("0123456789".split("").map(s=>[s,s])))};function Ms(s){return s.reduce((e,[t,r])=>Object.assign(Object.assign({},e),{[t]:r}),{})}var qe=class{constructor(e=document.documentElement,t=jn){this.logger=console,this.debug=!1,this.logDebugActivity=(r,n,i={})=>{this.debug&&this.logFormattedMessage(r,n,i);},this.element=e,this.schema=t,this.dispatcher=new ht(this),this.router=new St(this),this.actionDescriptorFilters=Object.assign({},fn);}static start(e,t){let r=new this(e,t);return r.start(),r}start(){return Pt(this,null,function*(){yield qn(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start");})}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop");}register(e,t){this.load({identifier:e,controllerConstructor:t});}registerActionOption(e,t){this.actionDescriptorFilters[e]=t;}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n);});}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(n=>this.router.unloadIdentifier(n));}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){let r=this.router.getContextForElementAndIdentifier(e,t);return r?r.controller:null}handleError(e,t,r){var n;this.logger.error(`%s

%o

%o`,t,e,r),(n=window.onerror)===null||n===void 0||n.call(window,t,"",0,0,e);}logFormattedMessage(e,t,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd();}};function qn(){return new Promise(s=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>s()):s();})}function Rn(s){return Ae(s,"classes").reduce((t,r)=>Object.assign(t,Kn(r)),{})}function Kn(s){return {[`${s}Class`]:{get(){let{classes:e}=this;if(e.has(s))return e.get(s);{let t=e.getAttributeName(s);throw new Error(`Missing attribute "${t}"`)}}},[`${s}Classes`]:{get(){return this.classes.getAll(s)}},[`has${xe(s)}Class`]:{get(){return this.classes.has(s)}}}}function Hn(s){return Ae(s,"outlets").reduce((t,r)=>Object.assign(t,Wn(r)),{})}function Ns(s,e,t){return s.application.getControllerForElementAndIdentifier(e,t)}function Ss(s,e,t){let r=Ns(s,e,t);if(r||(s.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),r=Ns(s,e,t),r))return r}function Wn(s){let e=dt(s);return {[`${e}Outlet`]:{get(){let t=this.outlets.find(s),r=this.outlets.getSelectorForOutletName(s);if(t){let n=Ss(this,t,s);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${s}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${s}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}Outlets`]:{get(){let t=this.outlets.findAll(s);return t.length>0?t.map(r=>{let n=Ss(this,r,s);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${s}" instance for host controller "${this.identifier}"`,r);}).filter(r=>r):[]}},[`${e}OutletElement`]:{get(){let t=this.outlets.find(s),r=this.outlets.getSelectorForOutletName(s);if(t)return t;throw new Error(`Missing outlet element "${s}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(s)}},[`has${xe(e)}Outlet`]:{get(){return this.outlets.has(s)}}}}function zn(s){return Ae(s,"targets").reduce((t,r)=>Object.assign(t,Un(r)),{})}function Un(s){return {[`${s}Target`]:{get(){let e=this.targets.find(s);if(e)return e;throw new Error(`Missing target element "${s}" for "${this.identifier}" controller`)}},[`${s}Targets`]:{get(){return this.targets.findAll(s)}},[`has${xe(s)}Target`]:{get(){return this.targets.has(s)}}}}function Xn(s){let e=$n(s,"values"),t={valueDescriptorMap:{get(){return e.reduce((r,n)=>{let i=js(n,this.identifier),a=this.data.getAttributeNameForKey(i.key);return Object.assign(r,{[a]:i})},{})}}};return e.reduce((r,n)=>Object.assign(r,Yn(n)),t)}function Yn(s,e){let t=js(s,e),{key:r,name:n,reader:i,writer:a}=t;return {[n]:{get(){let l=this.data.get(r);return l!==null?i(l):t.defaultValue},set(l){l===void 0?this.data.delete(r):this.data.set(r,a(l));}},[`has${xe(n)}`]:{get(){return this.data.has(r)||t.hasCustomDefaultValue}}}}function js([s,e],t){return Zn({controller:t,token:s,typeDefinition:e})}function Re(s){switch(s){case Array:return "array";case Boolean:return "boolean";case Number:return "number";case Object:return "object";case String:return "string"}}function we(s){switch(typeof s){case"boolean":return "boolean";case"number":return "number";case"string":return "string"}if(Array.isArray(s))return "array";if(Object.prototype.toString.call(s)==="[object Object]")return "object"}function _n(s){let{controller:e,token:t,typeObject:r}=s,n=Ls(r.type),i=Ls(r.default),a=n&&i,l=n&&!i,c=!n&&i,h=Re(r.type),T=we(s.typeObject.default);if(l)return h;if(c)return T;if(h!==T){let g=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${g}" must match the defined type "${h}". The provided default value of "${r.default}" is of type "${T}".`)}if(a)return h}function Jn(s){let{controller:e,token:t,typeDefinition:r}=s,i=_n({controller:e,token:t,typeObject:r}),a=we(r),l=Re(r),c=i||a||l;if(c)return c;let h=e?`${e}.${r}`:t;throw new Error(`Unknown value type "${h}" for "${t}" value`)}function Gn(s){let e=Re(s);if(e)return Vs[e];let t=ft(s,"default"),r=ft(s,"type"),n=s;if(t)return n.default;if(r){let{type:i}=n,a=Re(i);if(a)return Vs[a]}return s}function Zn(s){let{token:e,typeDefinition:t}=s,r=`${Ps(e)}-value`,n=Jn(s);return {type:n,key:r,name:Vt(r),get defaultValue(){return Gn(t)},get hasCustomDefaultValue(){return we(t)!==void 0},reader:Qn[n],writer:Fs[n]||Fs.default}}var Vs={get array(){return []},boolean:!1,number:0,get object(){return {}},string:""},Qn={array(s){let e=JSON.parse(s);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${s}" of type "${we(e)}"`);return e},boolean(s){return !(s=="0"||String(s).toLowerCase()=="false")},number(s){return Number(s.replace(/_/g,""))},object(s){let e=JSON.parse(s);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${s}" of type "${we(e)}"`);return e},string(s){return s}},Fs={default:ei,array:Bs,object:Bs};function Bs(s){return JSON.stringify(s)}function ei(s){return `${s}`}var C=class{constructor(e){this.context=e;}static get shouldLoad(){return !0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:r={},prefix:n=this.identifier,bubbles:i=!0,cancelable:a=!0}={}){let l=n?`${n}:${e}`:e,c=new CustomEvent(l,{detail:r,bubbles:i,cancelable:a});return t.dispatchEvent(c),c}};C.blessings=[Rn,zn,Xn,Hn];C.targets=[];C.outlets=[];C.values={};var de=class extends C{static connect(e){let t=qe.start();for(let r in e)t.register(r.toLowerCase(),e[r]);}get html(){return this.application.element}get dom(){return this.application.element.lastElementChild}controller(e,t){return this.application.controllers.find(({context:r})=>t?r.identifier===e&&r.element.id===t:r.identifier===e)}};var v=function(s){if(Array.isArray(s))return s.forEach(v);if(!("id"in s)){for(let r of ["onenter","onexit","oninit","onresize"])if(r in s)throw new Error('qvp: Missing an "id" reference');return Object.entries(s).forEach(([r,n])=>{let i=typeof s[r];if(i==="string")return v({id:r,query:n});throw new TypeError(`qvp: Invalid query type. Expected "string" received "${i}"`)})}let e=ti(s),{id:t}=e.screen;v.viewports.size||addEventListener("resize",qs(()=>{v.viewports.forEach(r=>{r.screen.active&&r.onresize(window.innerWidth);});},25),!0),v.viewports.has(t)?console.warn(`qvp: The id "${t}" is already defined, use qvp.add() instead.`):v.viewports.set(t,e);};v.viewports=new Map;Object.defineProperty(v,"isTouch",{get(){return "ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}});v.get=s=>v.viewports.has(s)?v.viewports.get(s):!1;v.add=(s,e)=>{let t=v.get(s);if(t===!1)return console.error(`qvp: There is no viewport using an id of "${s}"`);He(e,t.screen),t.screen.test.matches&&t.onenter();};v.off=(s,e)=>{let t=v.get(s.split(":")[0]);if(t===!1||!(s in t.events))return;let r=t.events[s].length;if(typeof e=="number")e<=r-1&&t.events[s].splice(e,1);else if(typeof e=="function"){let n=[];for(let i=0;i<r;i++)t.events[s][i]!==e&&n.push(t.events[s][i]);n.length>0&&(t.events[s]=n);}else delete t.events[s];};v.on=(s,e,t)=>{let[r,n]=s.split(":"),i=v.get(r);if(i===!1)return;s in i.events||(i.events[s]=[]);let a=t?e.bind(t):e;return a["qvp:event"]=i.events[s].length,i.events[s].push(a),i.screen.test.matches?n==="oninit"?a.call():(n==="onenter"&&a.call(),He({[n]:a},i.screen)):He({[n]:a},i.screen),a["qvp:event"]};v.list=s=>{let e=Array.from(v.viewports.values()).map(({screen:t})=>t);return s?e.filter(({id:t})=>s.includes(t)):e};v.active=s=>{let e=v.list();if(s){let r=v.get(s);return r?r.screen.active:!1}let t=e.filter(({active:r})=>r===!0);return t.length>1?t:t[0]};v.test=(s,e=",")=>typeof s=="string"?s.indexOf(e)>-1?s.split(e).some(v.active):!!v.active(s):s.some(v.active);v.remove=s=>{v.viewports.has(s)&&(v.viewports.get(s).destroy(),v.viewports.delete(s));};v.destroy=()=>{removeEventListener("resize",qs()),v.viewports.forEach(s=>s.destroy()),v.viewports.clear();};v.screens=()=>{throw Error("qvp: The qvp.screens() is deprecated, use the default import, e.g: qvp(...)")};function qs(s,e){let t=e;return function(){let r=()=>{t=null,s.apply(this,arguments);};t&&cancelAnimationFrame(t),t=requestAnimationFrame(r);}}function He(s,e){typeof s.onenter=="function"&&("qvp:event"in s.onenter||(s.onenter["qvp:event"]=NaN),e.onenter.add(s.onenter)),typeof s.onexit=="function"&&("qvp:event"in s.onexit||(s.onexit["qvp:event"]=NaN),e.onexit.add(s.onexit)),typeof s.onresize=="function"&&("qvp:event"in s.onresize||(s.onresize["qvp:event"]=NaN),e.onresize.add(s.onresize)),typeof s.oninit=="function"&&("qvp:event"in s.oninit||(s.oninit["qvp:event"]=NaN),e.oninit.add(s.oninit));}function Ke(s,...e){let t=v.get(s.split(":")[0]);if(t!==!1&&s in t.events)for(let r=0;r<t.events[s].length&&(t.events[s][r].apply(null,e),s.endsWith(":oninit")&&v.off(s,r),s in t.events);r++);}function ti(s){let e=s.query||"all",t={id:s.id,query:e,active:!1,test:matchMedia(e),onenter:new Set,onexit:new Set,onresize:new Set,oninit:new Set,events:Object.create(null)};He(s,t);let r=()=>{t.oninit.size>0&&(t.oninit.forEach(c=>!isNaN(c["qvp:event"])||c()),Ke(`${s.id}:oninit`),t.oninit.clear()),t.onenter.forEach(c=>!isNaN(c["qvp:event"])||c()),Ke(`${s.id}:onenter`),t.active=!0;},n=()=>{t.onexit.forEach(c=>!isNaN(c["qvp:event"])||c()),Ke(`${s.id}:onexit`),t.active=!1;},i=c=>{t.onresize.forEach(h=>!isNaN(h["qvp:event"])||h()),Ke(`${s.id}:onresize`,c);},a=({matches:c})=>c?r():n(),l=()=>{for(let c in t.events)delete t.events[c];t.test.removeEventListener("change",a);};return t.test.addEventListener("change",a),t.test.matches&&r(),{onenter:r,onexit:n,onresize:i,destroy:l,get screen(){return t},get events(){return t.events}}}var Rs=v;var R=class R extends de{constructor(){super(...arguments);this.transition=t=>{if(t.propertyName==="transform"){if(this.hasShiftValue)for(let r of this.shifts)r.classList.contains(this.shiftClass)&&(r.classList.remove(this.shiftClass),r.style.removeProperty("transform"));this.hasBackdropClass&&this.backdrop.classList.contains(this.backdropClass)&&this.backdrop.classList.remove(this.backdropClass),this.modeValue==="pull"?this.shifts.item(0).removeEventListener(t.type,this.transition):this.target.removeEventListener(t.type,this.transition);}};this.outsideClick=t=>{t.target!==this.target&&(this.close(),document.documentElement.removeEventListener("click",this.outsideClick,!1));};this.toggle=t=>(t&&t.preventDefault(),this.isOpenValue=!this.isOpenValue,this.isOpenValue?this.open():this.close(),this.isOpenValue?this.open():this.close());this.touchMove=t=>{this.isOpenValue&&this.target.scrollHeight<=this.target.clientHeight&&t.preventDefault();};this.keyboard=t=>{switch(t.code){case"Esc":case"Escape":this.close();break}};}get backdrop(){return R.backdrop}get directionClass(){return `drawer-${this.directionValue}`}get shiftClass(){return `drawer-${this.modeValue}`}get shifts(){return document.documentElement.querySelectorAll(this.shiftValue)}get buttons(){return document.documentElement.querySelectorAll(`[data-drawer="${this.target.id}"]`)}initialize(){R.backdrop||(R.backdrop=document.createElement("div"),R.backdrop.className="drawer-backdrop",R.backdrop.setAttribute("spx-morph","false")),this.useParentValue?(this.target=this.element.parentElement,this.target.ariaHidden="true"):this.target=this.element,this.target.classList.contains("d-none")&&this.target.classList.remove("d-none"),this.modeValue!=="overlay"&&this.hasShiftValue===!1&&console.error('Missing "data-drawer-shift-value" defintions on:',this.target),ue.on("load",this.onLoad,this);}connect(){for(let t of this.buttons)t.addEventListener("click",this.toggle);document.documentElement.contains(R.backdrop)===!1&&document.documentElement.appendChild(R.backdrop),this.hasWidthValue&&this.target.style.setProperty("width",this.widthValue),this.hasHeightValue&&this.target.style.setProperty("height",this.heightValue),this.hasDirectionValue&&this.target.classList.contains(this.directionClass)===!1&&this.target.classList.add(this.directionClass),this.modeValue==="pull"&&(this.target.style.setProperty("transform","translateX(0)"),this.target.style.setProperty("z-index","0")),this.html.classList.contains("drawer-open")&&this.html.classList.remove("drawer-open");}disconnect(){}onLoad(){this.isOpenValue&&(Rs.test(["lg","xl","xxl"])?this.close():setTimeout(this.close.bind(this),250));}open(){this.target.classList.contains("drawer-active")||this.target.classList.add("drawer-active"),this.hasBackdropClass&&!this.backdrop.classList.contains(this.backdropClass)&&this.backdrop.classList.add(this.backdropClass),this.bodyScrollValue===!1&&document.documentElement.style.setProperty("overflow","hidden"),this.hasShiftValue&&this.shiftNodes(),this.hasWidthValue&&(this.directionValue==="top"?this.backdrop.style.setProperty("transform",`translateY(-${this.offsetValue})`):this.backdrop.style.setProperty("transform",`translateX(${this.widthValue})`)),this.html.classList.add("drawer-open"),this.backdrop.addEventListener("click",this.toggle,{once:!0}),this.target.addEventListener("touchstart",this.touchStart,{passive:!0}),this.target.ariaHidden="false";}close(){this.isOpenValue&&(this.isOpenValue=!1),this.hasWidthValue&&this.backdrop.style.removeProperty("transform"),this.bodyScrollValue===!1&&document.documentElement.style.removeProperty("overflow"),this.hasShiftValue?this.shiftNodes():this.target.addEventListener("transitionend",this.transition),this.html.classList.remove("drawer-open"),this.target.removeEventListener("touchstart",this.touchStart),this.backdrop.removeEventListener("click",this.toggle),this.target.classList.remove("drawer-active"),this.target.ariaHidden="true";}shiftNodes(){this.modeValue==="pull"?(this.target.style.setProperty("transform","translateX(0)"),this.target.style.setProperty("z-index","0"),this.isOpenValue===!1&&this.shifts.item(0).addEventListener("transitionend",this.transition)):this.isOpenValue===!1&&this.target.addEventListener("transitionend",this.transition);for(let t of this.shifts)this.isOpenValue?(t.classList.contains(this.shiftClass)||t.classList.add(this.shiftClass),this.hasWidthValue&&(this.directionValue==="left"||this.directionValue==="right")?t.style.setProperty("transform",`translateX(${this.widthValue})`):this.hasHeightValue&&(this.directionValue==="top"||this.directionValue==="bottom")&&t.style.setProperty("transform",`translateY(${this.heightValue})`)):this.hasWidthValue&&(this.directionValue==="left"||this.directionValue==="right")?t.style.setProperty("transform","translateX(0)"):this.hasHeightValue&&(this.directionValue==="top"||this.directionValue==="bottom")&&t.style.setProperty("transform","translateY(0)");}touchStart({target:t}){if(t instanceof HTMLElement){let{scrollTop:r,offsetHeight:n}=t,i=r+n;r===0?t.scrollTop=1:i===r&&(t.scrollTop=r-1);}}};R.values={outsideClick:Boolean,height:String,width:String,offset:String,direction:String,shift:String,redraw:String,useParent:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},bodyScroll:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!0},mode:{type:String,default:"overlay"}},R.targets=["mount"],R.classes=["backdrop"];var We=R;var fe=class extends C{toggle({target:e}){this.openValue=+e.getAttribute("data-index");for(let t of this.btnTargets)t.classList.remove("active");for(let t of this.tabTargets)t.classList.remove("d-block"),t.classList.add("d-none");this.btnTargets[this.openValue].classList.add("active"),this.tabTargets[this.openValue].classList.remove("d-none"),this.tabTargets[this.openValue].classList.add("d-block");}};fe.targets=["tab","btn"],fe.values={open:{default:0,type:Number}};var pe=class extends C{connect(){this.methods=N(this.relapseTarget,{multiple:!0,persist:!1}),this.methods.on("toggle",e=>{e.expanded?this.collapse({params:{fold:e.index}}):this.expand({params:{fold:e.index}});});}expand({params:e}){this.methods.expand(e.fold),this.openerTargets[e.fold].classList.add("disabled"),this.openerTargets[e.fold].classList.remove("active"),this.closerTargets[e.fold].classList.remove("disabled"),this.closerTargets[e.fold].classList.add("active");}collapse({params:e}){this.methods.collapse(e.fold),this.openerTargets[e.fold].classList.remove("disabled"),this.closerTargets[e.fold].classList.remove("active"),this.closerTargets[e.fold].classList.add("disabled");}disable({params:e}){this.methods.expand(e.fold);}};pe.targets=["relapse","opener","closer"],pe.values={open:{default:0,type:Number}};var ge=class extends C{constructor(){super(...arguments);this.colors=["fc-cyan","fc-pink","fc-purple","fc-green"];}connect(){this.relapse=N(this.relapseTarget),this.relapse.on("focus",this.focus,this),this.relapse.on("collapse",this.collapse,this),this.relapse.on("expand",this.expand,this),this.relapse.on("toggle",this.toggle,this);}insert(t,r){this.countValue+=1;let n=document.createElement("div");n.className=`d-block pb-1 message ${this.colors[r]}`,n.ariaLabel=`${this.countValue}`,n.innerText=t,this.logTarget.appendChild(n),this.logTarget.scrollTop=this.logTarget.scrollHeight;}toggle(t){this.insert(`Fold at index ${t.index} was toggled and will ${t.expanded?"collapse":"expand"}`,t.index);}focus(t){this.insert(`Fold at index ${t.index} was focused and will ${t.expanded?"collapse":"expand"}`,t.index);}collapse(t){this.insert(`Fold at index ${t.index} was collapsed and is closed`,t.index);}expand(t){this.insert(`Fold at index ${t.index} was expanded and is open`,t.index);}};ge.targets=["relapse","log"],ge.values={count:{default:0,type:Number}};var ne=class extends C{connect(){}disconnect(){}inViewport(){let e=this.collapseTarget.getBoundingClientRect();for(let{element:t,folds:r}of N.get())if(t.id===this.accordionValue){e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)||r.find(n=>n.expanded===!0).close();break}}toggle(e){if(e.stopPropagation(),this.element.classList.contains("is-open"))return this.close();this.collapseValue="opened",this.element.classList.add("is-open"),this.buttonTarget.classList.remove("selected"),this.hasAccordionValue&&this.inViewport(),addEventListener("click",this.outsideClick.bind(this));}outsideClick(e){this.buttonTarget!==e.target&&this.collapseTarget!==e.target&&this.element.classList.contains("is-open")&&this.close();}close(){this.element.classList.remove("is-open"),this.collapseValue==="selected"||this.hasSelectedValue?(this.element.classList.add("selected"),this.collapseValue="selected"):this.collapseValue="closed",removeEventListener("click",this.outsideClick),this.buttonTarget.focus();}select({target:e}){e.checked=!0,this.selectedValue=e.value,this.buttonTarget.innerText=e.getAttribute("aria-label"),this.collapseValue="selected";for(let t of this.element.getElementsByTagName("label"))t.getAttribute("for")===e.id?t.classList.contains("selected")||t.classList.add("selected"):t.classList.contains("selected")&&t.classList.remove("selected");this.close();}option(e){if(e.target instanceof HTMLElement){if(e.currentTarget instanceof HTMLElement){let[t]=e.currentTarget.getElementsByClassName("selected");t&&(this.selectedValue=t.id);}e.currentTarget instanceof HTMLElement,this.hasRequiredValue&&(this.buttonTarget.classList.contains("is-invalid")&&this.buttonTarget.classList.remove("is-invalid"),this.requiredValue=!1,this.buttonTarget.classList.add("selected")),this.kindValue==="preset"?(this.selectedValue=`Preset (${e.target.textContent.trim()})`,this.buttonTarget.innerHTML=`Preset (${e.target.textContent.trim()})<span class="icon"></span>`):(this.selectedValue=e.target.textContent,this.buttonTarget.textContent=e.target.textContent);for(let t of this.collapseTarget.children)t.id!==e.target.id?t.classList.remove("selected"):t.classList.add("selected");this.collapseValue="selected",this.toggle(e);}}};ne.values={selected:String,form:String,accordion:String,kind:String,required:{type:Boolean,default:!1},collapse:{type:String,default:"closed"},type:{type:String,default:"dropdown"}},ne.targets=["collapse","button","placeholder","input","viewport"],ne.classes=["selected","disabled","invalid"];ue.connect({targets:["#main",".spx"],render:"morph"})(function(){de.connect({Tabs:fe,Drawer:We,Methods:pe,Events:ge,Dropdown:ne}),N();});ue.on("visit",()=>{window.relapse.each((s,e)=>{e.startsWith("/")||s.destroy();});});ue.on("load",s=>{if(N(),s.key.startsWith("/relapse/usage/styling")===!1){let e=N.get("/relapse/usage/styling");e.openCount!==0&&e.collapse();}else N.get("/relapse/usage/styling").expand(0);if(s.key.startsWith("/relapse/api")===!1){let e=N.get("/relapse/api");e.openCount!==0&&e.collapse();}else N.get("/relapse/api").expand(0);if(s.key.startsWith("/relapse/usage")===!1){let e=N.get("/relapse/usage");e.openCount!==0&&e.collapse();}else N.get("/relapse/usage").expand(0);});

})();
